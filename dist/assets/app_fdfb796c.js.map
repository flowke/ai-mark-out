{"version":3,"sources":["webpack:///app_fdfb796c.js","webpack:///./src/components/drawingBoard/BoardRedux.js","webpack:///./src/components/drawingBoard/Board.js","webpack:///./src/components/funcButtons/FuncButtons.js","webpack:///./src/components/photoGallery/PhotoGallery.js","webpack:///./src/components/property/Property.js","webpack:///./src/components/toolBox/ToolBox.js","webpack:///./src/reduxes/configureStore.js","webpack:///./src/app.js","webpack:///./src/components/drawingBoard/ClosedPrompt.js","webpack:///./src/components/drawingBoard/PaintingGroup.js","webpack:///./src/components/funcButtons/FuncButtonsRedux.js","webpack:///./src/components/photoGallery/Img.js","webpack:///./src/components/property/tag.js","webpack:///./src/reduxes/reducers.js","webpack:///./~/history/DOMUtils.js","webpack:///./~/history/createBrowserHistory.js","webpack:///./src/common/util/Util.js","webpack:///./src/common/img/1.jpg","webpack:///./src/common/img/2.jpg","webpack:///./src/common/img/3.jpg","webpack:///./src/common/img/4.jpg","webpack:///./src/common/img/5.jpg","webpack:///./src/components/photoGallery/PhotoGalleryRedux.js","webpack:///./src/reduxes/InitPhotosRedux.js","webpack:///./src/common/util/KonvaUtil.js","webpack:///./src/components/drawingBoard/PaintingLayer.js","webpack:///./src/components/property/PropertyRedux.js","webpack:///./src/components/toolBox/ToolBoxRedux.js","webpack:///./src/reduxes/StageRedux.js","webpack:///./src/components/drawingBoard/style.scss","webpack:///./src/components/property/style.scss"],"names":["webpackJsonp","12","module","exports","__webpack_require__","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","paintingBoard","state","arguments","undefined","initState","action","type","curtPhotoID","curtTagID","pointX","pointY","flag","calcParm","pointIndx","isFill","selectedTagID","layerID","tagName","holdingLayerID","attrs","shapeType","evoScale","pointPos","offsetDistenceArr","specTag","layerGroup","_layerGroup","layers","ADD_TEMP_LAYER","color","_konva2","default","Util","getRandomColor","tempLayerID","Math","random","_extends","id","points","actualPoints","fill","closed","firstSpotHit","lineColor","overPointIndex","shape","firstTimeNewPoint","everDone","curtTag","selectedTag","ADD_SPOT","map","layer","concat","x","y","CLOSE_LINE","FIX_POINT_STATE","FIX_SHAPE_FILL","SELECT_A_SHAPE","POINT_MOVE","pt","FIX_POINT_POSITION","_ref2","UNDO","pop","FIRST_TIME_UNCLOSE","deleteIndex","forEach","splice","OUT_FIRST_TIME","DELETE_SHAPE","shouldDeleteIndex","ALTER_SHAPE","FIX_LAYER_HOLD","MOVE_A_SHAPE","point","fixLayerHold","alterShapeState","alterShape","deleteShape","moveShape","selectShape","fixShapeFill","outFirstTime","fistTimeUnclose","redoAPoint","fixPointPosition","pointMove","fixFirstSpotHit","closeLine","addSpot","addTempLayer","assign","target","source","prototype","hasOwnProperty","call","_konva","__esModule","_Util","dispatch","curtPhoto","getState","_getState$paintingBoa","hintFinish","_getState$paintingBoa2","_getState$paintingBoa3","_getState$paintingBoa4","_getState$stage","stage","width","preWidth","height","preHeight","_getState$paintingBoa5","_getState$paintingBoa6","_getState$paintingBoa7","isDepend","finishFirst","_ref","_ref$tagName","_ref$layerID","_ref$attrs","_ref$isDelete","isDelete","_ref$isDone","isDone","122","KV","Component","React","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_reactRedux","_redux","_PaintingGroup","_PaintingGroup2","_PaintingLayer","_BoardRedux","actionCreators","newObj","_KV","Board","Stage","Layer","Circle","Line","Image","_Component","this","_this","getPrototypeOf","image","url","_this2","imgObj","window","onload","setState","src","nProps","loadImage","_props","actions","layersGroup","createElement","className","ref","connect","photosData","bindActionCreators","123","_jsx","REACT_ELEMENT_TYPE","Symbol","for","children","defaultProps","childrenLength","propName","childArray","$$typeof","_owner","_FuncButtonsRedux","FuncButtons","124","_Img","_Img2","_PhotoGalleryRedux","PhotoGallery","switchPhoto","onClick","ev","photo","active","125","_style","_style2","_tag","_tag2","Property","tags","_paintingBoard$curtPh","showData","126","_interopRequireWildcard","_ToolBoxRedux","toolActions","_StageRedux","stageActions","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","ToolBox","changeShape","adaptStage","incrementStage","decrementStage","127","configureStore","createStore","reducer","compose","applyMiddleware","_reduxThunk2","routerML","history","_reactRouterRedux","_createBrowserHistory","_createBrowserHistory2","_reducers","_reducers2","_reduxThunk","routerMiddleware","combineReducers","router","128","129","130","131","ReactDOM","_reactRouter","_configureStore","_configureStore2","_FuncButtons","_Board","_Board2","_PhotoGallery","_PhotoGallery2","_ToolBox","_ToolBox2","_Property","_Property2","_InitPhotosRedux","store","App","render","Provider","ConnectedRouter","Route","path","component","document","getElementById","132","ClosedPrompt","tagNameVal","holdingLayer","attrVal","tagNameChange","bind","done","deleted","preventDefault","stopPropagation","Number","alert","_props2","_state","_props3","cancel","_holdingLayer$points$","left","top","closedPrompt","style","placeholder","onChange","area","cols","rows","133","_KonvaUtil","_ClosedPrompt","_ClosedPrompt2","_PaintingLayer2","PaintingGroup","prompt","data","stageWidth","stageHeight","getPointerPosition","mark","clickTime","refs","getStage","_props$layersGroup","reduce","accu","elt","_getPointerPosition","nextProps","bodyInfo","imgWidth","imgHeight","_drawImgCenter","drawImgCenter","w","h","scale","curtlayer","selectedLayer","selectedLayerIndx","tempArr","position","overflow","onMouseDown","onMouseMove","_getPointerPosition2","134","135","Img","shouldFinish","136","Tag","onDoubleClick","onMouseOver","onMouseOut","137","_BoardRedux2","_PhotoGalleryRedux2","_InitPhotosRedux2","_StageRedux2","_PropertyRedux","_PropertyRedux2","_ToolBoxRedux2","tagsBoard","151","canUseDOM","addEventListener","node","event","listener","attachEvent","removeEventListener","detachEvent","getConfirmation","message","callback","confirm","supportsHistory","ua","navigator","userAgent","indexOf","supportsPopStateOnHashChange","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","152","_typeof","iterator","_warning","_warning2","_invariant","_invariant2","_LocationUtils","_PathUtils","_createTransitionManager","_createTransitionManager2","_DOMUtils","getHistoryState","e","createBrowserHistory","globalHistory","canUseHistory","needsHashChangeListener","_props$forceRefresh","forceRefresh","_props$getUserConfirm","getUserConfirmation","_props$keyLength","keyLength","basename","stripTrailingSlash","addLeadingSlash","getDOMLocation","historyState","_window$location","location","pathname","search","hash","hasBasename","stripBasename","createLocation","createKey","toString","substr","transitionManager","nextState","notifyListeners","handlePopState","handlePop","handleHashChange","forceNextPop","confirmTransitionTo","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","initialLocation","createHref","createPath","push","href","pushState","prevIndex","nextKeys","slice","replace","replaceState","n","goBack","goForward","listenerCount","checkDOMListeners","isBlocked","block","unblock","setPrompt","listen","unlisten","appendListener","16","curt","265","p","266","267","268","269","41","SWITCH_PHOTO","64","addPhotos","imgArr","LOAD_IMAGE","photos","imgData","66","fitStageIntoParentContainer","container","containerWidth","offsetWidth","draw","imgW","imgH","cvsW","cvsH","res","getRectToImg","currentX","currentY","result","disW","disT","67","PaintingLayer","Canvas","Group","curtCircle","canvas","linePoints","pointsComp","radius","stroke","strokeWidth","draggable","onDragMove","_ev$target$attrs","dragBoundFunc","offsetDistence","lineJoin","listening","pos","onMouseUp","onDblClick","opacity","68","switchTag","SWITCH_TAG","tag","tagsGroup","ADD_TAG","_tagsGroup","addTag","69","CHANGE_SHAPE","70","ADAPT_STAGE","INCREMENT_STAGE","DECREMENT_STAGE","_getState$stage2","_getState$stage3","72","73"],"mappings":"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","file":"app_fdfb796c.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fixLayerHold = exports.alterShapeState = exports.alterShape = exports.deleteShape = exports.moveShape = exports.selectShape = exports.fixShapeFill = exports.outFirstTime = exports.fistTimeUnclose = exports.redoAPoint = exports.fixPointPosition = exports.pointMove = exports.fixFirstSpotHit = exports.closeLine = exports.addSpot = exports.addTempLayer = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = paintingBoard;\n\nvar _konva = __webpack_require__(80);\n\nvar _konva2 = _interopRequireDefault(_konva);\n\nvar _redux = __webpack_require__(7);\n\nvar _PropertyRedux = __webpack_require__(68);\n\nvar _KonvaUtil = __webpack_require__(66);\n\nvar _Util = __webpack_require__(16);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar ADD_TEMP_LAYER = \"ADD_LAYER\";\n\nvar UNDO = \"CANCLE_A_POINT\";\nvar NEXT = \"REDO_A_POINT\";\nvar ADD_SPOT = \"ADD_SPOT\";\nvar CLOSE_LINE = \"CLOSE_LINE\";\nvar FIX_POINT_STATE = \"FIX_POINT_STATE\";\nvar POINT_MOVE = \"POINT_MOVE\";\nvar OUT_FIRST_TIME = \"OUT_FIRST_TIME\";\nvar MOVE_A_SHAPE = \"MOVE_A_SHAPE\";\nvar FIX_SHAPE_FILL = \"FIX_SHAPE_FILL\";\nvar SELECT_A_SHAPE = \"SELECT_A_SHAPE\";\nvar ALTER_SHAPE = \"ALTER_SHAPE\";\nvar DELETE_SHAPE = \"DELETE_SHAPE\";\nvar FIX_LAYER_HOLD = \"FIX_LAYER_HOLD\";\nvar FIX_POINT_POSITION = \"FIX_POINT_POSITION\";\nvar FIRST_TIME_UNCLOSE = \"FIRST_TIME_UNCLOSE\";\n\n// let initState = {\n//     curtPhotoID: layerGroup\n// };\n\n// layerGroup : {\n//     curtTagID: layer\n// }\n// layer : {\n//\n//     id: 0,\n//     points: [],\n//     actualPoints: [],\n//     fill: null,\n//     closed: false,\n//     firstSpotHit: false\n//\n// }\n\n\nvar initState = {};\n\nvar addTempLayer = exports.addTempLayer = function addTempLayer(curtPhotoID) {\n    return function (dispatch, state) {\n        var curtPhotoID = state().curtPhoto.id;\n\n        dispatch({\n            type: ADD_TEMP_LAYER,\n            curtPhotoID: curtPhotoID\n        });\n    };\n};\n\nvar addSpot = exports.addSpot = function addSpot(x, y, calcParm) {\n    return function (dispatch, getState) {\n\n        var curtPhotoID = getState().curtPhoto.id;\n        var _getState$paintingBoa = getState().paintingBoard[curtPhotoID],\n            curtTagID = _getState$paintingBoa.curtTag,\n            holdingLayerID = _getState$paintingBoa.holdingLayerID;\n\n\n        if (holdingLayerID) {\n            (0, _Util.hintFinish)();\n            return;\n        }\n\n        dispatch({\n            type: ADD_SPOT,\n            pointX: x,\n            pointY: y,\n            calcParm: calcParm,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID\n        });\n    };\n};\n\nvar closeLine = exports.closeLine = function closeLine() {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n        var _getState$paintingBoa2 = getState().paintingBoard[curtPhotoID],\n            curtTag = _getState$paintingBoa2.curtTag,\n            selectedTag = _getState$paintingBoa2.selectedTag;\n\n\n        var curtTagID = selectedTag || curtTag;\n\n        dispatch({\n            type: CLOSE_LINE,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID\n        });\n    };\n};\nvar fixFirstSpotHit = exports.fixFirstSpotHit = function fixFirstSpotHit(flag, pointIndx) {\n    return function (dispatch, getState) {\n        // console.log(flag);\n        var curtPhotoID = getState().curtPhoto.id;\n        var _getState$paintingBoa3 = getState().paintingBoard[curtPhotoID],\n            curtTag = _getState$paintingBoa3.curtTag,\n            selectedTag = _getState$paintingBoa3.selectedTag;\n\n\n        var curtTagID = selectedTag || curtTag;\n\n        dispatch({\n            type: FIX_POINT_STATE,\n            flag: flag,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID,\n            pointIndx: pointIndx\n        });\n    };\n};\n\nvar pointMove = exports.pointMove = function pointMove(pointIndx, x, y, calcParm) {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n        var _getState$paintingBoa4 = getState().paintingBoard[curtPhotoID],\n            curtTag = _getState$paintingBoa4.curtTag,\n            selectedTag = _getState$paintingBoa4.selectedTag,\n            holdingLayerID = _getState$paintingBoa4.holdingLayerID;\n\n\n        var curtTagID = selectedTag || curtTag;\n\n        if (holdingLayerID) {\n            (0, _Util.hintFinish)();\n            return;\n        }\n\n        dispatch({\n            type: POINT_MOVE,\n            curtPhotoID: curtPhotoID,\n            curtTagID: curtTagID,\n            pointIndx: pointIndx,\n            pointX: x,\n            pointY: y,\n            calcParm: calcParm\n        });\n    };\n};\n\nvar fixPointPosition = exports.fixPointPosition = function fixPointPosition() {\n    return function (dispatch, getState) {\n\n        var curtPhotoID = getState().curtPhoto.id;\n        var _getState$stage = getState().stage,\n            width = _getState$stage.width,\n            height = _getState$stage.height,\n            preWidth = _getState$stage.preWidth,\n            preHeight = _getState$stage.preHeight;\n\n\n        var evoScale = width / preWidth;\n\n        dispatch({\n            type: FIX_POINT_POSITION,\n            curtPhotoID: curtPhotoID,\n            evoScale: evoScale\n        });\n    };\n};\n\nvar redoAPoint = exports.redoAPoint = function redoAPoint(specTag) {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n        var _getState$paintingBoa5 = getState().paintingBoard[curtPhotoID],\n            curtTag = _getState$paintingBoa5.curtTag,\n            selectedTag = _getState$paintingBoa5.selectedTag,\n            holdingLayerID = _getState$paintingBoa5.holdingLayerID;\n\n\n        if (holdingLayerID) {\n            (0, _Util.hintFinish)();\n            return;\n        }\n\n        if (selectedTag) {\n            return;\n        }\n\n        var curtTagID = specTag || curtTag;\n\n        dispatch({\n            type: UNDO,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID\n        });\n    };\n};\n\nvar fistTimeUnclose = exports.fistTimeUnclose = function fistTimeUnclose(specTag) {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n        var _getState$paintingBoa6 = getState().paintingBoard[curtPhotoID],\n            curtTag = _getState$paintingBoa6.curtTag,\n            selectedTag = _getState$paintingBoa6.selectedTag,\n            holdingLayerID = _getState$paintingBoa6.holdingLayerID;\n\n        // if(holdingLayerID){\n        //     hintFinish();\n        //     return;\n        // }\n\n        // if(selectedTag){ return }\n\n        var curtTagID = specTag || curtTag;\n\n        dispatch({\n            type: FIRST_TIME_UNCLOSE,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID,\n            holdingLayerID: holdingLayerID\n        });\n    };\n};\n\nvar outFirstTime = exports.outFirstTime = function outFirstTime() {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n        var _getState$paintingBoa7 = getState().paintingBoard[curtPhotoID],\n            curtTag = _getState$paintingBoa7.curtTag,\n            selectedTag = _getState$paintingBoa7.selectedTag;\n\n\n        var curtTagID = curtTag;\n\n        dispatch({\n            type: OUT_FIRST_TIME,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID\n        });\n    };\n};\n\nvar fixShapeFill = exports.fixShapeFill = function fixShapeFill(isFill, curtTagID) {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n        var holdingLayerID = getState().paintingBoard[curtPhotoID].holdingLayerID;\n\n\n        dispatch({\n            type: FIX_SHAPE_FILL,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID,\n            isFill: isFill\n        });\n    };\n};\n\nvar selectShape = exports.selectShape = function selectShape(selectedTagID, isDepend) {\n    return function (dispatch, getState) {\n\n        var curtPhotoID = getState().curtPhoto.id;\n\n        if (curtPhotoID !== undefined && !isDepend) {\n\n            var layerGroup = getState().paintingBoard[curtPhotoID];\n            if (layerGroup.holdingLayerID || (0, _Util.finishFirst)(layerGroup.layers, layerGroup.curtTag)) {\n                (0, _Util.hintFinish)();\n                return;\n            }\n        }\n\n        dispatch({\n            type: SELECT_A_SHAPE,\n            selectedTagID: selectedTagID,\n            curtPhotoID: curtPhotoID\n        });\n    };\n};\n\nvar moveShape = exports.moveShape = function moveShape(offsetDistenceArr, pointPos, specTag, calcParm) {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n        dispatch({\n            type: MOVE_A_SHAPE,\n            specTag: specTag,\n            curtPhotoID: curtPhotoID,\n            offsetDistenceArr: offsetDistenceArr,\n            pointPos: pointPos,\n            calcParm: calcParm\n        });\n    };\n};\n\nvar deleteShape = exports.deleteShape = function deleteShape(layerID) {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n\n        dispatch({\n            type: DELETE_SHAPE,\n            curtPhotoID: curtPhotoID,\n            layerID: layerID\n        });\n    };\n};\nvar alterShape = exports.alterShape = function alterShape(tagName, attrs, layerID) {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n        var shapeType = getState().shape;\n\n        dispatch({\n            type: ALTER_SHAPE,\n            curtPhotoID: curtPhotoID,\n            layerID: layerID,\n            tagName: tagName,\n            attrs: attrs,\n            shapeType: shapeType\n        });\n    };\n};\n\nvar alterShapeState = exports.alterShapeState = function alterShapeState(_ref) {\n    var _ref$tagName = _ref.tagName,\n        tagName = _ref$tagName === undefined ? '' : _ref$tagName,\n        _ref$layerID = _ref.layerID,\n        layerID = _ref$layerID === undefined ? null : _ref$layerID,\n        _ref$attrs = _ref.attrs,\n        attrs = _ref$attrs === undefined ? '' : _ref$attrs,\n        _ref$isDelete = _ref.isDelete,\n        isDelete = _ref$isDelete === undefined ? false : _ref$isDelete,\n        _ref$isDone = _ref.isDone,\n        isDone = _ref$isDone === undefined ? false : _ref$isDone;\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n\n        if (isDone) {\n            dispatch(alterShape(tagName, attrs, layerID));\n        }\n\n        if (isDelete) {\n            dispatch(deleteShape(layerID));\n        }\n    };\n};\n\nvar fixLayerHold = exports.fixLayerHold = function fixLayerHold(holdingLayerID) {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n\n        dispatch({\n            type: FIX_LAYER_HOLD,\n            curtPhotoID: curtPhotoID,\n            holdingLayerID: holdingLayerID\n        });\n    };\n};\n\nfunction paintingBoard() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n    var action = arguments[1];\n    var type = action.type,\n        curtPhotoID = action.curtPhotoID,\n        curtTagID = action.curtTagID,\n        pointX = action.pointX,\n        pointY = action.pointY,\n        calcParm = action.calcParm,\n        flag = action.flag,\n        pointIndx = action.pointIndx,\n        isFill = action.isFill,\n        selectedTagID = action.selectedTagID,\n        layerID = action.layerID,\n        tagName = action.tagName,\n        holdingLayerID = action.holdingLayerID,\n        attrs = action.attrs,\n        shapeType = action.shapeType,\n        evoScale = action.evoScale,\n        pointPos = action.pointPos,\n        offsetDistenceArr = action.offsetDistenceArr,\n        specTag = action.specTag;\n\n\n    var layerGroup = state[curtPhotoID];\n    if (!layerGroup) {\n        layerGroup = {};\n    }\n\n    var _layerGroup = layerGroup,\n        layers = _layerGroup.layers;\n\n    if (!layers) layers = [];\n\n    switch (type) {\n        case ADD_TEMP_LAYER:\n            var color = _konva2.default.Util.getRandomColor();\n            var tempLayerID = Math.random();\n            return _extends({}, state, _defineProperty({}, curtPhotoID, {\n                layers: [].concat(_toConsumableArray(layers), [{\n                    id: tempLayerID,\n                    tagName: '',\n                    points: [],\n                    actualPoints: [],\n                    fill: null,\n                    closed: false,\n                    firstSpotHit: false,\n                    lineColor: color,\n                    overPointIndex: null,\n                    shape: 0,\n                    firstTimeNewPoint: true,\n                    attrs: '',\n                    shapeType: null,\n                    everDone: false\n                }]),\n                curtTag: tempLayerID,\n                selectedTag: null,\n                holdingLayerID: null\n            }));\n\n        case ADD_SPOT:\n            if (true) {\n                // let {disW, disT} = getRectToImg(pointX, pointY, calcParm);\n\n                layers = layers.map(function (layer) {\n                    if (layer.id === curtTagID) {\n                        layer.points = [].concat(_toConsumableArray(layer.points), [{ x: pointX, y: pointY }]);\n                        // layer.actualPoints = [...layer.actualPoints, {x:disW, y:disT}];\n                    }\n                    return layer;\n                });\n\n                return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers })));\n            };\n\n        case CLOSE_LINE:\n\n            // layer = {...layer, ...{\n            //     closed: true,\n            //     fill: 'rgba(255, 0, 0, 0.3)'\n            // }}\n\n            layers = layers.map(function (layer) {\n                if (layer.id === curtTagID) {\n                    layer.closed = true;\n                };\n                return layer;\n            });\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers })));\n\n        case FIX_POINT_STATE:\n\n            layers = layers.map(function (layer) {\n                if (layer.id === curtTagID) {\n                    layer.firstSpotHit = flag;\n                    layer.overPointIndex = pointIndx;\n                }\n                return layer;\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers })));\n\n        case FIX_SHAPE_FILL:\n\n            layers = layers.map(function (layer) {\n                if (layer.id === curtTagID) {\n                    layer.fill = isFill ? 'rgba(255, 0, 0, 0.3)' : null;\n                }\n                return layer;\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers })));\n\n        case SELECT_A_SHAPE:\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { selectedTag: selectedTagID })));\n\n        case POINT_MOVE:\n\n            layers = layers.map(function (layer) {\n                if (layer.id === curtTagID) {\n                    var pt = layer.points[pointIndx];\n                    if (pointX !== null) {\n                        pt.x = pointX;\n                    }\n                    if (pointY !== null) {\n                        pt.y = pointY;\n                    }\n\n                    // let {disW, disT} = getRectToImg(pt.x, pt.y, calcParm);\n\n                    // layer.actualPoints[pointIndx] = {x: disW, y: disT};\n                }\n                return layer;\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers })));\n\n        case FIX_POINT_POSITION:\n\n            layers = layers.map(function (layer) {\n\n                var points = layer.points.map(function (_ref2) {\n                    var x = _ref2.x,\n                        y = _ref2.y;\n\n\n                    return {\n                        x: x * evoScale,\n                        y: y * evoScale\n                    };\n                });\n\n                return _extends({}, layer, { points: points });\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers })));\n\n        case UNDO:\n\n            layers = layers.map(function (layer) {\n                if (layer.id === curtTagID) {\n                    if (layer.closed) {\n                        layer.closed = false;\n                        layer.everDone = false;\n                    } else {\n                        layer.points.pop();\n                        layer.actualPoints.pop();\n                    }\n                };\n                return layer;\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers })));\n        case FIRST_TIME_UNCLOSE:\n\n            layers = layers.map(function (layer) {\n                // curtTagID\n                if (layer.id === holdingLayerID) {\n                    layer.closed = false;\n                    layer.everDone = false;\n                };\n                return layer;\n            });\n\n            var deleteIndex = null;\n            layers.forEach(function (layer, i) {\n                if (layer.id === curtTagID) {\n                    deleteIndex = i;\n                }\n            });\n            layers.splice(deleteIndex, 1);\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers, curtTag: holdingLayerID, holdingLayerID: null })));\n        case OUT_FIRST_TIME:\n\n            layers = layers.map(function (layer) {\n                if (layer.id === curtTagID) {\n                    layer.firstTimeNewPoint = false;\n                }\n                return layer;\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers })));\n        case DELETE_SHAPE:\n\n            var shouldDeleteIndex = null;\n            layers.forEach(function (layer, i) {\n                if (layer.id === layerID) {\n                    shouldDeleteIndex = i;\n                }\n            });\n\n            layers.splice(shouldDeleteIndex, 1);\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers, holdingLayerID: null, selectedTag: null })));\n        case ALTER_SHAPE:\n\n            layers = layers.map(function (layer, i) {\n                if (layer.id === layerID) {\n                    layer.tagName = tagName;\n                    layer.attrs = attrs;\n                    layer.shapeType = shapeType;\n                    layer.everDone = true;\n                }\n                return layer;\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers, holdingLayerID: null })));\n        case FIX_LAYER_HOLD:\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, {\n                holdingLayerID: holdingLayerID\n            })));\n        case MOVE_A_SHAPE:\n\n            layers = layers.map(function (layer) {\n\n                if (layer.id === specTag) {\n                    // pointPos\n                    layer.points = layer.points.map(function (point, i) {\n                        return {\n                            x: pointPos.x - offsetDistenceArr[i].x,\n                            y: pointPos.y - offsetDistenceArr[i].y\n                        };\n                    });\n                }\n                return layer;\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, layerGroup, { layers: layers })));\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(KV, Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactRedux = __webpack_require__(15);\n\nvar _redux = __webpack_require__(7);\n\nvar _PaintingGroup = __webpack_require__(133);\n\nvar _PaintingGroup2 = _interopRequireDefault(_PaintingGroup);\n\nvar _PaintingLayer = __webpack_require__(67);\n\nvar _PaintingLayer2 = _interopRequireDefault(_PaintingLayer);\n\nvar _BoardRedux = __webpack_require__(12);\n\nvar actionCreators = _interopRequireWildcard(_BoardRedux);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _KV = KV,\n    Stage = _KV.Stage,\n    Layer = _KV.Layer,\n    Circle = _KV.Circle,\n    Line = _KV.Line,\n    Image = _KV.Image;\n\nvar Board = function (_Component) {\n    _inherits(Board, _Component);\n\n    function Board(props) {\n        _classCallCheck(this, Board);\n\n        var _this = _possibleConstructorReturn(this, (Board.__proto__ || Object.getPrototypeOf(Board)).call(this, props));\n\n        _this.state = {\n            image: null\n        };\n\n        return _this;\n    }\n\n    _createClass(Board, [{\n        key: 'loadImage',\n        value: function loadImage(url) {\n            var _this2 = this;\n\n            var imgObj = new window.Image();\n\n            imgObj.onload = function () {\n                _this2.setState({\n                    image: imgObj\n                });\n            };\n\n            imgObj.src = url;\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nProps) {\n\n            this.loadImage(nProps.curtPhoto.url);\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {}\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                paintingBoard = _props.paintingBoard,\n                curtPhoto = _props.curtPhoto,\n                actions = _props.actions,\n                shape = _props.shape,\n                stage = _props.stage;\n            var curtPhotoID = curtPhoto.id;\n\n\n            var layersGroup = paintingBoard[curtPhotoID];\n\n            if (!layersGroup) return null;\n\n            var image = this.state.image;\n\n\n            return React.createElement(\n                'div',\n                {\n                    className: 'thumbnail img',\n                    ref: 'container'\n                },\n                React.createElement(_PaintingGroup2.default, _extends({\n                    layersGroup: layersGroup,\n                    image: image,\n                    shape: shape,\n                    stage: stage\n                }, actions))\n            );\n        }\n    }]);\n\n    return Board;\n}(Component);\n\nexports.default = (0, _reactRedux.connect)(function (state) {\n    var curtPhoto = state.curtPhoto,\n        paintingBoard = state.paintingBoard,\n        photosData = state.photosData,\n        shape = state.shape,\n        stage = state.stage;\n\n    return {\n        curtPhoto: curtPhoto,\n        paintingBoard: paintingBoard,\n        photosData: photosData,\n        shape: shape,\n        stage: stage\n    };\n}, function (dispatch) {\n    return { actions: (0, _redux.bindActionCreators)(_extends({}, actionCreators), dispatch) };\n})(Board);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(31), __webpack_require__(1)[\"Component\"], __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactRedux = __webpack_require__(15);\n\nvar _FuncButtonsRedux = __webpack_require__(134);\n\nvar actionCreators = _interopRequireWildcard(_FuncButtonsRedux);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FuncButtons = function (_Component) {\n    _inherits(FuncButtons, _Component);\n\n    function FuncButtons(props) {\n        _classCallCheck(this, FuncButtons);\n\n        return _possibleConstructorReturn(this, (FuncButtons.__proto__ || Object.getPrototypeOf(FuncButtons)).call(this, props));\n    }\n\n    _createClass(FuncButtons, [{\n        key: 'render',\n        value: function render() {\n            var redoAPoint = this.props.redoAPoint;\n\n            return _jsx('div', {\n                className: 'btn-group'\n            }, void 0);\n        }\n    }]);\n\n    return FuncButtons;\n}(Component);\n\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return state;\n}, actionCreators)(FuncButtons);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)[\"Component\"]))\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Img = __webpack_require__(135);\n\nvar _Img2 = _interopRequireDefault(_Img);\n\nvar _reactRedux = __webpack_require__(15);\n\nvar _redux = __webpack_require__(7);\n\nvar _PhotoGalleryRedux = __webpack_require__(41);\n\nvar actions = _interopRequireWildcard(_PhotoGalleryRedux);\n\nvar _BoardRedux = __webpack_require__(12);\n\nvar _Util = __webpack_require__(16);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PhotoGallery = function (_Component) {\n    _inherits(PhotoGallery, _Component);\n\n    function PhotoGallery(props) {\n        _classCallCheck(this, PhotoGallery);\n\n        return _possibleConstructorReturn(this, (PhotoGallery.__proto__ || Object.getPrototypeOf(PhotoGallery)).call(this, props));\n    }\n\n    _createClass(PhotoGallery, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                photosData = _props.photosData,\n                switchPhoto = _props.switchPhoto,\n                paintingBoard = _props.paintingBoard,\n                curtPhoto = _props.curtPhoto,\n                selectShape = _props.selectShape;\n\n            // let shouldFinish = false;\n            //\n            // if(paintingBoard[curtPhoto.id]){\n            //     let {curtTag} = paintingBoard[curtPhoto.id];\n            //     shouldFinish = finishFirst(paintingBoard[curtPhoto.id].layers, curtTag);\n            // }\n\n\n            return _jsx('nav', {\n                className: 'navbar navbar-inverse navbar-static-top'\n            }, void 0, _jsx('div', {\n                className: 'container imglist'\n            }, void 0, _jsx('div', {\n                className: 'btn btn-danger listBtnLeft',\n                onClick: function onClick(ev) {\n                    photosData.forEach(function (photo, i, arr) {\n\n                        if (curtPhoto.id === photo.id && i > 0) {\n\n                            switchPhoto(arr[i - 1]);\n                        }\n                    });\n                }\n            }, void 0, '<'), _jsx('div', {\n                className: 'row'\n            }, void 0, photosData.map(function (photo, i) {\n                return React.createElement(_Img2.default, {\n                    key: photo.id,\n                    photo: photo,\n                    active: curtPhoto.id === photo.id,\n                    switchPhoto: switchPhoto,\n                    selectShape: selectShape\n                });\n            })), _jsx('div', {\n                className: 'btn btn-danger listBtnRight',\n                onClick: function onClick(ev) {\n                    photosData.forEach(function (photo, i, arr) {\n                        if (curtPhoto.id === photo.id && i < arr.length - 1) {\n                            switchPhoto(arr[i + 1]);\n                        }\n                    });\n                }\n            }, void 0, '>')));\n        }\n    }]);\n\n    return PhotoGallery;\n}(Component);\n\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return { photosData: state.photosData, curtPhoto: state.curtPhoto, paintingBoard: state.paintingBoard };\n}, function (dispatch) {\n    return (0, _redux.bindActionCreators)(_extends({}, actions, { selectShape: _BoardRedux.selectShape }), dispatch);\n})(PhotoGallery);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)[\"Component\"], __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _style = __webpack_require__(73);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _reactRedux = __webpack_require__(15);\n\nvar _redux = __webpack_require__(7);\n\nvar _Util = __webpack_require__(16);\n\nvar _BoardRedux = __webpack_require__(12);\n\nvar _tag = __webpack_require__(136);\n\nvar _tag2 = _interopRequireDefault(_tag);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Property = function (_Component) {\n    _inherits(Property, _Component);\n\n    function Property(props) {\n        _classCallCheck(this, Property);\n\n        return _possibleConstructorReturn(this, (Property.__proto__ || Object.getPrototypeOf(Property)).call(this, props));\n    }\n\n    _createClass(Property, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                paintingBoard = _props.paintingBoard,\n                curtPhotoID = _props.curtPhotoID,\n                selectShape = _props.selectShape,\n                fixLayerHold = _props.fixLayerHold,\n                fixShapeFill = _props.fixShapeFill;\n\n\n            var tags = null;\n\n            if (paintingBoard && paintingBoard[curtPhotoID]) {\n\n                var layerGroup = paintingBoard[curtPhotoID];\n\n                var _paintingBoard$curtPh = paintingBoard[curtPhotoID],\n                    curtTag = _paintingBoard$curtPh.curtTag,\n                    selectedTag = _paintingBoard$curtPh.selectedTag;\n\n\n                tags = paintingBoard[curtPhotoID].layers.map(function (layer) {\n                    if (layer && curtTag === layer.id) {\n                        // points = layer.points;\n                        return;\n                    };\n                    return React.createElement(_tag2.default, {\n                        key: layer.id,\n                        id: layer.id,\n                        tagName: layer.tagName,\n                        active: selectedTag === layer.id,\n                        selectShape: selectShape,\n                        fixLayerHold: fixLayerHold,\n                        fixShapeFill: fixShapeFill\n                    });\n                });\n            }\n\n            return _jsx('div', {\n                className: _style2.default.showData\n            }, void 0, tags);\n        }\n    }]);\n\n    return Property;\n}(Component);\n\nexports.default = (0, _reactRedux.connect)(function (state) {\n    var paintingBoard = state.paintingBoard,\n        curtPhoto = state.curtPhoto;\n\n    return {\n        paintingBoard: paintingBoard, curtPhotoID: curtPhoto.id\n    };\n}, function (dispatch) {\n    return (0, _redux.bindActionCreators)({ selectShape: _BoardRedux.selectShape, fixLayerHold: _BoardRedux.fixLayerHold, fixShapeFill: _BoardRedux.fixShapeFill }, dispatch);\n})(Property);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)[\"Component\"], __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactRedux = __webpack_require__(15);\n\nvar _redux = __webpack_require__(7);\n\nvar _BoardRedux = __webpack_require__(12);\n\nvar _ToolBoxRedux = __webpack_require__(69);\n\nvar toolActions = _interopRequireWildcard(_ToolBoxRedux);\n\nvar _StageRedux = __webpack_require__(70);\n\nvar stageActions = _interopRequireWildcard(_StageRedux);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _ref = _jsx('span', {\n    className: 'fa fa-pencil'\n});\n\nvar _ref2 = _jsx('span', {\n    className: 'hidden-sm hidden-xs'\n}, void 0, '\\u653E\\u5927');\n\nvar _ref3 = _jsx('span', {\n    className: 'fa fa-pencil'\n});\n\nvar _ref4 = _jsx('span', {\n    className: 'hidden-sm hidden-xs'\n}, void 0, '\\u7F29\\u5C0F');\n\nvar _ref5 = _jsx('span', {\n    className: 'fa fa-pencil'\n});\n\nvar _ref6 = _jsx('span', {\n    className: 'hidden-sm hidden-xs'\n}, void 0, '\\u9002\\u5E94');\n\nvar _ref7 = _jsx('span', {\n    className: 'fa fa-photo'\n});\n\nvar _ref8 = _jsx('span', {\n    className: 'hidden-sm hidden-xs'\n}, void 0, '\\u70B9\\u63CF');\n\nvar _ref9 = _jsx('span', {\n    className: 'fa fa-reorder'\n});\n\nvar _ref10 = _jsx('span', {\n    className: 'hidden-sm hidden-xs'\n}, void 0, '\\u6846\\u9009');\n\nvar _ref11 = _jsx('span', {\n    className: 'fa fa-circle-o-notch'\n}, void 0, ' ');\n\nvar _ref12 = _jsx('span', {\n    className: 'hidden-sm hidden-xs'\n}, void 0, '\\u4E0A\\u4E00\\u6B65');\n\nvar ToolBox = function (_Component) {\n    _inherits(ToolBox, _Component);\n\n    function ToolBox(props) {\n        _classCallCheck(this, ToolBox);\n\n        return _possibleConstructorReturn(this, (ToolBox.__proto__ || Object.getPrototypeOf(ToolBox)).call(this, props));\n    }\n\n    _createClass(ToolBox, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                redoAPoint = _props.redoAPoint,\n                changeShape = _props.changeShape,\n                layersGroup = _props.layersGroup,\n                shape = _props.shape,\n                curtPhotoID = _props.curtPhotoID,\n                adaptStage = _props.adaptStage,\n                incrementStage = _props.incrementStage,\n                decrementStage = _props.decrementStage;\n\n\n            return _jsx('div', {\n                className: 'col-lg-1 col-md-1 col-sm-1 col-xs-1 tool'\n            }, void 0, _jsx('div', {\n                className: 'list-group'\n            }, void 0, _jsx('button', {\n                type: 'button',\n                className: 'list-group-item list-group-item-info',\n                onClick: function onClick(ev) {\n                    return incrementStage();\n                }\n            }, void 0, _ref, _ref2), _jsx('button', {\n                type: 'button',\n                className: 'list-group-item list-group-item-info',\n                onClick: function onClick(ev) {\n                    return decrementStage();\n                }\n            }, void 0, _ref3, _ref4), _jsx('button', {\n                type: 'button',\n                className: 'list-group-item list-group-item-info',\n                onClick: function onClick(ev) {\n                    return adaptStage();\n                }\n            }, void 0, _ref5, _ref6), _jsx('button', {\n                type: 'button',\n                className: 'list-group-item list-group-item-info',\n                onClick: function onClick(ev) {\n                    changeShape(0);\n                }\n            }, void 0, _ref7, _ref8), _jsx('button', {\n                type: 'button',\n                className: 'list-group-item list-group-item-info',\n                onClick: function onClick(ev) {\n                    changeShape(1);\n                }\n            }, void 0, _ref9, _ref10), _jsx('button', {\n                type: 'button',\n                className: 'list-group-item list-group-item-info',\n                onClick: function onClick(ev) {\n\n                    if (layersGroup && layersGroup.curtTag && shape === 0) {\n\n                        redoAPoint();\n                    }\n                }\n            }, void 0, _ref11, _ref12)));\n        }\n    }]);\n\n    return ToolBox;\n}(Component);\n\nexports.default = (0, _reactRedux.connect)(function (state) {\n    var curtPhoto = state.curtPhoto,\n        paintingBoard = state.paintingBoard,\n        shape = state.shape;\n\n    return {\n        layersGroup: paintingBoard[curtPhoto.id],\n        shape: shape,\n        curtPhotoID: curtPhoto.id\n    };\n}, function (dispatch) {\n    return _extends({}, (0, _redux.bindActionCreators)({ redoAPoint: _BoardRedux.redoAPoint }, dispatch), (0, _redux.bindActionCreators)(toolActions, dispatch), (0, _redux.bindActionCreators)(stageActions, dispatch));\n})(ToolBox);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)[\"Component\"]))\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.history = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = configureStore;\n\nvar _redux = __webpack_require__(7);\n\nvar _reactRouterRedux = __webpack_require__(25);\n\nvar _createBrowserHistory = __webpack_require__(152);\n\nvar _createBrowserHistory2 = _interopRequireDefault(_createBrowserHistory);\n\nvar _reducers = __webpack_require__(137);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _reduxThunk = __webpack_require__(65);\n\nvar _reduxThunk2 = _interopRequireDefault(_reduxThunk);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar history = (0, _createBrowserHistory2.default)();\n\nvar routerML = (0, _reactRouterRedux.routerMiddleware)(history);\n\nvar reducer = (0, _redux.combineReducers)(_extends({}, _reducers2.default, {\n    router: _reactRouterRedux.routerReducer\n}));\n\nexports.history = history;\nfunction configureStore() {\n\n    if (true) {\n        return (0, _redux.createStore)(reducer, (0, _redux.compose)((0, _redux.applyMiddleware)(_reduxThunk2.default, routerML)));\n    } else {\n        return (0, _redux.createStore)(reducer, (0, _redux.compose)((0, _redux.applyMiddleware)(_reduxThunk2.default, routerML), window.devToolsExtension ? window.devToolsExtension() : function (f) {\n            return f;\n        }));\n    }\n}\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component, React, ReactDOM) {\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactRedux = __webpack_require__(15);\n\nvar _redux = __webpack_require__(7);\n\nvar _reactRouter = __webpack_require__(32);\n\nvar _reactRouterRedux = __webpack_require__(25);\n\nvar _configureStore = __webpack_require__(127);\n\nvar _configureStore2 = _interopRequireDefault(_configureStore);\n\nvar _FuncButtons = __webpack_require__(123);\n\nvar _FuncButtons2 = _interopRequireDefault(_FuncButtons);\n\nvar _Board = __webpack_require__(122);\n\nvar _Board2 = _interopRequireDefault(_Board);\n\nvar _PhotoGallery = __webpack_require__(124);\n\nvar _PhotoGallery2 = _interopRequireDefault(_PhotoGallery);\n\nvar _ToolBox = __webpack_require__(126);\n\nvar _ToolBox2 = _interopRequireDefault(_ToolBox);\n\nvar _Property = __webpack_require__(125);\n\nvar _Property2 = _interopRequireDefault(_Property);\n\nvar _InitPhotosRedux = __webpack_require__(64);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(128);\n__webpack_require__(129);\n__webpack_require__(130);\n\n\nvar store = (0, _configureStore2.default)();\n\nvar _ref = _jsx(_PhotoGallery2.default, {});\n\nvar _ref2 = _jsx(_ToolBox2.default, {});\n\nvar _ref3 = _jsx(_Board2.default, {});\n\nvar App = function (_Component) {\n    _inherits(App, _Component);\n\n    function App(props) {\n        _classCallCheck(this, App);\n\n        return _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\n    }\n\n    _createClass(App, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var loadImage = this.props.actions.loadImage;\n\n            loadImage();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                photosData = _props.photosData,\n                actions = _props.actions,\n                curtPhoto = _props.curtPhoto;\n            var loadImage = actions.loadImage;\n\n\n            return _jsx('div', {\n                className: 'appRoot'\n            }, void 0, _ref, _jsx('div', {\n                className: 'container-fluid height'\n            }, void 0, _jsx('div', {\n                className: 'row height'\n            }, void 0, _ref2, _jsx('div', {\n                className: 'col-lg-11 col-md-11 col-sm-11 col-xs-11 height'\n            }, void 0, _ref3), React.createElement(_Property2.default, {\n                curtPhotoID: curtPhoto.id\n            }))));\n        }\n    }]);\n\n    return App;\n}(Component);\n\nApp = (0, _reactRedux.connect)(function (state) {\n    return state;\n}, function (dispatch) {\n    return { actions: (0, _redux.bindActionCreators)({ loadImage: _InitPhotosRedux.loadImage }, dispatch) };\n})(App);\n\nReactDOM.render(_jsx(_reactRedux.Provider, {\n    store: store\n}, void 0, _jsx(_reactRouterRedux.ConnectedRouter, {\n    history: _configureStore.history\n}, void 0, _jsx(_reactRouter.Route, {\n    path: '/',\n    component: App\n}))), document.getElementById('root'));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)[\"Component\"], __webpack_require__(1), __webpack_require__(40)))\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _style = __webpack_require__(72);\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// alterShapeState,\n// fixLayerHold,\n// holdingLayer,\n// holdingLayerID\n\n\nvar ClosedPrompt = function (_Component) {\n    _inherits(ClosedPrompt, _Component);\n\n    function ClosedPrompt(props) {\n        _classCallCheck(this, ClosedPrompt);\n\n        var _this = _possibleConstructorReturn(this, (ClosedPrompt.__proto__ || Object.getPrototypeOf(ClosedPrompt)).call(this, props));\n\n        _this.state = {\n            tagNameVal: props.holdingLayer.tagName,\n            attrVal: props.holdingLayer.attrs\n        };\n        _this.tagNameChange = _this.tagNameChange.bind(_this);\n        _this.done = _this.done.bind(_this);\n        _this.deleted = _this.deleted.bind(_this);\n        _this.redoAPoint = _this.redoAPoint.bind(_this);\n        return _this;\n    }\n\n    _createClass(ClosedPrompt, [{\n        key: 'tagNameChange',\n        value: function tagNameChange(ev) {\n            this.setState({\n                tagNameVal: ev.target.value\n            });\n        }\n    }, {\n        key: 'done',\n        value: function done(ev) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            var tagName = this.state.tagNameVal;\n            var attrs = this.state.attrVal;\n            var _props = this.props,\n                alterShapeState = _props.alterShapeState,\n                holdingLayerID = _props.holdingLayerID;\n\n\n            if (!tagName || Number(tagName) === 0) {\n                window.alert('请填写有效标签名');\n                return;\n            }\n            alterShapeState({\n                tagName: tagName, attrs: attrs, layerID: holdingLayerID, isDone: true\n            });\n        }\n    }, {\n        key: 'deleted',\n        value: function deleted(ev) {\n            ev.preventDefault();\n            ev.stopPropagation();\n            var _props2 = this.props,\n                alterShapeState = _props2.alterShapeState,\n                holdingLayerID = _props2.holdingLayerID;\n\n            alterShapeState({\n                layerID: holdingLayerID, isDelete: true\n            });\n        }\n    }, {\n        key: 'redoAPoint',\n        value: function redoAPoint() {\n            var fistTimeUnclose = this.props.fistTimeUnclose;\n\n            fistTimeUnclose();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _state = this.state,\n                tagNameVal = _state.tagNameVal,\n                attrVal = _state.attrVal;\n            var _props3 = this.props,\n                alterShapeState = _props3.alterShapeState,\n                holdingLayer = _props3.holdingLayer,\n                fixLayerHold = _props3.fixLayerHold,\n                shape = _props3.shape;\n            var tagNameChange = this.tagNameChange,\n                deleted = this.deleted,\n                done = this.done,\n                cancel = this.cancel,\n                redoAPoint = this.redoAPoint;\n            var _holdingLayer$points$ = holdingLayer.points[0],\n                left = _holdingLayer$points$.x,\n                top = _holdingLayer$points$.y;\n\n            return _jsx('div', {\n                className: _style2.default.closedPrompt,\n                style: { top: top, left: left }\n            }, void 0, _jsx('p', {}, void 0, _jsx('input', {\n                type: 'text',\n                placeholder: 'name',\n                value: tagNameVal,\n                onChange: tagNameChange\n            })), _jsx('p', {}, void 0, _jsx('textarea', {\n                className: _style2.default.area,\n                cols: '30',\n                rows: '2',\n                placeholder: 'attrs',\n                value: attrVal,\n                onChange: function onChange(ev) {\n                    return _this2.setState({ attrVal: ev.target.value });\n                }\n            })), _jsx('button', {\n                onClick: done\n            }, void 0, 'done'), !holdingLayer.everDone && shape === 0 ? _jsx('button', {\n                onClick: redoAPoint\n            }, void 0, 'undo') : null, _jsx('button', {\n                onClick: deleted\n            }, void 0, 'delete'), holdingLayer.everDone ? _jsx('button', {\n                onClick: function onClick(ev) {\n                    return fixLayerHold(null);\n                }\n            }, void 0, 'cancel') : null);\n        }\n    }]);\n\n    return ClosedPrompt;\n}(Component);\n\nexports.default = ClosedPrompt;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)[\"Component\"]))\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(KV, Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _style = __webpack_require__(72);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _KonvaUtil = __webpack_require__(66);\n\nvar _ClosedPrompt = __webpack_require__(132);\n\nvar _ClosedPrompt2 = _interopRequireDefault(_ClosedPrompt);\n\nvar _PaintingLayer = __webpack_require__(67);\n\nvar _PaintingLayer2 = _interopRequireDefault(_PaintingLayer);\n\nvar _BoardRedux = __webpack_require__(12);\n\nvar actionCreators = _interopRequireWildcard(_BoardRedux);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _KV = KV,\n    Stage = _KV.Stage,\n    Layer = _KV.Layer,\n    Circle = _KV.Circle,\n    Line = _KV.Line,\n    Image = _KV.Image;\n\nvar PaintingGroup = function (_Component) {\n    _inherits(PaintingGroup, _Component);\n\n    function PaintingGroup(props) {\n        _classCallCheck(this, PaintingGroup);\n\n        var _this = _possibleConstructorReturn(this, (PaintingGroup.__proto__ || Object.getPrototypeOf(PaintingGroup)).call(this, props));\n\n        _this.state = {\n            prompt: false,\n            data: null\n        };\n\n        _this.stageWidth = 760;\n        _this.stageHeight = 500;\n        // this.stageWidth = 2760;\n        // this.stageHeight = 2500;\n\n        _this.calcParm = {};\n\n        _this.getPointerPosition = _this.getPointerPosition.bind(_this);\n        _this.mark = _this.mark.bind(_this);\n\n        _this.clickTime = 0;\n        return _this;\n    }\n\n    _createClass(PaintingGroup, [{\n        key: 'getPointerPosition',\n        value: function getPointerPosition() {\n\n            return this.refs.stage.getStage().getPointerPosition();\n        }\n\n        // end 对某个 layer 的修改\n\n    }, {\n        key: 'mark',\n        value: function mark(ev) {\n            var _props = this.props,\n                _props$layersGroup = _props.layersGroup,\n                layers = _props$layersGroup.layers,\n                curtTag = _props$layersGroup.curtTag,\n                selectedTag = _props$layersGroup.selectedTag,\n                holdingLayerID = _props$layersGroup.holdingLayerID,\n                shape = _props.shape,\n                addSpot = _props.addSpot,\n                closeLine = _props.closeLine,\n                addTempLayer = _props.addTempLayer,\n                fixLayerHold = _props.fixLayerHold,\n                selectShape = _props.selectShape;\n\n\n            var layer = layers.reduce(function (accu, elt) {\n                return accu.id === curtTag ? accu : elt;\n            }, layers[0]);\n            // console.log(selectedTag);\n            // if(selectedTag){\n            //     selectShape(null);\n            //     return;\n            // }\n            if (layer.closed) return;\n\n            var _getPointerPosition = this.getPointerPosition(),\n                x = _getPointerPosition.x,\n                y = _getPointerPosition.y;\n\n            // x*=stageScale;\n            // y*=stageScale;\n\n            if (shape === 0) {\n\n                if (layer.firstSpotHit && layer.points.length > 2) {\n                    // let pointPos = this.getPointerPosition();\n                    closeLine();\n                    addTempLayer();\n                    fixLayerHold(curtTag);\n                    // console.log(ev);\n                } else {\n                    if (ev.target.className === 'Circle') return;\n                    // let {x,y} = this.getPointerPosition();\n                    addSpot(x, y, this.calcParm);\n                }\n            }\n\n            if (shape === 1) {\n\n                if (ev.target.className === 'Circle') return;\n                // let {x,y} = this.getPointerPosition();\n                addSpot(x, y, this.calcParm);\n                addSpot(x, y, this.calcParm);\n                addSpot(x, y, this.calcParm);\n                addSpot(x, y, this.calcParm);\n                closeLine();\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {}\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // let {stageContainer, stage} = this.refs;\n            //\n            // let {offsetWidth, offsetHeight} = stageContainer;\n            //\n            // let {stageWidth, stageHeight} = this;\n            //\n            // let fixStage = this.fixStage = () => fitStageIntoParentContainer(stageContainer, stageWidth, stageHeight, stage);\n\n            // fixStage();\n\n            // window.addEventListener('resize', fixStage);\n\n            // 加载图片\n\n            // imgObj.src = url;\n\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            // window.removeEventListener(\"resize\", this.fixStage);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _state = this.state,\n                prompt = _state.prompt,\n                data = _state.data;\n\n            // console.log(this.props);\n\n            var _props2 = this.props,\n                layersGroup = _props2.layersGroup,\n                image = _props2.image,\n                addSpot = _props2.addSpot,\n                moveShape = _props2.moveShape,\n                closeLine = _props2.closeLine,\n                pointMove = _props2.pointMove,\n                outFirstTime = _props2.outFirstTime,\n                fixFirstSpotHit = _props2.fixFirstSpotHit,\n                addTempLayer = _props2.addTempLayer,\n                shape = _props2.shape,\n                fixShapeFill = _props2.fixShapeFill,\n                selectShape = _props2.selectShape,\n                alterShapeState = _props2.alterShapeState,\n                fixLayerHold = _props2.fixLayerHold,\n                redoAPoint = _props2.redoAPoint,\n                stage = _props2.stage,\n                fistTimeUnclose = _props2.fistTimeUnclose;\n            var layers = layersGroup.layers,\n                curtTag = layersGroup.curtTag,\n                selectedTag = layersGroup.selectedTag,\n                holdingLayerID = layersGroup.holdingLayerID;\n\n            // console.log(layersGroup);\n\n            var stageWidth = stage.width,\n                stageHeight = stage.height;\n\n\n            var bodyInfo = { x: 0, y: 0, width: 0, height: 0 };\n\n            if (image) {\n                var imgWidth = image.width,\n                    imgHeight = image.height;\n\n                var _drawImgCenter = (0, _KonvaUtil.drawImgCenter)(imgWidth, imgHeight, stageWidth, stageHeight),\n                    x = _drawImgCenter.x,\n                    y = _drawImgCenter.y,\n                    w = _drawImgCenter.w,\n                    h = _drawImgCenter.h,\n                    scale = _drawImgCenter.scale;\n\n                bodyInfo = { x: x, y: y, width: w, height: h };\n\n                this.calcParm = { x: x, y: y, scale: scale };\n            }\n\n            var curtlayer = null;\n            var holdingLayer = null;\n            var selectedLayer = null;\n            var selectedLayerIndx = null;\n\n            layers = layers.map(function (layer, i) {\n                if (layer.id === curtTag) curtlayer = layer;\n                if (holdingLayerID && layer.id === holdingLayerID) holdingLayer = layer;\n                if (selectedTag && layer.id === selectedTag) {\n                    selectedLayer = layer;\n                    selectedLayerIndx = i;\n                };\n\n                var points = layer.points,\n                    fill = layer.fill,\n                    closed = layer.closed,\n                    id = layer.id,\n                    lineColor = layer.lineColor,\n                    overPointIndex = layer.overPointIndex,\n                    shapeType = layer.shapeType;\n\n                return React.createElement(_PaintingLayer2.default, _extends({\n                    key: id\n                }, {\n                    points: points,\n                    fill: fill,\n                    closed: closed,\n                    layerID: id,\n                    fixFirstSpotHit: fixFirstSpotHit,\n                    curtTag: curtTag,\n                    lineColor: lineColor,\n                    pointMove: pointMove,\n                    stageWidth: stageWidth,\n                    stageHeight: stageHeight,\n                    calcParm: _this2.calcParm,\n                    overPointIndex: overPointIndex,\n                    shape: shape,\n                    moveShape: moveShape,\n                    addTempLayer: addTempLayer,\n                    fixShapeFill: fixShapeFill,\n                    selectedTag: selectedTag,\n                    selectShape: selectShape,\n                    shapeType: shapeType,\n                    fixLayerHold: fixLayerHold,\n                    redoAPoint: redoAPoint,\n                    getPointerPosition: _this2.getPointerPosition\n                }));\n            });\n\n            if (selectedLayer) {\n                var tempArr = layers.splice(selectedLayerIndx, 1);\n                layers = layers.concat(tempArr);\n            }\n\n            // console.log(holdingLayer);\n            return React.createElement(\n                'div',\n                {\n                    ref: 'stageContainer',\n                    className: 'stageContainer',\n                    style: { position: \"relative\", width: '800px', height: '100%', overflow: 'auto' }\n                },\n                React.createElement(\n                    Stage,\n                    _extends({\n                        ref: 'stage'\n                    }, {\n                        // scale: {x:stageScale, y: stageScale},\n                        width: stageWidth,\n                        height: stageHeight\n                    }, {\n                        onMouseDown: function onMouseDown(ev) {\n                            var className = ev.target.className;\n\n                            // console.log(selectedTag, className);\n\n                            if (className === 'Line') return;\n                            if (selectedTag && className === 'Image') {\n\n                                selectShape(null);\n                                return;\n                            }\n\n                            if (shape === 0) {\n\n                                _this2.mark(ev);\n                            } else {\n                                if (_this2.clickTime === 0) {\n                                    _this2.mark(ev);\n                                    if (!selectedTag) {\n                                        _this2.clickTime++;\n                                    }\n                                } else {\n                                    addTempLayer();\n                                    fixLayerHold(curtTag);\n                                    if (!selectedTag) {\n                                        _this2.clickTime = 0;\n                                    }\n\n                                    // outFirstTime();\n                                }\n                            }\n                        },\n\n                        onMouseMove: function onMouseMove(ev) {\n                            // console.log(shape, 'shape');\n\n                            if (shape === 0) return;\n                            if (!curtlayer) return;\n                            if (_this2.clickTime !== 1) return;\n\n                            var calcParm = _this2.calcParm;\n\n                            var _getPointerPosition2 = _this2.getPointerPosition(),\n                                x = _getPointerPosition2.x,\n                                y = _getPointerPosition2.y;\n\n                            var i = 0;\n                            if (x < 4 || x > stageWidth - 4 || y < 4 || y > stageHeight - 4) return;\n\n                            pointMove(i, x, y, calcParm);\n                            if (shape === 1) {\n                                switch (i) {\n                                    case 0:\n                                        pointMove(1, null, y, calcParm);\n                                        pointMove(3, x, null, calcParm);\n                                        break;\n                                    case 1:\n                                        pointMove(0, null, y, calcParm);\n                                        pointMove(2, x, null, calcParm);\n                                        break;\n                                    case 2:\n                                        pointMove(1, x, null, calcParm);\n                                        pointMove(3, null, y, calcParm);\n                                        break;\n                                    case 3:\n                                        pointMove(0, x, null, calcParm);\n                                        pointMove(2, null, y, calcParm);\n                                        break;\n                                    default:\n\n                                }\n                            }\n                        }\n\n                    }),\n                    _jsx(Layer, {}, void 0, React.createElement(Image, {\n                        width: stageWidth,\n                        height: stageHeight\n                    }), React.createElement(Image, _extends({}, bodyInfo, {\n                        image: image\n                    }))),\n                    layers\n                ),\n                holdingLayer ? React.createElement(_ClosedPrompt2.default, {\n                    alterShapeState: alterShapeState,\n                    fixLayerHold: fixLayerHold,\n                    holdingLayer: holdingLayer,\n                    holdingLayerID: holdingLayerID,\n                    redoAPoint: redoAPoint,\n                    fistTimeUnclose: fistTimeUnclose,\n                    shape: shape\n                }) : null\n            );\n        }\n    }]);\n\n    return PaintingGroup;\n}(Component);\n\nexports.default = PaintingGroup;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(31), __webpack_require__(1)[\"Component\"], __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.redoAPoint = redoAPoint;\n\n\nvar UNDO = \"CANCLE_A_POINT\";\nvar NEXT = \"REDO_A_POINT\";\n\nfunction redoAPoint(layerID) {\n    return {\n        type: UNDO,\n        layerID: layerID\n    };\n}\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nexports.default = Img;\n\nvar _Util = __webpack_require__(16);\n\nfunction Img(_ref) {\n    var url = _ref.url,\n        photo = _ref.photo,\n        active = _ref.active,\n        switchPhoto = _ref.switchPhoto,\n        selectShape = _ref.selectShape,\n        shouldFinish = _ref.shouldFinish;\n\n    var inActive = active ? 'active' : '';\n    return _jsx('div', {\n        className: 'col-lg-1 col-md-1 col-sm-2 col-xs-3'\n    }, void 0, _jsx('div', {\n        className: 'thumbnail ' + inActive,\n        onClick: function onClick(ev) {\n\n            switchPhoto(photo);\n            selectShape(null, true);\n        }\n    }, void 0, _jsx('img', {\n        src: photo.url\n    })));\n}\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nexports.default = Tag;\n\nvar _style = __webpack_require__(73);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _Util = __webpack_require__(16);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Tag(_ref) {\n    var id = _ref.id,\n        tagName = _ref.tagName,\n        active = _ref.active,\n        selectShape = _ref.selectShape,\n        fixLayerHold = _ref.fixLayerHold,\n        fixShapeFill = _ref.fixShapeFill;\n\n\n    return _jsx('div', {\n        className: active ? _style2.default.active : '',\n        onClick: function onClick(ev) {\n            selectShape(id);\n        },\n        onDoubleClick: function onDoubleClick(ev) {\n            fixLayerHold(id);\n        },\n        onMouseOver: function onMouseOver(ev) {\n            return fixShapeFill(true, id);\n        },\n        onMouseOut: function onMouseOut(ev) {\n            return fixShapeFill(false, id);\n        }\n    }, void 0, tagName);\n}\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _redux = __webpack_require__(7);\n\nvar _BoardRedux = __webpack_require__(12);\n\nvar _BoardRedux2 = _interopRequireDefault(_BoardRedux);\n\nvar _PhotoGalleryRedux = __webpack_require__(41);\n\nvar _PhotoGalleryRedux2 = _interopRequireDefault(_PhotoGalleryRedux);\n\nvar _InitPhotosRedux = __webpack_require__(64);\n\nvar _InitPhotosRedux2 = _interopRequireDefault(_InitPhotosRedux);\n\nvar _StageRedux = __webpack_require__(70);\n\nvar _StageRedux2 = _interopRequireDefault(_StageRedux);\n\nvar _PropertyRedux = __webpack_require__(68);\n\nvar _PropertyRedux2 = _interopRequireDefault(_PropertyRedux);\n\nvar _ToolBoxRedux = __webpack_require__(69);\n\nvar _ToolBoxRedux2 = _interopRequireDefault(_ToolBoxRedux);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// console.log(tagsI);\nexports.default = {\n    photosData: _InitPhotosRedux2.default,\n    paintingBoard: _BoardRedux2.default,\n    curtPhoto: _PhotoGalleryRedux2.default,\n    tagsBoard: _PropertyRedux2.default,\n    shape: _ToolBoxRedux2.default,\n    stage: _StageRedux2.default\n};\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar addEventListener = exports.addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nvar removeEventListener = exports.removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\nvar getConfirmation = exports.getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = exports.supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopStateOnHashChange = exports.supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = exports.supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\nvar isExtraneousPopstateEvent = exports.isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = __webpack_require__(24);\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = __webpack_require__(34);\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = __webpack_require__(77);\n\nvar _PathUtils = __webpack_require__(33);\n\nvar _createTransitionManager = __webpack_require__(78);\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = __webpack_require__(151);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Browser history needs a DOM');\n\n  var globalHistory = window.history;\n  var canUseHistory = (0, _DOMUtils.supportsHistory)();\n  var needsHashChangeListener = !(0, _DOMUtils.supportsPopStateOnHashChange)();\n\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n\n\n    var path = pathname + search + hash;\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) return;\n\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + (0, _PathUtils.createPath)(location);\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.pushState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.replaceState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createBrowserHistory;\n\n/***/ }),\n\n/***/ 16:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.finishFirst = finishFirst;\nexports.hintFinish = hintFinish;\nfunction finishFirst(layers, curt) {\n\n    return layers.reduce(function (accu, elt) {\n        return accu.id === curt ? accu : elt;\n    }, layers[0]).points.length !== 0;\n}\n\nfunction hintFinish() {\n    window.alert('请先完成标注');\n}\n\n/***/ }),\n\n/***/ 265:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"5d002ef41dded1ae8ff34a6d8ecf1c70.jpg\";\n\n/***/ }),\n\n/***/ 266:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"f5d86e648bbd8d8ac09e5c1f75ae52d1.jpg\";\n\n/***/ }),\n\n/***/ 267:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"d49e6ecd8eb6112e6ab92f1e3454e987.jpg\";\n\n/***/ }),\n\n/***/ 268:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"01d63a8c029e393d05d8d16652dbcfbe.jpg\";\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"d1d19c4f889b2e13691fe66b82e938e8.jpg\";\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.switchPhoto = undefined;\nexports.default = curtPhoto;\n\nvar _BoardRedux = __webpack_require__(12);\n\nvar _Util = __webpack_require__(16);\n\nvar SWITCH_PHOTO = 'SWITCH_PHOTO';\nvar NEXT_PHOTO = 'NEXT_PHOTO';\nvar PREVIOUS_PHOTO = 'PREVIOUS_PHOTO';\n\nvar switchPhoto = exports.switchPhoto = function switchPhoto(photo) {\n    return function (dispatch, getState) {\n\n        var curtPhotoID = getState().curtPhoto.id;\n\n        if (curtPhotoID !== undefined) {\n\n            var layerGroup = getState().paintingBoard[curtPhotoID];\n            if (layerGroup.holdingLayerID || (0, _Util.finishFirst)(layerGroup.layers, layerGroup.curtTag)) {\n                (0, _Util.hintFinish)();\n                return;\n            }\n        }\n\n        dispatch({\n            type: SWITCH_PHOTO,\n            photo: photo\n        });\n\n        if (!getState().paintingBoard[photo.id]) {\n            dispatch((0, _BoardRedux.addTempLayer)(photo.id));\n        } else {\n            if (getState().paintingBoard[photo.id].curtTag) return;\n            dispatch((0, _BoardRedux.addTempLayer)(photo.id));\n        }\n    };\n};\n// 当前 photo 的 id\nfunction curtPhoto() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n    var type = action.type,\n        photo = action.photo;\n\n\n    switch (type) {\n        case SWITCH_PHOTO:\n            return photo;\n            break;\n\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.loadImage = undefined;\nexports.addPhotos = addPhotos;\nexports.default = photos;\n\nvar _reactRouterRedux = __webpack_require__(25);\n\nvar _PhotoGalleryRedux = __webpack_require__(41);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar imgArr = [__webpack_require__(266), __webpack_require__(267), __webpack_require__(268), __webpack_require__(269), __webpack_require__(265)];\n\n// let imgData = {};\n// imgArr.forEach((elt,i)=>{\n//     imgData[i] = { id: i, url: elt};\n// });\n\nvar imgData = imgArr.map(function (elt, i) {\n    return { id: i, url: elt };\n});\n\nvar initState = [];\n\nvar LOAD_IMAGE = 'LOAD_IMAGE';\n\nfunction addPhotos(imgArr) {\n    return {\n        type: LOAD_IMAGE,\n        imgArr: imgArr\n    };\n}\n\nvar loadImage = exports.loadImage = function loadImage() {\n    return function (dispatch, getState) {\n\n        var photosData = getState().router.location.state;\n\n        dispatch(addPhotos(imgData));\n        // if(!photosData){\n        //\n        // }\n\n        if (!getState().curtPhoto.id) {\n            var photo = imgData[0];\n            dispatch((0, _PhotoGalleryRedux.switchPhoto)(photo));\n        }\n    };\n};\n\nfunction photos() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var action = arguments[1];\n    var type = action.type,\n        imgArr = action.imgArr;\n\n    switch (type) {\n        case LOAD_IMAGE:\n            return [].concat(_toConsumableArray(state), _toConsumableArray(imgArr));\n            break;\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fitStageIntoParentContainer = fitStageIntoParentContainer;\nexports.drawImgCenter = drawImgCenter;\nexports.getRectToImg = getRectToImg;\nfunction fitStageIntoParentContainer(container, stageWidth, stageHeight, stage) {\n\n    // now we need to fit stage into parent\n    var containerWidth = container.offsetWidth;\n    // to do this we need to scale the stage\n    var scale = containerWidth / stageWidth;\n    stage.width(stageWidth * scale);\n    stage.height(stageHeight * scale);\n    stage.scale({ x: scale, y: scale });\n    stage.draw();\n}\n\nfunction drawImgCenter(imgW, imgH, cvsW, cvsH) {\n    var scale = imgW / imgH;\n    var res = {};\n\n    // 第一种情况 图片的宽度比高度大\n\n    if (imgW >= imgH) {\n        res.w = cvsW;\n        res.h = res.w / scale;\n        res.x = (cvsW - res.w) / 2;\n        res.y = (cvsH - res.h) / 2;\n        res.scale = imgW / res.w;\n    }\n\n    // 第二种情况 图片的高度比宽度大\n    if (imgW <= imgH) {\n        res.h = cvsH;\n        res.w = res.h * scale;\n        res.x = (cvsW - res.w) / 2;\n        res.y = (cvsH - res.h) / 2;\n        res.scale = imgH / res.h;\n    }\n\n    return res;\n}\n\nfunction getRectToImg(currentX, currentY, result) {\n    var x = result.x,\n        y = result.y,\n        scale = result.scale;\n\n\n    var disW = (currentX - x) * scale;\n    var disT = (currentY - y) * scale;\n\n    return { disW: disW, disT: disT };\n}\n\n/***/ }),\n\n/***/ 67:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(KV, Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _KV = KV,\n    Image = _KV.Image,\n    Layer = _KV.Layer,\n    Line = _KV.Line,\n    Circle = _KV.Circle,\n    Canvas = _KV.Canvas,\n    Group = _KV.Group;\n\nvar PaintingLayer = function (_Component) {\n    _inherits(PaintingLayer, _Component);\n\n    function PaintingLayer(props) {\n        _classCallCheck(this, PaintingLayer);\n\n        var _this = _possibleConstructorReturn(this, (PaintingLayer.__proto__ || Object.getPrototypeOf(PaintingLayer)).call(this, props));\n\n        _this.curtCircle = null;\n\n        var canvas = _this.canvas = document.createElement('canvas');\n        canvas.width = props.stageWidth;\n        canvas.height = props.stageHeight;\n\n        return _this;\n    }\n\n    _createClass(PaintingLayer, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                points = _props.points,\n                fill = _props.fill,\n                closed = _props.closed,\n                layerID = _props.layerID,\n                curtTag = _props.curtTag,\n                pointMove = _props.pointMove,\n                fixFirstSpotHit = _props.fixFirstSpotHit,\n                lineColor = _props.lineColor,\n                calcParm = _props.calcParm,\n                stageWidth = _props.stageWidth,\n                stageHeight = _props.stageHeight,\n                overPointIndex = _props.overPointIndex,\n                shape = _props.shape,\n                moveShape = _props.moveShape,\n                fixShapeFill = _props.fixShapeFill,\n                selectedTag = _props.selectedTag,\n                selectShape = _props.selectShape,\n                shapeType = _props.shapeType,\n                fixLayerHold = _props.fixLayerHold,\n                getPointerPosition = _props.getPointerPosition;\n\n\n            var linePoints = [];\n\n            points.forEach(function (elt) {\n                linePoints.push(elt.x, elt.y);\n            });\n\n            var pointsComp = null;\n\n            if (layerID === curtTag || layerID === selectedTag) {\n                pointsComp = points.map(function (point, i) {\n                    var x = point.x,\n                        y = point.y;\n\n\n                    return React.createElement(Circle, _extends({\n                        key: i,\n                        ref: 'Circle' + i,\n                        onMouseOver: function onMouseOver(ev) {\n                            if (shape === 0 && i === 0) {\n                                fixFirstSpotHit(true, i);\n                            } else {\n                                fixFirstSpotHit(false, i);\n                            }\n                        },\n\n                        onMouseOut: function onMouseOut(ev) {\n                            fixFirstSpotHit(false, null);\n                        }\n\n                    }, {\n                        x: x,\n                        y: y,\n                        radius: overPointIndex === i ? 8 : 6,\n                        fill: overPointIndex === 0 && i === 0 && !closed ? null : '#00ff00',\n                        stroke: '#ff0000',\n                        strokeWidth: 3,\n                        draggable: true\n                    }, {\n\n                        onDragMove: function onDragMove(ev) {\n                            var _ev$target$attrs = ev.target.attrs,\n                                x = _ev$target$attrs.x,\n                                y = _ev$target$attrs.y;\n\n\n                            if (x < 4 || x > stageWidth - 4 || y < 4 || y > stageHeight - 4) return;\n                            pointMove(i, x, y, calcParm);\n                            if (shapeType === 1) {\n                                switch (i) {\n                                    case 0:\n                                        pointMove(1, null, y, calcParm);\n                                        pointMove(3, x, null, calcParm);\n                                        break;\n                                    case 1:\n                                        pointMove(0, null, y, calcParm);\n                                        pointMove(2, x, null, calcParm);\n                                        break;\n                                    case 2:\n                                        pointMove(1, x, null, calcParm);\n                                        pointMove(3, null, y, calcParm);\n                                        break;\n                                    case 3:\n                                        pointMove(0, x, null, calcParm);\n                                        pointMove(2, null, y, calcParm);\n                                        break;\n                                    default:\n\n                                }\n                            }\n                        },\n                        dragBoundFunc: function dragBoundFunc(_ref) {\n                            var x = _ref.x,\n                                y = _ref.y;\n\n\n                            if (x < 4) {\n                                x = 4;\n                            }\n\n                            if (x > stageWidth - 4) {\n                                x = stageWidth - 4;\n                            }\n\n                            if (y < 4) {\n                                y = 4;\n                            }\n\n                            if (y > stageHeight - 4) {\n                                y = stageHeight - 4;\n                            }\n\n                            return {\n                                x: x, y: y\n                            };\n                        }\n                    }));\n                });\n            } else {\n                pointsComp = null;\n            }\n\n            return _jsx(Layer, {}, void 0, selectedTag ? React.createElement(Image, _extends({\n                width: stageWidth,\n                height: stageHeight\n                // image: this.canvas\n                // fill: 'red'\n            }, {\n                onMouseMove: function onMouseMove(ev) {\n                    // console.log(ev.target.className);\n                    if (!_this2.offsetDistence) return;\n                    moveShape(_this2.offsetDistence, getPointerPosition(), layerID);\n                }\n            })) : null, React.createElement(Line, _extends({\n                points: linePoints,\n                stroke: lineColor,\n                strokeWidth: 4,\n                lineJoin: 'round',\n                closed: closed,\n                fill: fill || selectedTag === layerID ? 'rgba(255,0,0,0.3)' : null,\n                listening: selectedTag === layerID ? true : false\n            }, {\n                // onMouseOver={ev=>{\n                //     // fixShapeFill(true, layerID)\n                // }\n                // }\n                // onMouseOut={ev=>fixShapeFill(false, layerID)}\n                // onClick={ev=>{\n                //\n                //     selectShape(layerID);\n                // }}\n\n                onMouseDown: function onMouseDown(ev) {\n                    var pos = getPointerPosition();\n                    _this2.offsetDistence = points.map(function (point) {\n                        return {\n                            x: pos.x - point.x,\n                            y: pos.y - point.y\n                        };\n                    });\n                    // console.log(this.offsetDistence);\n                },\n\n                onMouseUp: function onMouseUp(ev) {\n                    _this2.offsetDistence = null;\n                },\n\n                onDblClick: function onDblClick(ev) {\n                    fixLayerHold(layerID);\n                },\n                onMouseMove: function onMouseMove(ev) {\n                    if (!_this2.offsetDistence) return;\n                    moveShape(_this2.offsetDistence, getPointerPosition(), layerID);\n                }\n            })), closed ? React.createElement(Line, _extends({\n                points: [].concat(linePoints, [linePoints[0], linePoints[1]]),\n                stroke: 'red',\n                strokeWidth: 14,\n                opacity: 0\n            }, {\n                onMouseOver: function onMouseOver(ev) {\n                    fixShapeFill(true, layerID);\n                    // console.log('over');\n                },\n                onMouseOut: function onMouseOut(ev) {\n                    return fixShapeFill(false, layerID);\n                },\n                onClick: function onClick(ev) {\n\n                    selectShape(layerID);\n                },\n                onDblClick: function onDblClick(ev) {\n                    fixLayerHold(layerID);\n                }\n            })) : null, pointsComp);\n        }\n    }]);\n\n    return PaintingLayer;\n}(Component);\n\nexports.default = PaintingLayer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(31), __webpack_require__(1)[\"Component\"], __webpack_require__(1)))\n\n/***/ }),\n\n/***/ 68:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addTag = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.switchTag = switchTag;\nexports.default = tagsBoard;\n\nvar _redux = __webpack_require__(7);\n\nvar _BoardRedux = __webpack_require__(12);\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar ADD_TAG = 'ADD_TAGSSS';\nvar SWITCH_TAG = 'SWITCH_TAGSSS';\n\nvar initState = {};\n\n// initState: {\n//     curtPhotoID: {\n//         curtTag,\n//         tags\n//     }\n// }\n\n// tag: {\n//     key: elt.id,\n//     tagName:\n// }\n\nvar addTag = exports.addTag = function addTag() {\n    return function (dispatch, getStage) {\n        var id = getStage().curtPhoto.id;\n\n\n        var tag = { id: Math.random(), tagName: '\\u56FE\\u5C42:' + Math.random().toString().slice(2, 6) };\n\n        dispatch({\n            type: ADD_TAG,\n            curtPhotoID: id,\n            tag: tag\n        });\n\n        dispatch((0, _BoardRedux.addTempLayer)(id, tag.id));\n\n        // dispatch(switchTag(id, tag.id));\n    };\n};\n\nfunction switchTag(curtPhotoID, id) {\n    return { type: SWITCH_TAG, curtPhotoID: curtPhotoID, id: id };\n}\n\nfunction tagsBoard() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n    var action = arguments[1];\n    var type = action.type,\n        curtPhotoID = action.curtPhotoID,\n        tag = action.tag,\n        id = action.id;\n\n\n    var tagsGroup = state[curtPhotoID];\n    if (!tagsGroup) {\n        tagsGroup = {};\n    }\n\n    switch (type) {\n        case ADD_TAG:\n            var _tagsGroup = tagsGroup,\n                tags = _tagsGroup.tags;\n\n            if (!tags) {\n                tags = [];\n            }\n\n            var curtTag = null;\n\n            // if(!tagsGroup.curtTag){\n            //\n            //     return {...state, ...{\n            //         [curtPhotoID]: {...tagsGroup, ...{\n            //             tags: [tag, ...tags],\n            //             curtTag: tag.id\n            //         }}\n            //     }};\n            // }\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, tagsGroup, { tags: [tag].concat(_toConsumableArray(tags)), curtTag: tag.id })));\n\n        case SWITCH_TAG:\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, tagsGroup, { curtTag: id })));\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 69:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.changeShape = undefined;\nexports.default = shape;\n\nvar _Util = __webpack_require__(16);\n\nvar CHANGE_SHAPE = 'CHANGE_SHAPE';\n\nvar changeShape = exports.changeShape = function changeShape(shape) {\n    return function (dispatch, state) {\n        var curtPhotoID = state().curtPhoto.id;\n\n        if (curtPhotoID !== undefined) {\n\n            var layerGroup = state().paintingBoard[curtPhotoID];\n            if (layerGroup.holdingLayerID || (0, _Util.finishFirst)(layerGroup.layers, layerGroup.curtTag)) {\n                (0, _Util.hintFinish)();\n                return;\n            }\n        }\n\n        dispatch({\n            type: CHANGE_SHAPE,\n            shape: shape\n        });\n    };\n};\n\nfunction shape() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var action = arguments[1];\n    var type = action.type,\n        shape = action.shape;\n\n\n    switch (type) {\n        case CHANGE_SHAPE:\n            return shape;\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 70:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.decrementStage = exports.incrementStage = exports.adaptStage = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = stage;\n\nvar _BoardRedux = __webpack_require__(12);\n\nvar ADAPT_STAGE = 'ADAPT_STAGE';\nvar INCREMENT_STAGE = 'INCREMENT_STAGE';\nvar DECREMENT_STAGE = 'DECREMENT_STAGE';\n\nvar OriWidth = 760;\nvar OriHeight = 500;\n\nvar initState = {\n    width: OriWidth,\n    height: OriHeight,\n    preWidth: OriWidth,\n    preHeight: OriHeight\n};\n\nvar adaptStage = exports.adaptStage = function adaptStage() {\n    return function (dispatch, getState) {\n        var _getState$stage = getState().stage,\n            width = _getState$stage.width,\n            height = _getState$stage.height;\n\n\n        dispatch({\n            type: ADAPT_STAGE,\n            width: OriWidth,\n            height: OriHeight,\n            preWidth: width,\n            preHeight: height\n        });\n\n        dispatch((0, _BoardRedux.fixPointPosition)());\n    };\n};\n\nvar incrementStage = exports.incrementStage = function incrementStage() {\n    return function (dispatch, getState) {\n        var _getState$stage2 = getState().stage,\n            width = _getState$stage2.width,\n            height = _getState$stage2.height;\n\n\n        var preWidth = width,\n            preHeight = height;\n\n        width *= 1.2;\n        height *= 1.2;\n\n        if (width > 2760 || height > 1500) {\n            return;\n        }\n\n        dispatch({\n            type: INCREMENT_STAGE,\n            width: width, height: height, preWidth: preWidth, preHeight: preHeight\n        });\n\n        dispatch((0, _BoardRedux.fixPointPosition)());\n    };\n};\n\nvar decrementStage = exports.decrementStage = function decrementStage() {\n    return function (dispatch, getState) {\n        var _getState$stage3 = getState().stage,\n            width = _getState$stage3.width,\n            height = _getState$stage3.height;\n\n\n        var preWidth = width,\n            preHeight = height;\n\n        width = width / 1.2;\n        height = height / 1.2;\n\n        if (width < 760 || height < 500) {\n            width = OriWidth;\n            height = OriHeight;\n        }\n\n        dispatch({\n            type: DECREMENT_STAGE,\n            width: width, height: height, preWidth: preWidth, preHeight: preHeight\n        });\n\n        dispatch((0, _BoardRedux.fixPointPosition)());\n    };\n};\n\nfunction stage() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n    var action = arguments[1];\n    var type = action.type,\n        width = action.width,\n        height = action.height,\n        preWidth = action.preWidth,\n        preHeight = action.preHeight;\n\n    switch (type) {\n        case ADAPT_STAGE:\n        case INCREMENT_STAGE:\n        // return state+=0.2;\n        case DECREMENT_STAGE:\n            return _extends({}, state, { width: width, height: height, preWidth: preWidth, preHeight: preHeight });\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"showData\":\"showData--PNnx9g\",\"closedPrompt\":\"closedPrompt--3iDUYz\",\"area\":\"area--6SZkbo\"};\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"showData\":\"showData--3-dehD\",\"active\":\"active--37YGhS\"};\n\n/***/ })\n\n},[131]);\n\n\n// WEBPACK FOOTER //\n// app_fdfb796c.js","import Konva from 'konva';\nimport {combineReducers} from 'redux';\nimport {addTag} from 'property/PropertyRedux';\nimport {\n    fitStageIntoParentContainer,\n    drawImgCenter,\n    getRectToImg\n} from 'util/KonvaUtil';\nimport {hintFinish, finishFirst} from 'common/util/Util';\n\nconst ADD_TEMP_LAYER = \"ADD_LAYER\";\n\nconst UNDO = \"CANCLE_A_POINT\";\nconst NEXT = \"REDO_A_POINT\";\nconst ADD_SPOT = \"ADD_SPOT\";\nconst CLOSE_LINE = \"CLOSE_LINE\";\nconst FIX_POINT_STATE = \"FIX_POINT_STATE\";\nconst POINT_MOVE = \"POINT_MOVE\";\nconst OUT_FIRST_TIME = \"OUT_FIRST_TIME\";\nconst MOVE_A_SHAPE = \"MOVE_A_SHAPE\";\nconst FIX_SHAPE_FILL = \"FIX_SHAPE_FILL\";\nconst SELECT_A_SHAPE = \"SELECT_A_SHAPE\";\nconst ALTER_SHAPE = \"ALTER_SHAPE\";\nconst DELETE_SHAPE = \"DELETE_SHAPE\";\nconst FIX_LAYER_HOLD = \"FIX_LAYER_HOLD\";\nconst FIX_POINT_POSITION = \"FIX_POINT_POSITION\";\nconst FIRST_TIME_UNCLOSE = \"FIRST_TIME_UNCLOSE\";\n\n// let initState = {\n//     curtPhotoID: layerGroup\n// };\n\n// layerGroup : {\n//     curtTagID: layer\n// }\n// layer : {\n//\n//     id: 0,\n//     points: [],\n//     actualPoints: [],\n//     fill: null,\n//     closed: false,\n//     firstSpotHit: false\n//\n// }\n\n\nlet initState = {};\n\nexport const addTempLayer = (curtPhotoID) =>(dispatch, state)=> {\n    let curtPhotoID = state().curtPhoto.id;\n\n\n    dispatch({\n        type: ADD_TEMP_LAYER,\n        curtPhotoID\n    });\n}\n\nexport const addSpot = (x, y, calcParm) => (dispatch, getState)=> {\n\n    let curtPhotoID = getState().curtPhoto.id;\n    let {curtTag: curtTagID, holdingLayerID} = getState().paintingBoard[curtPhotoID];\n\n    if(holdingLayerID){\n        hintFinish();\n        return;\n    }\n\n    dispatch({\n        type: ADD_SPOT,\n        pointX: x,\n        pointY: y,\n        calcParm,\n        curtTagID,\n        curtPhotoID\n    });\n}\n\nexport const closeLine = () => (dispatch, getState) => {\n    let curtPhotoID = getState().curtPhoto.id;\n    let {curtTag, selectedTag} = getState().paintingBoard[curtPhotoID];\n\n    let curtTagID = selectedTag || curtTag;\n\n    dispatch({\n        type: CLOSE_LINE,\n        curtTagID,\n        curtPhotoID\n    });\n\n\n}\nexport const fixFirstSpotHit = (flag, pointIndx) => (dispatch, getState) => {\n    // console.log(flag);\n    let curtPhotoID = getState().curtPhoto.id;\n    let {curtTag, selectedTag} = getState().paintingBoard[curtPhotoID];\n\n    let curtTagID = selectedTag || curtTag;\n\n    dispatch({\n        type: FIX_POINT_STATE,\n        flag,\n        curtTagID,\n        curtPhotoID,\n        pointIndx\n    });\n\n}\n\nexport const pointMove = ( pointIndx, x, y, calcParm) => (dispatch, getState) =>{\n    let curtPhotoID = getState().curtPhoto.id;\n    let {curtTag, selectedTag, holdingLayerID} = getState().paintingBoard[curtPhotoID];\n\n    let curtTagID = selectedTag || curtTag;\n\n    if(holdingLayerID){\n        hintFinish();\n        return;\n    }\n\n    dispatch({\n        type: POINT_MOVE,\n        curtPhotoID,\n        curtTagID,\n        pointIndx,\n        pointX: x,\n        pointY: y,\n        calcParm\n    });\n}\n\nexport const fixPointPosition = ( ) => (dispatch, getState) =>{\n\n    let curtPhotoID = getState().curtPhoto.id;\n    let {width, height, preWidth, preHeight} = getState().stage;\n\n    let evoScale = width/preWidth\n\n    dispatch({\n        type: FIX_POINT_POSITION,\n        curtPhotoID,\n        evoScale\n    });\n\n}\n\nexport const redoAPoint = ( specTag ) =>(dispatch, getState)=> {\n    let curtPhotoID = getState().curtPhoto.id;\n    let {curtTag, selectedTag, holdingLayerID} = getState().paintingBoard[curtPhotoID];\n\n    if(holdingLayerID){\n        hintFinish();\n        return;\n    }\n\n    if(selectedTag){ return }\n\n    let curtTagID = specTag || curtTag ;\n\n    dispatch({\n        type: UNDO,\n        curtTagID,\n        curtPhotoID\n    });\n}\n\nexport const fistTimeUnclose = ( specTag ) =>(dispatch, getState)=> {\n    let curtPhotoID = getState().curtPhoto.id;\n    let {curtTag, selectedTag, holdingLayerID} = getState().paintingBoard[curtPhotoID];\n\n    // if(holdingLayerID){\n    //     hintFinish();\n    //     return;\n    // }\n\n    // if(selectedTag){ return }\n\n    let curtTagID = specTag || curtTag ;\n\n    dispatch({\n        type: FIRST_TIME_UNCLOSE,\n        curtTagID,\n        curtPhotoID,\n        holdingLayerID\n    });\n}\n\nexport const outFirstTime = () =>(dispatch, getState)=> {\n    let curtPhotoID = getState().curtPhoto.id;\n    let {curtTag, selectedTag} = getState().paintingBoard[curtPhotoID];\n\n    let curtTagID = curtTag;\n\n    dispatch({\n        type: OUT_FIRST_TIME,\n        curtTagID,\n        curtPhotoID\n    });\n}\n\n\nexport const fixShapeFill = (isFill, curtTagID) =>(dispatch, getState)=> {\n    let curtPhotoID = getState().curtPhoto.id;\n    let {holdingLayerID} = getState().paintingBoard[curtPhotoID];\n\n\n\n    dispatch({\n        type: FIX_SHAPE_FILL,\n        curtTagID,\n        curtPhotoID,\n        isFill\n    });\n}\n\nexport const selectShape = ( selectedTagID, isDepend) =>(dispatch, getState)=> {\n\n    let curtPhotoID = getState().curtPhoto.id;\n\n    if( curtPhotoID !== undefined && !isDepend){\n\n        let layerGroup = getState().paintingBoard[curtPhotoID];\n        if(layerGroup.holdingLayerID || finishFirst(layerGroup.layers, layerGroup.curtTag)){\n            hintFinish();\n            return;\n        }\n    }\n\n    dispatch({\n        type: SELECT_A_SHAPE,\n        selectedTagID,\n        curtPhotoID\n    });\n}\n\n\n\nexport const moveShape = (offsetDistenceArr, pointPos, specTag, calcParm) =>(dispatch, getState)=> {\n    let curtPhotoID = getState().curtPhoto.id;\n    dispatch({\n        type: MOVE_A_SHAPE,\n        specTag,\n        curtPhotoID,\n        offsetDistenceArr,\n        pointPos,\n        calcParm\n    });\n}\n\nexport const deleteShape = ( layerID ) =>(dispatch, getState)=> {\n    let curtPhotoID = getState().curtPhoto.id;\n\n\n    dispatch({\n        type: DELETE_SHAPE,\n        curtPhotoID,\n        layerID\n    });\n\n}\nexport const alterShape = ( tagName, attrs, layerID ) =>(dispatch, getState)=> {\n    let curtPhotoID = getState().curtPhoto.id;\n    let shapeType = getState().shape;\n\n    dispatch({\n        type: ALTER_SHAPE,\n        curtPhotoID,\n        layerID,\n        tagName,\n        attrs,\n        shapeType\n    });\n\n}\n\nexport const alterShapeState = ( {tagName='', layerID=null, attrs='',  isDelete=false, isDone=false} ) =>(dispatch, getState)=> {\n    let curtPhotoID = getState().curtPhoto.id;\n\n    if(isDone){\n        dispatch(alterShape(tagName, attrs, layerID));\n    }\n\n    if(isDelete){\n        dispatch(deleteShape( layerID ));\n    }\n\n}\n\nexport const fixLayerHold = ( holdingLayerID ) =>(dispatch, getState)=> {\n    let curtPhotoID = getState().curtPhoto.id;\n\n    dispatch({\n        type: FIX_LAYER_HOLD,\n        curtPhotoID,\n        holdingLayerID\n    });\n\n}\n\nexport default function paintingBoard(state=initState, action){\n\n    let {\n        type,\n        curtPhotoID,\n        curtTagID,\n        pointX,\n        pointY,\n        calcParm,\n        flag,\n        pointIndx,\n        isFill,\n        selectedTagID,\n        layerID,\n        tagName,\n        holdingLayerID,\n        attrs,\n        shapeType,\n        evoScale,\n        pointPos,\n        offsetDistenceArr,\n        specTag\n    } = action;\n\n    let layerGroup = state[curtPhotoID];\n    if(!layerGroup){ layerGroup = {}; }\n\n    let {layers} = layerGroup;\n    if(!layers) layers=[];\n\n    switch (type) {\n        case ADD_TEMP_LAYER:\n            let color = Konva.Util.getRandomColor();\n            let tempLayerID = Math.random();\n            return {...state,\n                [curtPhotoID] : {\n                    layers: [...layers, {\n                        id: tempLayerID,\n                        tagName: '',\n                        points: [],\n                        actualPoints: [],\n                        fill: null,\n                        closed: false,\n                        firstSpotHit: false,\n                        lineColor: color,\n                        overPointIndex: null,\n                        shape: 0,\n                        firstTimeNewPoint: true,\n                        attrs: '',\n                        shapeType: null,\n                        everDone: false\n                    }],\n                    curtTag: tempLayerID,\n                    selectedTag: null,\n                    holdingLayerID: null\n                }\n            };\n\n        case ADD_SPOT:\n            if(true){\n                // let {disW, disT} = getRectToImg(pointX, pointY, calcParm);\n\n                layers = layers.map(layer=>{\n                    if(layer.id===curtTagID){\n                        layer.points = [...layer.points, {x:pointX, y:pointY}];\n                        // layer.actualPoints = [...layer.actualPoints, {x:disW, y:disT}];\n                    }\n                    return layer;\n                });\n\n                return {...state,\n                    [curtPhotoID] : {...layerGroup, layers}\n                }\n            };\n\n        case CLOSE_LINE:\n\n            // layer = {...layer, ...{\n            //     closed: true,\n            //     fill: 'rgba(255, 0, 0, 0.3)'\n            // }}\n\n            layers = layers.map(layer=>{\n                if(layer.id===curtTagID){\n                    layer.closed = true;\n                };\n                return layer;\n            });\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers}\n            }\n\n        case FIX_POINT_STATE:\n\n            layers = layers.map(layer=>{\n                if(layer.id===curtTagID){\n                    layer.firstSpotHit = flag;\n                    layer.overPointIndex = pointIndx;\n                }\n                return layer;\n            });\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers}\n            }\n\n        case FIX_SHAPE_FILL:\n\n            layers = layers.map(layer=>{\n                if(layer.id===curtTagID){\n                    layer.fill = isFill ? 'rgba(255, 0, 0, 0.3)': null;\n                }\n                return layer;\n            });\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers}\n            }\n\n        case SELECT_A_SHAPE:\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, selectedTag: selectedTagID}\n            }\n\n        case POINT_MOVE:\n\n            layers = layers.map(layer=>{\n                if(layer.id===curtTagID){\n                    let pt = layer.points[pointIndx];\n                    if(pointX!==null){\n                        pt.x = pointX;\n                    }\n                    if(pointY!==null){\n                        pt.y = pointY;\n                    }\n\n                    // let {disW, disT} = getRectToImg(pt.x, pt.y, calcParm);\n\n                    // layer.actualPoints[pointIndx] = {x: disW, y: disT};\n\n                }\n                return layer;\n            });\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers}\n            }\n\n        case FIX_POINT_POSITION:\n\n            layers = layers.map(layer=>{\n\n                let points = layer.points.map(({x,y})=>{\n\n                    return {\n                        x: x*evoScale,\n                        y: y*evoScale\n                    }\n                });\n\n                return {...layer, points};\n            });\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers}\n            }\n\n        case UNDO:\n\n            layers = layers.map(layer=>{\n                if(layer.id===curtTagID){\n                    if(layer.closed){\n                        layer.closed = false;\n                        layer.everDone = false;\n                    }else{\n                        layer.points.pop();\n                        layer.actualPoints.pop();\n                    }\n                };\n                return layer;\n            });\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers}\n            }\n        case FIRST_TIME_UNCLOSE:\n\n            layers = layers.map(layer=>{\n                // curtTagID\n                if(layer.id===holdingLayerID){\n                    layer.closed = false;\n                    layer.everDone = false;\n                };\n                return layer;\n            });\n\n            let deleteIndex = null;\n            layers.forEach(( layer, i)=>{\n                if(layer.id===curtTagID){\n                    deleteIndex = i;\n                }\n            });\n            layers.splice(deleteIndex, 1);\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers, curtTag: holdingLayerID, holdingLayerID: null}\n            }\n        case OUT_FIRST_TIME:\n\n            layers = layers.map(layer=>{\n                if(layer.id===curtTagID){\n                    layer.firstTimeNewPoint = false;\n                }\n                return layer;\n            });\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers}\n            }\n        case DELETE_SHAPE:\n\n            let shouldDeleteIndex = null;\n            layers.forEach(( layer, i)=>{\n                if(layer.id===layerID){\n                    shouldDeleteIndex = i;\n                }\n            });\n\n            layers.splice(shouldDeleteIndex, 1);\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers, holdingLayerID: null, selectedTag: null}\n            }\n        case ALTER_SHAPE:\n\n            layers = layers.map(( layer, i)=>{\n                if(layer.id===layerID){\n                    layer.tagName = tagName;\n                    layer.attrs = attrs;\n                    layer.shapeType = shapeType;\n                    layer.everDone = true;\n                }\n                return layer;\n            });\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers, holdingLayerID: null}\n            }\n        case FIX_LAYER_HOLD:\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup,\n                    holdingLayerID\n                }\n            }\n        case MOVE_A_SHAPE:\n\n            layers = layers.map(layer=>{\n\n                if(layer.id===specTag){\n                    // pointPos\n                    layer.points = layer.points.map((point, i)=>{\n                        return {\n                            x: pointPos.x- offsetDistenceArr[i].x,\n                            y: pointPos.y- offsetDistenceArr[i].y\n                        }\n                    });\n\n                }\n                return layer;\n            });\n\n            return {...state,\n                [curtPhotoID] : {...layerGroup, layers}\n            }\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drawingBoard/BoardRedux.js","\nimport {connect} from 'react-redux';\nimport {bindActionCreators, combineReducers} from 'redux';\nconst {Stage, Layer, Circle, Line, Image} = KV;\nimport PaintingGroup from './PaintingGroup';\nimport PaintingLayer from './PaintingLayer';\nimport * as actionCreators from './BoardRedux';\n\nclass Board extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            image: null\n        }\n\n    }\n\n    loadImage(url){\n        let imgObj = new window.Image();\n\n        imgObj.onload = ()=>{\n            this.setState({\n                image: imgObj\n            })\n        }\n\n        imgObj.src = url;\n    }\n\n    componentWillReceiveProps(nProps){\n\n        this.loadImage(nProps.curtPhoto.url);\n    }\n\n    componentDidMount(){\n\n    }\n\n    render(){\n\n        let { paintingBoard, curtPhoto, actions, shape, stage } = this.props;\n\n        let {id: curtPhotoID} = curtPhoto;\n\n        let layersGroup = paintingBoard[curtPhotoID];\n\n        if(!layersGroup) return null;\n\n        let {image} = this.state;\n\n        return (\n            <div\n                className=\"thumbnail img\"\n                ref=\"container\"\n            >\n                <PaintingGroup\n                    {...{\n                        layersGroup,\n                        image,\n                        shape,\n                        stage\n                    }}\n                    {...actions}\n                />\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    state => {\n        let {curtPhoto, paintingBoard, photosData, shape, stage} = state;\n        return {\n            curtPhoto,\n            paintingBoard,\n            photosData,\n            shape,\n            stage\n        }\n    },\n    dispatch => ({actions: bindActionCreators({...actionCreators}, dispatch)})\n)(Board);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drawingBoard/Board.js","\nimport {connect} from 'react-redux';\n\nimport * as actionCreators from './FuncButtonsRedux';\n\nclass FuncButtons extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n\n        let {redoAPoint} = this.props;\n        return (\n            <div className=\"btn-group\">\n                {/* <input type=\"button\" className=\"btn btn-danger\" value=\"上传\"/> */}\n                {/* <input\n                    onClick={redoAPoint}\n                type=\"button\" className=\"btn btn-danger\" value=\"上一步\"/> */}\n                {/* <input type=\"button\" className=\"btn btn-danger\" value=\"下一步\"/> */}\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    state => state,\n    actionCreators\n)(FuncButtons)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/funcButtons/FuncButtons.js","\nimport Img from './Img';\nimport {connect} from 'react-redux';\nimport {combineReducers, bindActionCreators} from 'redux';\nimport * as actions from './PhotoGalleryRedux';\nimport {selectShape} from 'drawingBoard/BoardRedux';\nimport {finishFirst} from 'common/util/Util.js';\nclass PhotoGallery extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n\n        let {photosData, switchPhoto, paintingBoard, curtPhoto, selectShape} = this.props;\n\n        // let shouldFinish = false;\n        //\n        // if(paintingBoard[curtPhoto.id]){\n        //     let {curtTag} = paintingBoard[curtPhoto.id];\n        //     shouldFinish = finishFirst(paintingBoard[curtPhoto.id].layers, curtTag);\n        // }\n\n\n\n        return (\n            <nav className=\"navbar navbar-inverse navbar-static-top\">\n                <div className=\"container imglist\">\n                    <div className=\"btn btn-danger listBtnLeft\"\n                        onClick={ev=>{\n                            photosData.forEach((photo, i, arr)=>{\n\n                                if(curtPhoto.id===photo.id && i>0){\n\n                                    switchPhoto(arr[i-1]);\n                                }\n                            });\n                        }}\n                    >&lt;</div>\n                    <div className=\"row\">\n                        {\n                            photosData.map((photo,i)=>{\n                                return (\n                                    <Img\n                                        {...{\n                                            key: photo.id,\n                                            photo: photo,\n                                            active: curtPhoto.id===photo.id,\n                                            switchPhoto,\n                                            selectShape\n                                        }}\n                                    />\n                                )\n                            })\n                        }\n                    </div>\n                    <div className=\"btn btn-danger listBtnRight\"\n                        onClick={ev=>{\n                            photosData.forEach((photo, i, arr)=>{\n                                if(curtPhoto.id===photo.id && i<arr.length-1){\n                                    switchPhoto(arr[i+1]);\n                                }\n                            });\n                        }}\n                    >&gt;</div>\n                </div>\n            </nav>\n        );\n    }\n}\n\nexport default connect(\n    state => ({photosData: state.photosData, curtPhoto: state.curtPhoto, paintingBoard: state.paintingBoard}),\n    dispatch => bindActionCreators( {...actions, selectShape}, dispatch)\n)(PhotoGallery)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/photoGallery/PhotoGallery.js","import S from './style.scss';\nimport {connect} from 'react-redux';\nimport {combineReducers, bindActionCreators} from 'redux';\n\nimport {finishFirst} from 'common/util/Util.js';\nimport {selectShape, fixLayerHold, fixShapeFill} from 'drawingBoard/BoardRedux';\n\nimport Tag from './tag';\n\nclass Property extends Component{\n    constructor(props){\n        super(props);\n\n    }\n\n    render(){\n\n        let { paintingBoard, curtPhotoID, selectShape, fixLayerHold, fixShapeFill} = this.props;\n\n        let tags = null;\n\n        if(paintingBoard && paintingBoard[curtPhotoID]){\n\n            let layerGroup =  paintingBoard[curtPhotoID];\n\n            let {curtTag, selectedTag} = paintingBoard[curtPhotoID];\n\n\n\n            tags = paintingBoard[curtPhotoID].layers.map(layer=>{\n                if(layer && curtTag===layer.id) {\n                    // points = layer.points;\n                    return;\n                };\n                return (\n                    <Tag\n                        {...{\n                            key: layer.id,\n                            id: layer.id,\n                            tagName: layer.tagName,\n                            active: selectedTag === layer.id,\n                            selectShape,\n                            fixLayerHold,\n                            fixShapeFill\n                        }}\n                    />\n                )\n            });\n        }\n\n        return (\n            <div className={S.showData}>\n                {tags}\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    state => {\n        let {paintingBoard, curtPhoto} = state;\n        return {\n            paintingBoard, curtPhotoID: curtPhoto.id\n        }\n    },\n    dispatch => bindActionCreators({selectShape, fixLayerHold, fixShapeFill}, dispatch)\n)(Property);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/property/Property.js","\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {\n    redoAPoint\n} from 'drawingBoard/BoardRedux';\n\n\nimport * as toolActions from './ToolBoxRedux';\nimport * as stageActions from 'reduxes/StageRedux';\nclass ToolBox extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n\n        let {\n            redoAPoint,\n            changeShape,\n            layersGroup,\n            shape,\n            curtPhotoID,\n            adaptStage,\n            incrementStage,\n            decrementStage\n        } = this.props;\n\n        return (\n            <div className=\"col-lg-1 col-md-1 col-sm-1 col-xs-1 tool\">\n                <div className=\"list-group\">\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"\n                        onClick={ev=>incrementStage()}\n                    >\n                        <span className=\"fa fa-pencil\"></span>\n                        <span className=\"hidden-sm hidden-xs\">放大</span>\n                    </button>\n\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"\n                        onClick={ev=>decrementStage()}\n                    >\n                        <span className=\"fa fa-pencil\"></span>\n                        <span className=\"hidden-sm hidden-xs\">缩小</span>\n                    </button>\n\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"\n                        onClick={ev=>adaptStage()}\n                    >\n                        <span className=\"fa fa-pencil\"></span>\n                        <span className=\"hidden-sm hidden-xs\">适应</span>\n                    </button>\n\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"\n                        onClick={\n                            ev=>{\n                                changeShape(0);\n                            }\n                        }\n                    >\n                        <span className=\"fa fa-photo\"></span>\n                        <span className=\"hidden-sm hidden-xs\">点描</span>\n                    </button>\n\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"\n                        onClick={\n                            ev=>{\n                                changeShape(1);\n                            }\n                        }\n                    >\n                        <span className=\"fa fa-reorder\"></span>\n                        <span className=\"hidden-sm hidden-xs\">框选</span>\n                    </button>\n\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"\n                        onClick={ev => {\n\n                            if( layersGroup && layersGroup.curtTag && shape === 0){\n\n                                redoAPoint();\n                            }\n                        }}\n                    >\n                        <span className=\"fa fa-circle-o-notch\"> </span>\n                        <span className=\"hidden-sm hidden-xs\">上一步</span>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    state=>{\n        let {curtPhoto, paintingBoard, shape} = state;\n        return {\n            layersGroup: paintingBoard[curtPhoto.id],\n            shape,\n            curtPhotoID: curtPhoto.id\n        };\n    },\n    dispatch => ({\n        ...bindActionCreators({ redoAPoint}, dispatch),\n        ...bindActionCreators( toolActions, dispatch),\n        ...bindActionCreators( stageActions, dispatch )\n    })\n)(ToolBox);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolBox/ToolBox.js","\nimport {createStore, combineReducers, applyMiddleware, compose} from 'redux';\nimport { routerReducer, routerMiddleware, ConnectedRouter } from 'react-router-redux';\nimport createHistory from 'history/createBrowserHistory'\nimport rootReducer from './reducers.js';\nimport thunk from 'redux-thunk';\n\nconst history = createHistory();\n\nconst routerML = routerMiddleware(history);\n\nconst reducer = combineReducers({...rootReducer, ...{\n    router: routerReducer\n}});\n\nexport {history};\n\nexport default function configureStore() {\n\n    if(process.env.NODE_ENV==='production'){\n        return createStore(\n            reducer,\n            compose(\n                applyMiddleware(thunk,routerML)\n            )\n        );\n    }else{\n        return createStore(\n            reducer,\n            compose(\n                applyMiddleware(thunk,routerML),\n                window.devToolsExtension ? window.devToolsExtension() : f=>f\n            )\n        );\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reduxes/configureStore.js","require('bootstrap/dist/css/bootstrap.min.css');\nrequire('font-awesome/css/font-awesome.min.css');\nrequire('style/main.scss');\nimport {Provider, connect} from 'react-redux';\nimport {bindActionCreators, combineReducers} from 'redux';\nimport { Route } from 'react-router';\nimport { ConnectedRouter } from 'react-router-redux';\n\nimport configureStore, {history} from 'reduxes/configureStore';\n\n\nimport FuncButtons from 'funcButtons/FuncButtons';\nimport Board from 'drawingBoard/Board';\nimport PhotoGallery from 'photoGallery/PhotoGallery';\nimport ToolBox from 'toolBox/ToolBox';\nimport Property from 'property/Property';\n\nimport {loadImage} from 'reduxes/InitPhotosRedux';\n\nlet store = configureStore();\n\nclass App extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    componentDidMount(){\n        let {loadImage }  = this.props.actions;\n        loadImage();\n    }\n\n    render(){\n\n        let {photosData, actions, curtPhoto} = this.props;\n\n        let { loadImage } = actions;\n\n        return (\n            <div className=\"appRoot\">\n\n                <PhotoGallery/>\n                <div className=\"container-fluid height\">\n                    <div className=\"row height\">\n                        <ToolBox/>\n                        <div className=\"col-lg-11 col-md-11 col-sm-11 col-xs-11 height\">\n                            <Board/>\n                            {/* <FuncButtons/> */}\n                        </div>\n                        <Property\n                            {...{\n                                curtPhotoID: curtPhoto.id\n                            }}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nApp = connect(\n    state => state,\n    dispatch => ({actions: bindActionCreators({loadImage}, dispatch)})\n)(App)\n\nReactDOM.render(\n    <Provider store={store}>\n        <ConnectedRouter history={history}>\n            <Route path=\"/\" component={App}/>\n        </ConnectedRouter>\n\n    </Provider>\n    ,\n    document.getElementById('root')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","\n\n// alterShapeState,\n// fixLayerHold,\n// holdingLayer,\n// holdingLayerID\nimport S from './style.scss';\nexport default class ClosedPrompt extends Component{\n\n    constructor(props){\n        super(props);\n        this.state={\n            tagNameVal: props.holdingLayer.tagName,\n            attrVal: props.holdingLayer.attrs\n        };\n        this.tagNameChange = this.tagNameChange.bind(this);\n        this.done = this.done.bind(this);\n        this.deleted = this.deleted.bind(this);\n        this.redoAPoint = this.redoAPoint.bind(this);\n    }\n\n    tagNameChange(ev){\n        this.setState({\n            tagNameVal: ev.target.value\n        });\n    }\n\n    done(ev){\n        ev.preventDefault();\n        ev.stopPropagation();\n        let tagName = this.state.tagNameVal;\n        let attrs = this.state.attrVal;\n        let {alterShapeState, holdingLayerID} = this.props;\n\n        if(!tagName || Number(tagName)===0){\n            window.alert('请填写有效标签名');\n            return;\n        }\n        alterShapeState({\n            tagName, attrs, layerID: holdingLayerID, isDone: true\n        });\n    }\n\n    deleted(ev){\n        ev.preventDefault();\n        ev.stopPropagation();\n        let {alterShapeState, holdingLayerID} = this.props;\n        alterShapeState({\n            layerID: holdingLayerID, isDelete:true\n        });\n    }\n    redoAPoint(){\n        let {fistTimeUnclose} = this.props;\n        fistTimeUnclose();\n    }\n\n    render(){\n        let { tagNameVal, attrVal } = this.state;\n        let { alterShapeState, holdingLayer,  fixLayerHold, shape } = this.props;\n        let { tagNameChange, deleted, done, cancel, redoAPoint } = this;\n        let {x: left, y: top} = holdingLayer.points[0];\n        return (\n            <div className={S.closedPrompt}\n                style={{top: top, left:left}}\n            >\n                <p>\n                    <input type=\"text\" placeholder=\"name\" value={tagNameVal}\n                        onChange={tagNameChange}\n                    />\n                </p>\n                <p>\n                    <textarea className={S.area}\n                        cols=\"30\" rows=\"2\" placeholder=\"attrs\" value={attrVal}\n                        onChange={ev=>this.setState({attrVal: ev.target.value})}\n                    ></textarea>\n                </p>\n\n                <button\n                    onClick={done}\n                >done</button>\n\n                {\n                    !holdingLayer.everDone && shape===0 ? (\n                        <button\n                            onClick={redoAPoint}\n                        >undo</button>\n                    ) : null\n                }\n\n\n\n                <button\n                    onClick={deleted}\n                >delete</button>\n\n                {\n                    holdingLayer.everDone ? (\n                        <button\n                            onClick={ev=>fixLayerHold(null)}\n                        >cancel</button>\n                    ) : null\n                }\n            </div>\n        );\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drawingBoard/ClosedPrompt.js","import S from './style.scss';\nlet {Stage, Layer, Circle, Line, Image} = KV;\nimport {\n    drawImgCenter\n} from 'util/KonvaUtil';\n\nimport ClosedPrompt from './ClosedPrompt';\n\nimport PaintingLayer from './PaintingLayer';\nimport * as actionCreators from './BoardRedux';\n\nexport default class PaintingGroup extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            prompt: false,\n            data: null\n        }\n\n        this.stageWidth = 760;\n        this.stageHeight = 500;\n        // this.stageWidth = 2760;\n        // this.stageHeight = 2500;\n\n        this.calcParm = {};\n\n        this.getPointerPosition = this.getPointerPosition.bind(this);\n        this.mark = this.mark.bind(this);\n\n        this.clickTime = 0;\n    }\n\n    getPointerPosition(){\n\n        return this.refs.stage.getStage().getPointerPosition();\n    }\n\n    // end 对某个 layer 的修改\n\n    mark(ev){\n        let {layersGroup:{layers, curtTag, selectedTag, holdingLayerID}, shape, addSpot, closeLine, addTempLayer, fixLayerHold, selectShape} = this.props;\n\n        let layer = layers.reduce( (accu, elt)=>{\n            return accu.id===curtTag ? accu : elt;\n        }, layers[0]);\n        // console.log(selectedTag);\n        // if(selectedTag){\n        //     selectShape(null);\n        //     return;\n        // }\n        if(layer.closed) return;\n\n        let {x,y} = this.getPointerPosition();\n\n        // x*=stageScale;\n        // y*=stageScale;\n\n        if(shape===0){\n\n            if(layer.firstSpotHit && layer.points.length>2){\n                // let pointPos = this.getPointerPosition();\n                closeLine();\n                addTempLayer();\n                fixLayerHold(curtTag);\n                // console.log(ev);\n            }else{\n                if(ev.target.className==='Circle') return;\n                // let {x,y} = this.getPointerPosition();\n                addSpot(x,y, this.calcParm);\n            }\n        }\n\n        if(shape===1){\n\n            if(ev.target.className==='Circle') return;\n            // let {x,y} = this.getPointerPosition();\n            addSpot(x,y, this.calcParm);\n            addSpot(x,y, this.calcParm);\n            addSpot(x,y, this.calcParm);\n            addSpot(x,y, this.calcParm);\n            closeLine();\n        }\n\n    }\n\n    componentWillReceiveProps(nextProps){\n\n    }\n\n    componentDidMount(){\n        // let {stageContainer, stage} = this.refs;\n        //\n        // let {offsetWidth, offsetHeight} = stageContainer;\n        //\n        // let {stageWidth, stageHeight} = this;\n        //\n        // let fixStage = this.fixStage = () => fitStageIntoParentContainer(stageContainer, stageWidth, stageHeight, stage);\n\n        // fixStage();\n\n        // window.addEventListener('resize', fixStage);\n\n        // 加载图片\n\n        // imgObj.src = url;\n\n    }\n\n    componentWillUnmount(){\n        // window.removeEventListener(\"resize\", this.fixStage);\n    }\n\n    render(){\n\n        let {prompt, data} = this.state;\n\n        // console.log(this.props);\n        let { layersGroup, image, addSpot, moveShape, closeLine, pointMove, outFirstTime, fixFirstSpotHit, addTempLayer, shape, fixShapeFill, selectShape, alterShapeState, fixLayerHold, redoAPoint, stage, fistTimeUnclose\n        } = this.props;\n\n        let {layers, curtTag, selectedTag, holdingLayerID} = layersGroup;\n\n        // console.log(layersGroup);\n        let {width: stageWidth, height: stageHeight} = stage;\n\n        let bodyInfo = {x: 0, y: 0, width: 0, height: 0};\n\n        if(image){\n\n            let {width: imgWidth, height: imgHeight} = image;\n\n            let {x, y, w, h, scale} = drawImgCenter(imgWidth, imgHeight, stageWidth, stageHeight);\n            bodyInfo = {x,y,width: w, height: h};\n\n            this.calcParm = {x, y, scale};\n\n        }\n\n        let curtlayer = null;\n        let holdingLayer = null;\n        let selectedLayer = null;\n        let selectedLayerIndx = null;\n\n        layers = layers.map((layer, i)=>{\n            if(layer.id===curtTag) curtlayer = layer;\n            if(holdingLayerID && layer.id===holdingLayerID) holdingLayer = layer;\n            if(selectedTag && layer.id===selectedTag) {\n                selectedLayer = layer;\n                selectedLayerIndx = i;\n            };\n\n            let {points, fill, closed, id, lineColor, overPointIndex, shapeType} = layer;\n            return (\n                <PaintingLayer\n                    key={id}\n                    {...{\n                        points,\n                        fill: fill,\n                        closed,\n                        layerID:id,\n                        fixFirstSpotHit,\n                        curtTag,\n                        lineColor,\n                        pointMove,\n                        stageWidth,\n                        stageHeight,\n                        calcParm: this.calcParm,\n                        overPointIndex,\n                        shape,\n                        moveShape,\n                        addTempLayer,\n                        fixShapeFill,\n                        selectedTag,\n                        selectShape,\n                        shapeType,\n                        fixLayerHold,\n                        redoAPoint,\n                        getPointerPosition: this.getPointerPosition\n                    }}\n\n                />\n            );\n        });\n\n        if(selectedLayer){\n            let tempArr = layers.splice(selectedLayerIndx, 1);\n            layers = layers.concat(tempArr);\n        }\n\n        // console.log(holdingLayer);\n        return (\n            <div\n                ref=\"stageContainer\"\n                className=\"stageContainer\"\n                style={{position: \"relative\", width: '800px', height: '100%', overflow: 'auto'}}\n            >\n\n                <Stage\n                    ref=\"stage\"\n                    {...{\n                        // scale: {x:stageScale, y: stageScale},\n                        width: stageWidth,\n                        height: stageHeight\n                    }}\n                    onMouseDown={ ev=>{\n                        let {className} = ev.target;\n\n                        // console.log(selectedTag, className);\n                        if(className==='Line' ) return;\n                        if(selectedTag &&  (className==='Image') ){\n                            \n                            selectShape(null);\n                            return;\n                        }\n\n                        if(shape===0){\n\n                            this.mark(ev);\n                        }else{\n                            if(this.clickTime===0){\n                                this.mark(ev);\n                                if(!selectedTag){\n                                    this.clickTime++;\n                                }\n                            }else{\n                                addTempLayer();\n                                fixLayerHold(curtTag);\n                                if(!selectedTag){\n                                    this.clickTime=0;\n                                }\n\n                                // outFirstTime();\n                            }\n\n                        }\n                    } }\n\n                    onMouseMove={\n                        ev=>{\n                            // console.log(shape, 'shape');\n\n                            if(shape===0) return;\n                            if(!curtlayer) return;\n                            if(this.clickTime!==1) return;\n\n                            let calcParm = this.calcParm;\n                            let {x,y} = this.getPointerPosition();\n                            let i = 0 ;\n                            if(x<4 || x > (stageWidth -4) || y<4 || y > (stageHeight-4)) return;\n\n                            pointMove( i, x, y, calcParm);\n                            if(shape===1){\n                                switch (i) {\n                                    case 0:\n                                        pointMove( 1, null, y, calcParm);\n                                        pointMove( 3, x, null, calcParm);\n                                        break;\n                                    case 1:\n                                        pointMove( 0, null, y, calcParm);\n                                        pointMove( 2, x, null, calcParm);\n                                        break;\n                                    case 2:\n                                        pointMove( 1, x, null, calcParm);\n                                        pointMove( 3, null, y, calcParm);\n                                        break;\n                                    case 3:\n                                        pointMove( 0, x, null, calcParm);\n                                        pointMove( 2, null, y, calcParm);\n                                        break;\n                                    default:\n\n                                }\n                            }\n                        }\n                    }\n\n                >\n\n                    <Layer>\n                        <Image\n                            {...{\n                                width: stageWidth,\n                                height: stageHeight\n                            }}\n\n                        />\n                        <Image\n                            {...bodyInfo}\n                            {...{\n                                image\n                            }}\n                        />\n                    </Layer>\n                    {layers}\n\n                </Stage>\n                {\n                    holdingLayer ? (\n                        <ClosedPrompt\n                            {...{\n                                alterShapeState,\n                                fixLayerHold,\n                                holdingLayer,\n                                holdingLayerID,\n                                redoAPoint,\n                                fistTimeUnclose,\n                                shape\n                            }}\n                        />\n                    ) : null\n                }\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drawingBoard/PaintingGroup.js","\n\nconst UNDO = \"CANCLE_A_POINT\";\nconst NEXT = \"REDO_A_POINT\";\n\nexport function redoAPoint(layerID) {\n    return {\n        type: UNDO,\n        layerID\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/funcButtons/FuncButtonsRedux.js","\nimport {hintFinish} from 'common/util/Util.js';\nexport default function Img({url, photo, active, switchPhoto, selectShape, shouldFinish}){\n    let inActive = active ? 'active' : '';\n    return (\n        <div className=\"col-lg-1 col-md-1 col-sm-2 col-xs-3\">\n            <div\n                className={`thumbnail ${inActive}`}\n                onClick={ev=>{\n\n                    switchPhoto(photo);\n                    selectShape(null, true);\n                }}\n            >\n                <img src={photo.url}/></div>\n        </div>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/photoGallery/Img.js","\nimport S from './style.scss';\nimport { hintFinish } from 'common/util/Util.js';\nexport default function Tag({id, tagName, active, selectShape, fixLayerHold, fixShapeFill}){\n\n    return (\n        <div className={active ? S.active : ''}\n            onClick={ev=>{\n                selectShape(id);\n            }}\n            onDoubleClick={ev=>{\n                fixLayerHold(id);\n            }}\n            onMouseOver={ev=>fixShapeFill(true, id)}\n            onMouseOut={ev=>fixShapeFill(false, id)}\n        >{tagName}</div>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/property/tag.js","\nimport {combineReducers} from 'redux';\n\nimport paintingBoard from 'drawingBoard/BoardRedux';\nimport curtPhoto from 'photoGallery/PhotoGalleryRedux';\nimport photosData from './InitPhotosRedux';\nimport stage from './StageRedux';\nimport tagsBoard from 'property/PropertyRedux';\nimport shape from 'toolBox/ToolBoxRedux';\n// console.log(tagsI);\nexport default {\n    photosData,\n    paintingBoard,\n    curtPhoto,\n    tagsBoard,\n    shape,\n    stage\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/reduxes/reducers.js","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar addEventListener = exports.addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nvar removeEventListener = exports.removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\nvar getConfirmation = exports.getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = exports.supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopStateOnHashChange = exports.supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = exports.supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\nvar isExtraneousPopstateEvent = exports.isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/history/DOMUtils.js\n// module id = 151\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _DOMUtils = require('./DOMUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  (0, _invariant2.default)(_DOMUtils.canUseDOM, 'Browser history needs a DOM');\n\n  var globalHistory = window.history;\n  var canUseHistory = (0, _DOMUtils.supportsHistory)();\n  var needsHashChangeListener = !(0, _DOMUtils.supportsPopStateOnHashChange)();\n\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? _DOMUtils.getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n  var basename = props.basename ? (0, _PathUtils.stripTrailingSlash)((0, _PathUtils.addLeadingSlash)(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n\n\n    var path = pathname + search + hash;\n\n    (0, _warning2.default)(!basename || (0, _PathUtils.hasBasename)(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n\n    if (basename) path = (0, _PathUtils.stripBasename)(path, basename);\n\n    return (0, _LocationUtils.createLocation)(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if ((0, _DOMUtils.isExtraneousPopstateEvent)(event)) return;\n\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({ action: action, location: location });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location;\n\n    // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n\n    if (toIndex === -1) toIndex = 0;\n\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n\n    if (fromIndex === -1) fromIndex = 0;\n\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key];\n\n  // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + (0, _PathUtils.createPath)(location);\n  };\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.pushState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n\n      if (canUseHistory) {\n        globalHistory.replaceState({ key: key, state: state }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n\n          setState({ action: action, location: location });\n        }\n      } else {\n        (0, _warning2.default)(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n      if (needsHashChangeListener) (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createBrowserHistory;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/history/createBrowserHistory.js\n// module id = 152\n// module chunks = 0","\n\nexport function finishFirst(layers, curt) {\n\n    return layers.reduce((accu,elt)=>{\n        return accu.id===curt ? accu : elt\n    }, layers[0]).points.length !== 0;\n}\n\nexport function hintFinish() {\n    window.alert('请先完成标注')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/Util.js","module.exports = __webpack_public_path__ + \"5d002ef41dded1ae8ff34a6d8ecf1c70.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/1.jpg\n// module id = 265\n// module chunks = 0","module.exports = __webpack_public_path__ + \"f5d86e648bbd8d8ac09e5c1f75ae52d1.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/2.jpg\n// module id = 266\n// module chunks = 0","module.exports = __webpack_public_path__ + \"d49e6ecd8eb6112e6ab92f1e3454e987.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/3.jpg\n// module id = 267\n// module chunks = 0","module.exports = __webpack_public_path__ + \"01d63a8c029e393d05d8d16652dbcfbe.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/4.jpg\n// module id = 268\n// module chunks = 0","module.exports = __webpack_public_path__ + \"d1d19c4f889b2e13691fe66b82e938e8.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/5.jpg\n// module id = 269\n// module chunks = 0","\nimport {addTempLayer} from 'drawingBoard/BoardRedux';\nimport {hintFinish, finishFirst} from 'common/util/Util';\n\nconst SWITCH_PHOTO = 'SWITCH_PHOTO';\nconst NEXT_PHOTO = 'NEXT_PHOTO';\nconst PREVIOUS_PHOTO = 'PREVIOUS_PHOTO';\n\n\n\n\nexport const switchPhoto = (photo) => (dispatch, getState)=>{\n\n    let curtPhotoID = getState().curtPhoto.id;\n\n    if( curtPhotoID !== undefined ){\n\n        let layerGroup = getState().paintingBoard[curtPhotoID];\n        if(layerGroup.holdingLayerID || finishFirst(layerGroup.layers, layerGroup.curtTag)){\n            hintFinish();\n            return;\n        }\n    }\n\n    dispatch({\n        type : SWITCH_PHOTO,\n        photo\n    });\n\n    if(!getState().paintingBoard[photo.id]){\n        dispatch(addTempLayer(photo.id));\n    }else{\n        if(getState().paintingBoard[photo.id].curtTag) return;\n        dispatch(addTempLayer(photo.id));\n    }\n\n}\n// 当前 photo 的 id\nexport default function curtPhoto(state={}, action) {\n\n    let {type, photo } = action\n\n    switch (type) {\n        case SWITCH_PHOTO:\n            return photo;\n            break;\n\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/photoGallery/PhotoGalleryRedux.js","import {push} from 'react-router-redux';\nimport {switchPhoto} from 'photoGallery/PhotoGalleryRedux';\nlet imgArr = [\n    require(\"img/2.jpg\"),\n    require(\"img/3.jpg\"),\n    require(\"img/4.jpg\"),\n    require(\"img/5.jpg\"),\n    require(\"img/1.jpg\"),\n    // require(\"img/boot_03.png\"),\n    // require(\"img/boot_05.png\"),\n    // require(\"img/boot_07.png\"),\n    // require(\"img/boot_09.png\"),\n    // require(\"img/boot_15.png\"),\n    // require(\"img/boot_16.png\"),\n    // require(\"img/boot_17.png\"),\n    // require(\"img/boot_18.png\"),\n    // require(\"img/boot_23.png\"),\n    // require(\"img/boot_24.png\"),\n    // require(\"img/boot_25.png\"),\n    // require(\"img/boot_26.png\")\n\n];\n\n// let imgData = {};\n// imgArr.forEach((elt,i)=>{\n//     imgData[i] = { id: i, url: elt};\n// });\n\nlet imgData = imgArr.map((elt,i)=>({id: i, url: elt}))\n\nlet initState = [];\n\nconst LOAD_IMAGE = 'LOAD_IMAGE';\n\nexport function addPhotos(imgArr) {\n    return {\n        type: LOAD_IMAGE,\n        imgArr\n    }\n}\n\nexport const loadImage = () => (dispatch, getState) =>{\n\n    let photosData = getState().router.location.state;\n\n    dispatch(addPhotos(imgData));\n    // if(!photosData){\n    //\n    // }\n\n    if(!getState().curtPhoto.id){\n        let photo = imgData[0];\n        dispatch(switchPhoto(photo));\n    }\n}\n\nexport default function photos(state=[], action) {\n    let {type, imgArr} = action;\n    switch (type) {\n        case LOAD_IMAGE:\n            return [...state, ...imgArr];\n            break;\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reduxes/InitPhotosRedux.js","\nexport function fitStageIntoParentContainer(container, stageWidth, stageHeight, stage) {\n\n    // now we need to fit stage into parent\n    let containerWidth = container.offsetWidth;\n    // to do this we need to scale the stage\n    let scale = containerWidth / stageWidth;\n    stage.width(stageWidth * scale);\n    stage.height(stageHeight * scale);\n    stage.scale({ x: scale, y: scale });\n    stage.draw();\n}\n\nexport function drawImgCenter(imgW, imgH, cvsW, cvsH){\n    let scale = imgW / imgH;\n    let res = {};\n\n    // 第一种情况 图片的宽度比高度大\n\n    if(imgW >= imgH){\n        res.w = cvsW;\n        res.h = res.w / scale;\n        res.x = (cvsW - res.w) / 2;\n        res.y = (cvsH - res.h) / 2;\n        res.scale = imgW / res.w;\n    }\n\n    // 第二种情况 图片的高度比宽度大\n    if(imgW <= imgH){\n        res.h = cvsH;\n        res.w = res.h * scale;\n        res.x = (cvsW - res.w) / 2;\n        res.y = (cvsH - res.h) / 2;\n        res.scale = imgH / res.h;\n    }\n\n    return res;\n}\n\nexport function getRectToImg(currentX, currentY, result){\n    let {x, y, scale} = result;\n\n    let disW = (currentX - x) * scale;\n    let disT = (currentY - y) * scale;\n\n    return {disW, disT};\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/KonvaUtil.js","\nconst { Image, Layer, Line, Circle, Canvas, Group } = KV;\n\nexport default class PaintingLayer extends Component{\n    constructor(props){\n        super(props);\n\n        this.curtCircle = null;\n\n        let canvas = this.canvas = document.createElement('canvas');\n        canvas.width = props.stageWidth;\n        canvas.height = props.stageHeight;\n\n    }\n\n\n    render(){\n\n        let {\n            points, fill, closed, layerID, curtTag, pointMove, fixFirstSpotHit, lineColor, calcParm,\n            stageWidth, stageHeight, overPointIndex, shape, moveShape, fixShapeFill, selectedTag, selectShape, shapeType, fixLayerHold, getPointerPosition\n        } = this.props;\n\n        let linePoints = [];\n\n        points.forEach(elt=>{\n            linePoints.push(elt.x, elt.y);\n        });\n\n        let pointsComp = null;\n\n        if(layerID === curtTag || layerID === selectedTag){\n            pointsComp = points.map((point, i)=>{\n\n                let {x, y} = point;\n\n                return (\n                    <Circle\n                        key={i}\n                        ref={`Circle${i}`}\n                        onMouseOver={ ev => {\n                            if(shape===0 && i===0){\n                                fixFirstSpotHit(true, i);\n\n                            }else{\n                                fixFirstSpotHit(false, i);\n                            }\n\n                        }}\n\n                        onMouseOut={ev => {\n                            fixFirstSpotHit(false, null);\n\n                        }}\n\n                        {...{\n                            x,\n                            y,\n                            radius: overPointIndex===i ? 8 : 6,\n                            fill: overPointIndex ===0 && i===0 && !closed ? null:'#00ff00',\n                            stroke: '#ff0000',\n                            strokeWidth: 3,\n                            draggable: true\n                        }}\n\n                        onDragMove={ev=>{\n                            let {x,y} = ev.target.attrs;\n\n                            if(x<4 || x > (stageWidth -4) || y<4 || y > (stageHeight-4)) return;\n                            pointMove( i, x, y, calcParm);\n                            if(shapeType===1){\n                                switch (i) {\n                                    case 0:\n                                        pointMove( 1, null, y, calcParm);\n                                        pointMove( 3, x, null, calcParm);\n                                        break;\n                                    case 1:\n                                        pointMove( 0, null, y, calcParm);\n                                        pointMove( 2, x, null, calcParm);\n                                        break;\n                                    case 2:\n                                        pointMove( 1, x, null, calcParm);\n                                        pointMove( 3, null, y, calcParm);\n                                        break;\n                                    case 3:\n                                        pointMove( 0, x, null, calcParm);\n                                        pointMove( 2, null, y, calcParm);\n                                        break;\n                                    default:\n\n                                }\n                            }\n\n                        }}\n                        dragBoundFunc={\n                            ({x, y})=>{\n\n                                if(x<4){\n                                    x=4;\n                                }\n\n                                if(x>stageWidth-4){\n                                    x=stageWidth-4;\n                                }\n\n                                if(y<4){\n                                    y=4;\n                                }\n\n                                if(y>stageHeight-4){\n                                    y=stageHeight-4;\n                                }\n\n                                return {\n                                    x, y\n                                }\n                            }\n                        }\n                    />\n                );\n            });\n        }else{\n            pointsComp = null;\n        }\n\n        return (\n            <Layer>\n                {\n                    selectedTag? (\n                        <Image\n                            {...{\n                                    width: stageWidth,\n                                    height: stageHeight,\n                                    // image: this.canvas\n                                    // fill: 'red'\n                            }}\n                            onMouseMove={ev=>{\n                                // console.log(ev.target.className);\n                                if(!this.offsetDistence) return;\n                                moveShape(this.offsetDistence, getPointerPosition(), layerID);\n                            }}\n                        />\n                    ) : null\n                }\n                <Line\n                    {...{\n                            points:linePoints,\n                            stroke: lineColor,\n                            strokeWidth: 4,\n                            lineJoin: 'round',\n                            closed,\n                            fill : fill || selectedTag ===layerID ? 'rgba(255,0,0,0.3)': null ,\n                            listening: selectedTag ===layerID ? true : false\n                    }}\n                    // onMouseOver={ev=>{\n                    //     // fixShapeFill(true, layerID)\n                    // }\n                    // }\n                    // onMouseOut={ev=>fixShapeFill(false, layerID)}\n                    // onClick={ev=>{\n                    //\n                    //     selectShape(layerID);\n                    // }}\n\n                    onMouseDown={ev=>{\n                        let pos = getPointerPosition();\n                        this.offsetDistence = points.map(point=>{\n                            return {\n                                    x: pos.x-point.x,\n                                    y: pos.y-point.y\n                            }\n                        });\n                            // console.log(this.offsetDistence);\n                    }}\n\n                    onMouseUp={ev=>{\n                            this.offsetDistence = null;\n                    }}\n\n                    onDblClick={\n                        ev=>{\n                            fixLayerHold(layerID)\n                        }\n                    }\n                    onMouseMove={ev=>{\n                        if(!this.offsetDistence) return;\n                        moveShape(this.offsetDistence, getPointerPosition(), layerID);\n                    }}\n                />\n\n                {/* <Line\n                    {...{\n                        points:[...linePoints, linePoints[0], linePoints[1]],\n                        stroke: 'red',\n                        strokeWidth: 14,\n                        opacity: 0\n                    }}\n                    onMouseOver={ev=>{\n                        fixShapeFill(true, layerID);\n                                    // console.log('over');\n                    }}\n                    onMouseOut={ev=>fixShapeFill(false, layerID)}\n                    onClick={ev=>{\n\n                        if(selectedTag) return;\n\n                        selectShape(layerID);\n                    }}\n                    onDblClick={\n                        ev=>{\n                            fixLayerHold(layerID)\n                        }\n                    }\n                /> */}\n\n                {\n                    closed? (\n                        <Line\n                            {...{\n                                    points:[...linePoints, linePoints[0], linePoints[1]],\n                                    stroke: 'red',\n                                    strokeWidth: 14,\n                                    opacity: 0\n                            }}\n                            onMouseOver={ev=>{\n                                fixShapeFill(true, layerID);\n                                    // console.log('over');\n                            }}\n                            onMouseOut={ev=>fixShapeFill(false, layerID)}\n                            onClick={ev=>{\n\n                                selectShape(layerID);\n                            }}\n                            onDblClick={\n                                ev=>{\n                                    fixLayerHold(layerID)\n                                }\n                            }\n                        />\n                    ) : null\n                }\n\n                {pointsComp}\n\n            </Layer>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drawingBoard/PaintingLayer.js","import {combineReducers} from 'redux';\nconst ADD_TAG = 'ADD_TAGSSS';\nconst SWITCH_TAG = 'SWITCH_TAGSSS';\nimport {addTempLayer} from 'drawingBoard/BoardRedux';\nconst initState = {};\n\n// initState: {\n//     curtPhotoID: {\n//         curtTag,\n//         tags\n//     }\n// }\n\n// tag: {\n//     key: elt.id,\n//     tagName:\n// }\n\nexport const addTag = () => (dispatch, getStage)=> {\n\n    let {id} = getStage().curtPhoto;\n\n    let tag = {id: Math.random(), tagName: `图层:${Math.random().toString().slice(2,6)}`};\n\n    dispatch({\n        type: ADD_TAG,\n        curtPhotoID:id,\n        tag\n    });\n\n    dispatch(addTempLayer(id, tag.id));\n\n    // dispatch(switchTag(id, tag.id));\n}\n\nexport function switchTag(curtPhotoID,id) {\n    return {type: SWITCH_TAG, curtPhotoID, id}\n}\n\n\nexport default function tagsBoard(state=initState, action){\n    let {type, curtPhotoID, tag, id} = action;\n\n    let tagsGroup = state[curtPhotoID];\n    if(!tagsGroup){\n        tagsGroup = {};\n    }\n\n    switch (type) {\n        case ADD_TAG:\n\n            let {tags} = tagsGroup;\n            if(!tags){\n                tags = [];\n            }\n\n            let curtTag = null;\n\n            // if(!tagsGroup.curtTag){\n            //\n            //     return {...state, ...{\n            //         [curtPhotoID]: {...tagsGroup, ...{\n            //             tags: [tag, ...tags],\n            //             curtTag: tag.id\n            //         }}\n            //     }};\n            // }\n\n            return {...state, ...{\n                [curtPhotoID]: {...tagsGroup, ...{tags: [tag, ...tags], curtTag: tag.id}}\n            }};\n\n        case SWITCH_TAG:\n            return {...state, ...{\n                [curtPhotoID]: {...tagsGroup, ...{curtTag: id}}\n            }}\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/property/PropertyRedux.js","import {finishFirst, hintFinish} from 'common/util/Util.js';\n\nconst CHANGE_SHAPE = 'CHANGE_SHAPE';\n\nexport const changeShape = (shape)=>(dispatch, state) =>{\n    let curtPhotoID = state().curtPhoto.id;\n\n    if( curtPhotoID !== undefined ){\n\n        let layerGroup = state().paintingBoard[curtPhotoID];\n        if(layerGroup.holdingLayerID || finishFirst(layerGroup.layers, layerGroup.curtTag)){\n            hintFinish();\n            return;\n        }\n    }\n\n    dispatch({\n        type: CHANGE_SHAPE,\n        shape\n    });\n}\n\nexport default function shape(state=0, action) {\n    let {type, shape} = action;\n\n    switch (type) {\n        case CHANGE_SHAPE:\n            return shape;\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolBox/ToolBoxRedux.js","\nimport {fixPointPosition} from 'drawingBoard/BoardRedux';\n\nconst ADAPT_STAGE = 'ADAPT_STAGE';\nconst INCREMENT_STAGE = 'INCREMENT_STAGE';\nconst DECREMENT_STAGE = 'DECREMENT_STAGE';\n\nlet OriWidth=760;\nlet OriHeight=500;\n\nconst initState = {\n    width: OriWidth,\n    height: OriHeight,\n    preWidth: OriWidth,\n    preHeight: OriHeight\n}\n\nexport const adaptStage = ()=> (dispatch, getState) =>{\n    let {width, height} = getState().stage;\n\n    dispatch({\n        type: ADAPT_STAGE,\n        width: OriWidth,\n        height: OriHeight,\n        preWidth: width,\n        preHeight: height\n    });\n\n    dispatch(fixPointPosition());\n\n}\n\nexport const incrementStage = ()=> (dispatch, getState) =>{\n    let {width, height} = getState().stage;\n\n    let preWidth = width,\n        preHeight = height;\n\n    width*=1.2;\n    height*=1.2;\n\n    if(width>2760 || height>1500){\n        return;\n    }\n\n    dispatch({\n        type: INCREMENT_STAGE,\n        width, height, preWidth, preHeight\n    });\n\n    dispatch(fixPointPosition());\n}\n\nexport const decrementStage = ()=> (dispatch, getState) =>{\n\n    let {width, height} = getState().stage;\n\n    let preWidth = width,\n        preHeight = height;\n\n    width= width / 1.2;\n    height= height/1.2;\n\n    if(width<760 || height<500){\n        width = OriWidth;\n        height = OriHeight;\n\n    }\n\n    dispatch({\n        type: DECREMENT_STAGE,\n        width, height, preWidth, preHeight\n    });\n\n    dispatch(fixPointPosition());\n}\n\nexport default function stage(state=initState, action){\n    let {\n        type, width, height, preWidth, preHeight\n    } = action;\n    switch (type) {\n        case ADAPT_STAGE:\n        case INCREMENT_STAGE:\n            // return state+=0.2;\n        case DECREMENT_STAGE:\n            return {...state, width, height, preWidth, preHeight}\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reduxes/StageRedux.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"showData\":\"showData--PNnx9g\",\"closedPrompt\":\"closedPrompt--3iDUYz\",\"area\":\"area--6SZkbo\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/drawingBoard/style.scss\n// module id = 72\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"showData\":\"showData--3-dehD\",\"active\":\"active--37YGhS\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/property/style.scss\n// module id = 73\n// module chunks = 0"],"sourceRoot":""}