{"version":3,"sources":["webpack:///app_e79abb25.js","webpack:///./src/components/drawingBoard/Board.js","webpack:///./src/components/funcButtons/FuncButtons.js","webpack:///./src/components/photoGallery/PhotoGallery.js","webpack:///./src/components/property/Property.js","webpack:///./src/components/toolBox/ToolBox.js","webpack:///./src/reduxes/configureStore.js","webpack:///./src/app.js","webpack:///./src/components/drawingBoard/PaintingGroup.js","webpack:///./src/components/funcButtons/FuncButtonsRedux.js","webpack:///./src/components/photoGallery/Img.js","webpack:///./src/components/property/tag.js","webpack:///./src/reduxes/reducers.js","webpack:///./src/components/drawingBoard/style.scss","webpack:///./src/common/img/0650.jpg","webpack:///./src/common/img/boot_03.png","webpack:///./src/common/img/boot_05.png","webpack:///./src/common/img/boot_07.png","webpack:///./src/common/img/boot_09.png","webpack:///./src/common/img/boot_15.png","webpack:///./src/common/img/boot_16.png","webpack:///./src/common/img/boot_17.png","webpack:///./src/common/img/boot_18.png","webpack:///./src/common/img/boot_23.png","webpack:///./src/common/img/boot_24.png","webpack:///./src/common/img/boot_25.png","webpack:///./src/common/img/boot_26.png","webpack:///./src/components/drawingBoard/BoardRedux.js","webpack:///./src/reduxes/InitPhotosRedux.js","webpack:///./src/common/util/KonvaUtil.js","webpack:///./src/components/drawingBoard/PaintingLayer.js","webpack:///./src/components/photoGallery/PhotoGalleryRedux.js","webpack:///./src/components/property/PropertyRedux.js","webpack:///./src/components/property/style.scss"],"names":["webpackJsonp","104","module","exports","__webpack_require__","KV","Component","React","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_reactRedux","_redux","_PaintingGroup","_PaintingGroup2","_PaintingLayer","_BoardRedux","actionCreators","newObj","_KV","Board","Stage","Layer","Circle","Line","Image","_Component","this","_this","getPrototypeOf","state","image","url","_this2","imgObj","window","onload","setState","src","nProps","loadImage","curtPhoto","_props","paintingBoard","actions","tagsBoard","curtPhotoID","id","layersData","curtTag","createElement","className","ref","connect","photosData","dispatch","bindActionCreators","105","_jsx","REACT_ELEMENT_TYPE","Symbol","for","type","children","defaultProps","childrenLength","propName","childArray","Array","$$typeof","undefined","_owner","_FuncButtonsRedux","FuncButtons","redoAPoint","106","_Img","_Img2","_PhotoGalleryRedux","_ref","_ref2","PhotoGallery","switchPhoto","map","photo","active","107","_style","_style2","_PropertyRedux","_tag","_tag2","Property","layerName","addTag","switchTag","tags","elt","tagName","showData","onClick","ev","Math","random","108","ToolBox","109","configureStore","createStore","_reducers2","compose","applyMiddleware","_reduxThunk2","_reducers","_reduxThunk","110","111","112","113","ReactDOM","_configureStore","_configureStore2","_FuncButtons","_FuncButtons2","_Board","_Board2","_PhotoGallery","_PhotoGallery2","_ToolBox","_ToolBox2","_Property","_Property2","_InitPhotosRedux","store","_ref3","App","console","log","render","Provider","document","getElementById","114","_toConsumableArray","arr","isArray","arr2","from","_KonvaUtil","_PaintingLayer2","PaintingGroup","stageWidth","stageHeight","calcParm","getPointerPosition","bind","mark","addSpot","closeLine","fixFirstSpotHit","refs","stage","getStage","x","y","_state","layers","whichLayer","_getRectToImg","getRectToImg","disW","disT","points","concat","actualPoints","_state2","closed","flag","_state3","firstSpotHit","_props2","layer","_getPointerPosition","_state4","_getPointerPosition2","nextProps","_props3","layerComp","fill","bodyInfo","width","height","imgWidth","imgHeight","_drawImgCenter","drawImgCenter","w","h","scale","style","stroke","strokeWidth","115","layerID","UNDO","116","Img","117","Tag","118","_BoardRedux2","_PhotoGalleryRedux2","_InitPhotosRedux2","_PropertyRedux2","combineReducers","120","236","p","237","238","239","240","241","242","243","244","245","246","247","248","27","_defineProperty","addLayer","curtTagID","ADD_LAYER","initState","action","startX","startY","LayerGroup","ADD_SPOT","CLOSE_LINE","FIX_HIT","pop","getState","55","addPhotos","imgArr","LOAD_IMAGE","photos","imgData","57","fitStageIntoParentContainer","container","containerWidth","offsetWidth","draw","imgW","imgH","cvsW","cvsH","res","min","currentX","currentY","result","58","PaintingLayer","spots","forEach","circle","onMouseOver","onMouseOut","radius","push","lineJoin","59","SWITCH_PHOTO","60","SWITCH_TAG","tag","tagsGroup","ADD_TAG","_tagsGroup","62"],"mappings":"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","file":"app_e79abb25.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(KV, Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactRedux = __webpack_require__(13);\n\nvar _redux = __webpack_require__(8);\n\nvar _PaintingGroup = __webpack_require__(114);\n\nvar _PaintingGroup2 = _interopRequireDefault(_PaintingGroup);\n\nvar _PaintingLayer = __webpack_require__(58);\n\nvar _PaintingLayer2 = _interopRequireDefault(_PaintingLayer);\n\nvar _BoardRedux = __webpack_require__(27);\n\nvar actionCreators = _interopRequireWildcard(_BoardRedux);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _KV = KV,\n    Stage = _KV.Stage,\n    Layer = _KV.Layer,\n    Circle = _KV.Circle,\n    Line = _KV.Line,\n    Image = _KV.Image;\n\nvar Board = function (_Component) {\n    _inherits(Board, _Component);\n\n    function Board(props) {\n        _classCallCheck(this, Board);\n\n        var _this = _possibleConstructorReturn(this, (Board.__proto__ || Object.getPrototypeOf(Board)).call(this, props));\n\n        _this.state = {\n            image: null\n        };\n\n        return _this;\n    }\n\n    _createClass(Board, [{\n        key: 'loadImage',\n        value: function loadImage(url) {\n            var _this2 = this;\n\n            var imgObj = new window.Image();\n\n            imgObj.onload = function () {\n                _this2.setState({\n                    image: imgObj\n                });\n            };\n\n            imgObj.src = url;\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nProps) {\n\n            this.loadImage(nProps.curtPhoto.url);\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {}\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                paintingBoard = _props.paintingBoard,\n                curtPhoto = _props.curtPhoto,\n                actions = _props.actions,\n                tagsBoard = _props.tagsBoard;\n            var curtPhotoID = curtPhoto.id;\n\n\n            var layersData = paintingBoard[curtPhotoID];\n\n            var PG = null;\n\n            var curtTag = null;\n\n            if (tagsBoard && tagsBoard[curtPhotoID]) {\n                curtTag = tagsBoard[curtPhotoID].curtTag;\n            }\n\n            var image = this.state.image;\n\n\n            return React.createElement(\n                'div',\n                {\n                    className: 'thumbnail img',\n                    ref: 'container'\n                },\n                React.createElement(_PaintingGroup2.default, _extends({\n                    layersData: layersData,\n                    curtTag: curtTag,\n                    image: image\n                }, actions))\n            );\n        }\n    }]);\n\n    return Board;\n}(Component);\n\nexports.default = (0, _reactRedux.connect)(function (state) {\n    var curtPhoto = state.curtPhoto,\n        paintingBoard = state.paintingBoard,\n        photosData = state.photosData,\n        tagsBoard = state.tagsBoard;\n\n    return {\n        curtPhoto: curtPhoto,\n        paintingBoard: paintingBoard,\n        photosData: photosData,\n        tagsBoard: tagsBoard\n    };\n}, function (dispatch) {\n    return { actions: (0, _redux.bindActionCreators)(actionCreators, dispatch) };\n})(Board);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(26), __webpack_require__(5)[\"Component\"], __webpack_require__(5)))\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactRedux = __webpack_require__(13);\n\nvar _FuncButtonsRedux = __webpack_require__(115);\n\nvar actionCreators = _interopRequireWildcard(_FuncButtonsRedux);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FuncButtons = function (_Component) {\n    _inherits(FuncButtons, _Component);\n\n    function FuncButtons(props) {\n        _classCallCheck(this, FuncButtons);\n\n        return _possibleConstructorReturn(this, (FuncButtons.__proto__ || Object.getPrototypeOf(FuncButtons)).call(this, props));\n    }\n\n    _createClass(FuncButtons, [{\n        key: 'render',\n        value: function render() {\n            var redoAPoint = this.props.redoAPoint;\n\n            return _jsx('div', {\n                className: 'btn-group'\n            }, void 0);\n        }\n    }]);\n\n    return FuncButtons;\n}(Component);\n\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return state;\n}, actionCreators)(FuncButtons);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)[\"Component\"]))\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Img = __webpack_require__(116);\n\nvar _Img2 = _interopRequireDefault(_Img);\n\nvar _reactRedux = __webpack_require__(13);\n\nvar _redux = __webpack_require__(8);\n\nvar _PhotoGalleryRedux = __webpack_require__(59);\n\nvar actions = _interopRequireWildcard(_PhotoGalleryRedux);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _ref = _jsx('div', {\n    className: 'btn btn-danger listBtnLeft'\n}, void 0, '<');\n\nvar _ref2 = _jsx('div', {\n    className: 'btn btn-danger listBtnRight'\n}, void 0, '>');\n\nvar PhotoGallery = function (_Component) {\n    _inherits(PhotoGallery, _Component);\n\n    function PhotoGallery(props) {\n        _classCallCheck(this, PhotoGallery);\n\n        return _possibleConstructorReturn(this, (PhotoGallery.__proto__ || Object.getPrototypeOf(PhotoGallery)).call(this, props));\n    }\n\n    _createClass(PhotoGallery, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                photosData = _props.photosData,\n                switchPhoto = _props.switchPhoto,\n                curtPhoto = _props.curtPhoto;\n\n\n            return _jsx('nav', {\n                className: 'navbar navbar-inverse navbar-static-top'\n            }, void 0, _jsx('div', {\n                className: 'container imglist'\n            }, void 0, _ref, _jsx('div', {\n                className: 'row'\n            }, void 0, photosData.map(function (photo, i) {\n                return React.createElement(_Img2.default, {\n                    key: photo.id,\n                    photo: photo,\n                    active: curtPhoto.id === photo.id,\n                    switchPhoto: switchPhoto\n                });\n            })), _ref2));\n        }\n    }]);\n\n    return PhotoGallery;\n}(Component);\n\nexports.default = (0, _reactRedux.connect)(function (state) {\n    return { photosData: state.photosData, curtPhoto: state.curtPhoto };\n}, function (dispatch) {\n    return (0, _redux.bindActionCreators)(actions, dispatch);\n})(PhotoGallery);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)[\"Component\"], __webpack_require__(5)))\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _style = __webpack_require__(62);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _reactRedux = __webpack_require__(13);\n\nvar _redux = __webpack_require__(8);\n\nvar _PropertyRedux = __webpack_require__(60);\n\nvar actions = _interopRequireWildcard(_PropertyRedux);\n\nvar _tag = __webpack_require__(117);\n\nvar _tag2 = _interopRequireDefault(_tag);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Property = function (_Component) {\n    _inherits(Property, _Component);\n\n    function Property(props) {\n        _classCallCheck(this, Property);\n\n        var _this = _possibleConstructorReturn(this, (Property.__proto__ || Object.getPrototypeOf(Property)).call(this, props));\n\n        _this.layerName = 0;\n        return _this;\n    }\n\n    _createClass(Property, [{\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                tagsBoard = _props.tagsBoard,\n                curtPhotoID = _props.curtPhotoID,\n                addTag = _props.addTag,\n                switchTag = _props.switchTag;\n\n\n            var tags = null;\n\n            if (tagsBoard && tagsBoard[curtPhotoID]) {\n\n                var curtTag = tagsBoard[curtPhotoID].curtTag;\n\n                tags = tagsBoard[curtPhotoID].tags.map(function (elt) {\n                    return React.createElement(_tag2.default, {\n                        key: elt.id,\n                        id: elt.id,\n                        tagName: elt.tagName,\n                        curtPhotoID: curtPhotoID,\n                        switchTag: switchTag,\n                        active: curtTag === elt.id\n                    });\n                });\n            }\n\n            return _jsx('div', {\n                className: _style2.default.showData\n            }, void 0, _jsx('div', {\n                onClick: function onClick(ev) {\n                    addTag(curtPhotoID, { id: Math.random(), tagName: '\\u56FE\\u5C42:' + _this2.layerName++ });\n                }\n            }, void 0, '\\u65B0\\u5EFA'), tags);\n        }\n    }]);\n\n    return Property;\n}(Component);\n\nexports.default = (0, _reactRedux.connect)(function (state) {\n    var tagsBoard = state.tagsBoard,\n        curtPhoto = state.curtPhoto;\n\n    return {\n        tagsBoard: tagsBoard, curtPhotoID: curtPhoto.id\n    };\n}, function (dispatch) {\n    return (0, _redux.bindActionCreators)(actions, dispatch);\n})(Property);\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)[\"Component\"], __webpack_require__(5)))\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _ref = _jsx(\"div\", {\n    className: \"col-lg-1 col-md-1 col-sm-1 col-xs-1 tool\"\n}, void 0, _jsx(\"div\", {\n    className: \"list-group\"\n}, void 0, _jsx(\"button\", {\n    type: \"button\",\n    className: \"list-group-item list-group-item-info\"\n}, void 0, _jsx(\"span\", {\n    className: \"fa fa-pencil\"\n}), \" \", _jsx(\"span\", {\n    className: \"hidden-sm hidden-xs\"\n}, void 0, \"\\u540D\\u79F0\")), _jsx(\"button\", {\n    type: \"button\",\n    className: \"list-group-item list-group-item-info\"\n}, void 0, _jsx(\"span\", {\n    className: \"fa fa-photo\"\n}), \" \", _jsx(\"span\", {\n    className: \"hidden-sm hidden-xs\"\n}, void 0, \"\\u540D\\u79F0\")), _jsx(\"button\", {\n    type: \"button\",\n    className: \"list-group-item list-group-item-info\"\n}, void 0, _jsx(\"span\", {\n    className: \"fa fa-reorder\"\n}), \" \", _jsx(\"span\", {\n    className: \"hidden-sm hidden-xs\"\n}, void 0, \"\\u540D\\u79F0\")), _jsx(\"button\", {\n    type: \"button\",\n    className: \"list-group-item list-group-item-info\"\n}, void 0, _jsx(\"span\", {\n    className: \"fa fa-circle-o-notch\"\n}, void 0, \" \"), _jsx(\"span\", {\n    className: \"hidden-sm hidden-xs\"\n}, void 0, \"\\u540D\\u79F0\"))));\n\nvar ToolBox = function (_Component) {\n    _inherits(ToolBox, _Component);\n\n    function ToolBox(props) {\n        _classCallCheck(this, ToolBox);\n\n        return _possibleConstructorReturn(this, (ToolBox.__proto__ || Object.getPrototypeOf(ToolBox)).call(this, props));\n    }\n\n    _createClass(ToolBox, [{\n        key: \"render\",\n        value: function render() {\n            return _ref;\n        }\n    }]);\n\n    return ToolBox;\n}(Component);\n\nexports.default = ToolBox;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)[\"Component\"]))\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = configureStore;\n\nvar _redux = __webpack_require__(8);\n\nvar _reducers = __webpack_require__(118);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _reduxThunk = __webpack_require__(56);\n\nvar _reduxThunk2 = _interopRequireDefault(_reduxThunk);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction configureStore() {\n\n    if (true) {\n        return (0, _redux.createStore)(_reducers2.default, (0, _redux.compose)((0, _redux.applyMiddleware)(_reduxThunk2.default)));\n    } else {\n        return (0, _redux.createStore)(_reducers2.default, (0, _redux.compose)((0, _redux.applyMiddleware)(_reduxThunk2.default), window.devToolsExtension ? window.devToolsExtension() : function (f) {\n            return f;\n        }));\n    }\n}\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Component, React, ReactDOM) {\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _reactRedux = __webpack_require__(13);\n\nvar _redux = __webpack_require__(8);\n\nvar _configureStore = __webpack_require__(109);\n\nvar _configureStore2 = _interopRequireDefault(_configureStore);\n\nvar _FuncButtons = __webpack_require__(105);\n\nvar _FuncButtons2 = _interopRequireDefault(_FuncButtons);\n\nvar _Board = __webpack_require__(104);\n\nvar _Board2 = _interopRequireDefault(_Board);\n\nvar _PhotoGallery = __webpack_require__(106);\n\nvar _PhotoGallery2 = _interopRequireDefault(_PhotoGallery);\n\nvar _ToolBox = __webpack_require__(108);\n\nvar _ToolBox2 = _interopRequireDefault(_ToolBox);\n\nvar _Property = __webpack_require__(107);\n\nvar _Property2 = _interopRequireDefault(_Property);\n\nvar _InitPhotosRedux = __webpack_require__(55);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(110);\n__webpack_require__(111);\n__webpack_require__(112);\n\n\nvar store = (0, _configureStore2.default)();\n\nvar _ref = _jsx(_PhotoGallery2.default, {});\n\nvar _ref2 = _jsx(_ToolBox2.default, {});\n\nvar _ref3 = _jsx('div', {\n    className: 'col-lg-11 col-md-11 col-sm-11 col-xs-11 height'\n}, void 0, _jsx(_Board2.default, {}), _jsx(_FuncButtons2.default, {}));\n\nvar App = function (_Component) {\n    _inherits(App, _Component);\n\n    function App(props) {\n        _classCallCheck(this, App);\n\n        return _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\n    }\n\n    _createClass(App, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var loadImage = this.props.actions.loadImage;\n\n            loadImage();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                photosData = _props.photosData,\n                actions = _props.actions,\n                curtPhoto = _props.curtPhoto;\n\n            console.log(curtPhoto, 'curtPhoto');\n            var loadImage = actions.loadImage;\n\n\n            return _jsx('div', {\n                className: 'appRoot'\n            }, void 0, _ref, _jsx('div', {\n                className: 'container-fluid height'\n            }, void 0, _jsx('div', {\n                className: 'row height'\n            }, void 0, _ref2, _ref3, React.createElement(_Property2.default, {\n                curtPhotoID: curtPhoto.id\n            }))));\n        }\n    }]);\n\n    return App;\n}(Component);\n\nApp = (0, _reactRedux.connect)(function (state) {\n    return state;\n}, function (dispatch) {\n    return { actions: (0, _redux.bindActionCreators)({ loadImage: _InitPhotosRedux.loadImage }, dispatch) };\n})(App);\n\nReactDOM.render(_jsx(_reactRedux.Provider, {\n    store: store\n}, void 0, _jsx(App, {})), document.getElementById('root'));\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)[\"Component\"], __webpack_require__(5), __webpack_require__(33)))\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(KV, Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _style = __webpack_require__(120);\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _reactRedux = __webpack_require__(13);\n\nvar _KonvaUtil = __webpack_require__(57);\n\nvar _PaintingLayer = __webpack_require__(58);\n\nvar _PaintingLayer2 = _interopRequireDefault(_PaintingLayer);\n\nvar _BoardRedux = __webpack_require__(27);\n\nvar actionCreators = _interopRequireWildcard(_BoardRedux);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _KV = KV,\n    Stage = _KV.Stage,\n    Layer = _KV.Layer,\n    Circle = _KV.Circle,\n    Line = _KV.Line,\n    Image = _KV.Image;\n\nvar PaintingGroup = function (_Component) {\n    _inherits(PaintingGroup, _Component);\n\n    function PaintingGroup(props) {\n        _classCallCheck(this, PaintingGroup);\n\n        var _this = _possibleConstructorReturn(this, (PaintingGroup.__proto__ || Object.getPrototypeOf(PaintingGroup)).call(this, props));\n\n        _this.state = {\n            image: null\n        };\n\n        _this.stageWidth = 760;\n        _this.stageHeight = 500;\n\n        _this.calcParm = {};\n\n        _this.getPointerPosition = _this.getPointerPosition.bind(_this);\n        _this.mark = _this.mark.bind(_this);\n        _this.addSpot = _this.addSpot.bind(_this);\n        _this.closeLine = _this.closeLine.bind(_this);\n        _this.fixFirstSpotHit = _this.fixFirstSpotHit.bind(_this);\n        return _this;\n    }\n\n    _createClass(PaintingGroup, [{\n        key: 'getPointerPosition',\n        value: function getPointerPosition() {\n\n            return this.refs.stage.getStage().getPointerPosition();\n        }\n        // 对某个 layer 的修改\n\n    }, {\n        key: 'addSpot',\n        value: function addSpot(x, y) {\n            var _state = this.state,\n                layers = _state.layers,\n                whichLayer = _state.whichLayer;\n\n            var _getRectToImg = (0, _KonvaUtil.getRectToImg)(x, y, this.calcParm),\n                disW = _getRectToImg.disW,\n                disT = _getRectToImg.disT;\n\n            layers = layers.map(function (elt) {\n                if (whichLayer === elt.id) {\n                    elt.points = [].concat(_toConsumableArray(elt.points), [x, y]);\n                    elt.actualPoints = [].concat(_toConsumableArray(elt.actualPoints), [disW, disT]);\n                }\n                return elt;\n            });\n\n            this.setState({\n                layers: layers\n            });\n        }\n    }, {\n        key: 'closeLine',\n        value: function closeLine() {\n            var _state2 = this.state,\n                layers = _state2.layers,\n                whichLayer = _state2.whichLayer;\n\n            layers = layers.map(function (elt) {\n                if (whichLayer === elt.id) {\n                    elt.closed = true;\n                }\n                return elt;\n            });\n\n            this.setState({\n                layers: layers\n            });\n        }\n    }, {\n        key: 'fixFirstSpotHit',\n        value: function fixFirstSpotHit(flag) {\n            var _state3 = this.state,\n                layers = _state3.layers,\n                whichLayer = _state3.whichLayer;\n\n            layers = layers.map(function (elt) {\n                if (whichLayer === elt.id) {\n                    elt.firstSpotHit = flag;\n                }\n                return elt;\n            });\n\n            this.setState({\n                layers: layers\n            });\n        }\n\n        // end 对某个 layer 的修改\n\n    }, {\n        key: 'mark',\n        value: function mark() {\n            var _props = this.props,\n                layersData = _props.layersData,\n                curtTag = _props.curtTag;\n\n            if (!curtTag) return;\n\n            var _props2 = this.props,\n                addSpot = _props2.addSpot,\n                closeLine = _props2.closeLine;\n\n\n            var layer = layersData[curtTag];\n\n            if (layer.closed) return;\n\n            if (layer.firstSpotHit) {\n                closeLine(curtTag);\n            } else {\n                var _getPointerPosition = this.getPointerPosition(),\n                    x = _getPointerPosition.x,\n                    y = _getPointerPosition.y;\n\n                addSpot(x, y, this.calcParm, curtTag);\n            }\n        }\n    }, {\n        key: 'markBack',\n        value: function markBack() {\n            var _state4 = this.state,\n                layersData = _state4.layersData,\n                layers = _state4.layers;\n\n\n            var layer = layers[whichLayer];\n\n            if (layer.closed) return;\n\n            if (layer.firstSpotHit) {\n                this.closeLine();\n            } else {\n                var _getPointerPosition2 = this.getPointerPosition(),\n                    x = _getPointerPosition2.x,\n                    y = _getPointerPosition2.y;\n\n                this.addSpot(x, y);\n            }\n\n            console.log(layer.actualPoints);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            // console.log(nextProps);\n            // this.imgObj.src = nextProps.photoData.src;\n            // let {url} = nextProps.photoData;\n            // let imgObj = new window.Image();\n            //\n            // imgObj.onload = ()=>{\n            //     this.setState({\n            //         image: imgObj\n            //     })\n            // }\n            //\n            // imgObj.src = url;\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            // let {stageContainer, stage} = this.refs;\n            //\n            // let {offsetWidth, offsetHeight} = stageContainer;\n            //\n            // let {stageWidth, stageHeight} = this;\n            //\n            // let fixStage = this.fixStage = () => fitStageIntoParentContainer(stageContainer, stageWidth, stageHeight, stage);\n\n            // fixStage();\n\n            // window.addEventListener('resize', fixStage);\n\n            // 加载图片\n\n            // imgObj.src = url;\n\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            // window.removeEventListener(\"resize\", this.fixStage);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n\n            // console.log(this.props);\n            var _props3 = this.props,\n                layersData = _props3.layersData,\n                image = _props3.image,\n                addSpot = _props3.addSpot,\n                closeLine = _props3.closeLine,\n                fixFirstSpotHit = _props3.fixFirstSpotHit,\n                curtTag = _props3.curtTag;\n\n\n            var layerComp = null;\n\n            console.log(this.props, 'curtTag');\n\n            if (curtTag) {\n                var layer = layersData[curtTag];\n\n                var points = layer.points,\n                    fill = layer.fill,\n                    closed = layer.closed,\n                    id = layer.id;\n\n\n                layerComp = React.createElement(_PaintingLayer2.default, {\n                    points: points,\n                    fill: fill,\n                    closed: closed,\n                    id: id,\n                    fixFirstSpotHit: fixFirstSpotHit,\n                    curtTag: curtTag\n                });\n            }\n\n            var stageWidth = this.stageWidth,\n                stageHeight = this.stageHeight;\n\n\n            var bodyInfo = { x: 0, y: 0, width: 0, height: 0 };\n\n            if (image) {\n                var imgWidth = image.width,\n                    imgHeight = image.height;\n\n                var _drawImgCenter = (0, _KonvaUtil.drawImgCenter)(imgWidth, imgHeight, stageWidth, stageHeight),\n                    x = _drawImgCenter.x,\n                    y = _drawImgCenter.y,\n                    w = _drawImgCenter.w,\n                    h = _drawImgCenter.h,\n                    scale = _drawImgCenter.scale;\n\n                bodyInfo = { x: x, y: y, width: w, height: h };\n\n                this.calcParm = { x: x, y: y, scale: scale };\n            }\n\n            return React.createElement(\n                'div',\n                {\n                    ref: 'stageContainer',\n                    className: 'stageContainer',\n                    style: { width: '100%', height: '100%' }\n                },\n                React.createElement(\n                    Stage,\n                    _extends({\n                        onClick: this.mark,\n                        ref: 'stage'\n                    }, {\n                        width: stageWidth,\n                        height: stageHeight\n                    }),\n                    _jsx(Layer, {}, void 0, React.createElement(Image, _extends({}, bodyInfo, {\n                        image: image,\n                        stroke: 'red',\n                        strokeWidth: 4\n                    }))),\n                    layerComp\n                )\n            );\n        }\n    }]);\n\n    return PaintingGroup;\n}(Component);\n\nexports.default = PaintingGroup;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(26), __webpack_require__(5)[\"Component\"], __webpack_require__(5)))\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.redoAPoint = redoAPoint;\n\n\nvar UNDO = \"CANCLE_A_POINT\";\nvar NEXT = \"REDO_A_POINT\";\n\nfunction redoAPoint(layerID) {\n    return {\n        type: UNDO,\n        layerID: layerID\n    };\n}\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nexports.default = Img;\n\nfunction switchPhoto(id, cb) {}\n\nfunction Img(_ref) {\n    var url = _ref.url,\n        photo = _ref.photo,\n        active = _ref.active,\n        switchPhoto = _ref.switchPhoto;\n\n    var inActive = active ? 'active' : '';\n    return _jsx('div', {\n        className: 'col-lg-1 col-md-1 col-sm-2 col-xs-3'\n    }, void 0, _jsx('div', {\n        className: 'thumbnail ' + inActive,\n        onClick: function onClick(ev) {\n            switchPhoto(photo);\n        }\n    }, void 0, _jsx('img', {\n        src: photo.url\n    })));\n}\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nexports.default = Tag;\n\nvar _style = __webpack_require__(62);\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Tag(_ref) {\n    var id = _ref.id,\n        tagName = _ref.tagName,\n        curtPhotoID = _ref.curtPhotoID,\n        switchTag = _ref.switchTag,\n        active = _ref.active;\n\n\n    return _jsx('div', {\n        className: active ? _style2.default.active : '',\n        onClick: function onClick(ev) {\n            return switchTag(curtPhotoID, id);\n        }\n    }, void 0, tagName);\n}\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _redux = __webpack_require__(8);\n\nvar _BoardRedux = __webpack_require__(27);\n\nvar _BoardRedux2 = _interopRequireDefault(_BoardRedux);\n\nvar _PhotoGalleryRedux = __webpack_require__(59);\n\nvar _PhotoGalleryRedux2 = _interopRequireDefault(_PhotoGalleryRedux);\n\nvar _InitPhotosRedux = __webpack_require__(55);\n\nvar _InitPhotosRedux2 = _interopRequireDefault(_InitPhotosRedux);\n\nvar _PropertyRedux = __webpack_require__(60);\n\nvar _PropertyRedux2 = _interopRequireDefault(_PropertyRedux);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// console.log(tagsI);\nexports.default = (0, _redux.combineReducers)({\n    photosData: _InitPhotosRedux2.default,\n    paintingBoard: _BoardRedux2.default,\n    curtPhoto: _PhotoGalleryRedux2.default,\n    tagsBoard: _PropertyRedux2.default\n});\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"showData\":\"showData--PNnx9g\"};\n\n/***/ }),\n\n/***/ 236:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"413f775f2ac4d48e64439f197b5f0893.jpg\";\n\n/***/ }),\n\n/***/ 237:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"1ea712b852c55318e5ec47b196370184.png\";\n\n/***/ }),\n\n/***/ 238:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"73ab1e1eb1a92565cfe8cbde2f5b5b7c.png\";\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"06219576c78aa93c32d103614c426a52.png\";\n\n/***/ }),\n\n/***/ 240:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"cddd4e963adae8877c6dc111d3639e72.png\";\n\n/***/ }),\n\n/***/ 241:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"a466ab5e54124699bdfbc5e2ab860792.png\";\n\n/***/ }),\n\n/***/ 242:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"b169f7d8b77d77995fff3876e321f374.png\";\n\n/***/ }),\n\n/***/ 243:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"e7ff8a57e6a7b24c15dfaeadfd774626.png\";\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"0e6b5c2a884da26273eb77bb49d22223.png\";\n\n/***/ }),\n\n/***/ 245:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"48230fb3760d2ec9b04782026836c955.png\";\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"23ec27cc52e0d9af65169aa1b5a4b2b3.png\";\n\n/***/ }),\n\n/***/ 247:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"dee4b063ab12895eb7740d4fd430b1d8.png\";\n\n/***/ }),\n\n/***/ 248:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"79ff1d5c23f59fcc7040e8b9e7b433d2.png\";\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fixFirstSpotHit = exports.closeLine = exports.addSpot = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.addLayer = addLayer;\nexports.default = paintingBoard;\n\nvar _redux = __webpack_require__(8);\n\nvar _KonvaUtil = __webpack_require__(57);\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ADD_LAYER = \"ADD_LAYER\";\nvar UNDO = \"CANCLE_A_POINT\";\nvar NEXT = \"REDO_A_POINT\";\nvar ADD_SPOT = \"ADD_SPOT\";\nvar CLOSE_LINE = \"CLOSE_LINE\";\nvar FIX_HIT = \"FIX_HIT\";\n\n// let initState = {\n//     curtPhotoID: layerGroup\n// };\n\n// layerGroup : {\n//     curtTagID: layer\n// }\n// layer : {\n//\n//     id: 0,\n//     points: [],\n//     actualPoints: [],\n//     fill: null,\n//     closed: false,\n//     firstSpotHit: false\n//\n// }\n\n\nvar initState = {};\n\nfunction addLayer(curtPhotoID, curtTagID) {\n\n    return {\n        type: ADD_LAYER,\n        curtPhotoID: curtPhotoID,\n        curtTagID: curtTagID\n    };\n}\n\nvar addSpot = exports.addSpot = function addSpot(x, y, calcParm, curtTagID) {\n    return function (dispatch, getState) {\n\n        var curtPhotoID = getState().curtPhoto.id;\n\n        dispatch({\n            type: ADD_SPOT,\n            startX: x,\n            startY: y,\n            calcParm: calcParm,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID\n        });\n    };\n};\nvar closeLine = exports.closeLine = function closeLine(curtTagID) {\n    return function (dispatch, getState) {\n        var curtPhotoID = getState().curtPhoto.id;\n        dispatch({\n            type: CLOSE_LINE,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID\n        });\n    };\n};\nvar fixFirstSpotHit = exports.fixFirstSpotHit = function fixFirstSpotHit(flag, curtTagID) {\n    return function (dispatch, getState) {\n        // console.log(flag);\n        var curtPhotoID = getState().curtPhoto.id;\n\n        dispatch({\n            type: FIX_HIT,\n            flag: flag,\n            curtTagID: curtTagID,\n            curtPhotoID: curtPhotoID\n\n        });\n    };\n};\n\nfunction paintingBoard() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n    var action = arguments[1];\n    var type = action.type,\n        curtPhotoID = action.curtPhotoID,\n        curtTagID = action.curtTagID,\n        startX = action.startX,\n        startY = action.startY,\n        calcParm = action.calcParm,\n        flag = action.flag;\n\n\n    var LayerGroup = state[curtPhotoID];\n    if (!LayerGroup) {\n        LayerGroup = {};\n    }\n\n    var layer = LayerGroup[curtTagID];\n\n    switch (type) {\n        case ADD_LAYER:\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, LayerGroup, _defineProperty({}, curtTagID, {\n                id: curtTagID,\n                points: [],\n                actualPoints: [],\n                fill: null,\n                closed: false,\n                firstSpotHit: false\n            }))));\n        case ADD_SPOT:\n            var _getRectToImg = (0, _KonvaUtil.getRectToImg)(startX, startY, calcParm),\n                disW = _getRectToImg.disW,\n                disT = _getRectToImg.disT;\n\n            layer = _extends({}, layer, {\n                points: [].concat(_toConsumableArray(layer.points), [startX, startY]),\n                actualPoints: [].concat(_toConsumableArray(layer.actualPoints), [disW, disT])\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, LayerGroup, _defineProperty({}, curtTagID, layer))));\n\n        case CLOSE_LINE:\n\n            layer = _extends({}, layer, {\n                closed: true,\n                fill: 'rgba(255, 0, 0, 0.3)'\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, LayerGroup, _defineProperty({}, curtTagID, layer))));\n        case FIX_HIT:\n            layer = _extends({}, layer, {\n                firstSpotHit: flag\n            });\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, LayerGroup, _defineProperty({}, curtTagID, layer))));\n\n        case UNDO:\n\n            layers = layers.map(function (elt) {\n                if (elt.id === 0) {\n                    elt.points.pop();\n                    elt.points.pop();\n                    elt.actualPoints.pop();\n                    elt.actualPoints.pop();\n                    elt.closed = false;\n                }\n                return elt;\n            });\n\n            return _extends({}, state, { layers: layers });\n            break;\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addPhotos = addPhotos;\nexports.default = photos;\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar imgArr = [__webpack_require__(236), __webpack_require__(237), __webpack_require__(238), __webpack_require__(239), __webpack_require__(240), __webpack_require__(241), __webpack_require__(242), __webpack_require__(243), __webpack_require__(244), __webpack_require__(245), __webpack_require__(246), __webpack_require__(247), __webpack_require__(248)];\n\n// let imgData = {};\n// imgArr.forEach((elt,i)=>{\n//     imgData[i] = { id: i, url: elt};\n// });\n\nvar imgData = imgArr.map(function (elt, i) {\n    return { id: i, url: elt };\n});\n\nvar initState = [];\n\nvar LOAD_IMAGE = 'LOAD_IMAGE';\n\nfunction addPhotos(imgArr) {\n    return {\n        type: LOAD_IMAGE,\n        imgArr: imgArr\n    };\n}\n\nvar loadImage = exports.loadImage = function loadImage() {\n    return function (dispatch, getState) {\n        if (!getState().curtPhoto.id) {\n            var photo = imgData[0];\n            dispatch({ type: 'SWITCH_PHOTO', photo: photo });\n        }\n        dispatch(addPhotos(imgData));\n    };\n};\n\nfunction photos() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var action = arguments[1];\n    var type = action.type,\n        imgArr = action.imgArr;\n\n    switch (type) {\n        case LOAD_IMAGE:\n            return [].concat(_toConsumableArray(state), _toConsumableArray(imgArr));\n            break;\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fitStageIntoParentContainer = fitStageIntoParentContainer;\nexports.drawImgCenter = drawImgCenter;\nexports.getRectToImg = getRectToImg;\nfunction fitStageIntoParentContainer(container, stageWidth, stageHeight, stage) {\n\n    // now we need to fit stage into parent\n    var containerWidth = container.offsetWidth;\n    // to do this we need to scale the stage\n    var scale = containerWidth / stageWidth;\n    stage.width(stageWidth * scale);\n    stage.height(stageHeight * scale);\n    stage.scale({ x: scale, y: scale });\n    stage.draw();\n}\n\nfunction drawImgCenter(imgW, imgH, cvsW, cvsH) {\n    var scale = imgW / imgH;\n    var res = {};\n\n    // 第一种情况 图片的宽度比高度大\n\n    if (imgW >= imgH) {\n        res.w = Math.min(imgW, cvsW);\n        res.h = res.w / scale;\n        res.x = (cvsW - res.w) / 2;\n        res.y = (cvsH - res.h) / 2;\n        res.scale = imgW / res.w;\n    }\n\n    // 第二种情况 图片的高度比宽度大\n    if (imgW <= imgH) {\n        res.h = Math.min(imgH, cvsH);\n        res.w = res.h * scale;\n        res.x = (cvsW - res.w) / 2;\n        res.y = (cvsH - res.h) / 2;\n        res.scale = imgH / res.h;\n    }\n\n    return res;\n}\n\nfunction getRectToImg(currentX, currentY, result) {\n    var x = result.x,\n        y = result.y,\n        scale = result.scale;\n\n\n    var disW = (currentX - x) * scale;\n    var disT = (currentY - y) * scale;\n\n    return { disW: disW, disT: disT };\n}\n\n/***/ }),\n\n/***/ 58:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(KV, Component, React) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _KV = KV,\n    Image = _KV.Image,\n    Layer = _KV.Layer,\n    Line = _KV.Line,\n    Circle = _KV.Circle;\n\nvar PaintingLayer = function (_Component) {\n    _inherits(PaintingLayer, _Component);\n\n    function PaintingLayer(props) {\n        _classCallCheck(this, PaintingLayer);\n\n        return _possibleConstructorReturn(this, (PaintingLayer.__proto__ || Object.getPrototypeOf(PaintingLayer)).call(this, props));\n    }\n\n    _createClass(PaintingLayer, [{\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                points = _props.points,\n                fill = _props.fill,\n                closed = _props.closed,\n                id = _props.id,\n                curtTag = _props.curtTag,\n                fixFirstSpotHit = _props.fixFirstSpotHit;\n\n\n            var spots = null;\n\n            points.forEach(function (elt, i) {\n\n                if (!spots) {\n                    spots = [];\n                };\n\n                if (i % 2 !== 0) return;\n\n                var x = points[i],\n                    y = points[i + 1];\n\n                var circle = React.createElement(Circle, _extends({\n                    key: i,\n                    onMouseOver: function onMouseOver(ev) {\n                        return i === 0 ? fixFirstSpotHit(true, curtTag) : null;\n                    },\n                    onMouseOut: function onMouseOut(ev) {\n                        return i === 0 ? fixFirstSpotHit(false, curtTag) : null;\n                    }\n\n                }, {\n                    x: x,\n                    y: y,\n                    radius: 4,\n                    fill: 'grey'\n                }));\n\n                spots.push(circle);\n            });\n\n            return _jsx(Layer, {}, void 0, React.createElement(Line, {\n                points: points,\n                stroke: 'blue',\n                strokeWidth: 2,\n                lineJoin: 'round',\n                closed: closed,\n                fill: fill\n            }), spots);\n        }\n    }]);\n\n    return PaintingLayer;\n}(Component);\n\nexports.default = PaintingLayer;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(26), __webpack_require__(5)[\"Component\"], __webpack_require__(5)))\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.switchPhoto = switchPhoto;\nexports.default = curtPhoto;\n\nvar SWITCH_PHOTO = 'SWITCH_PHOTO';\n\nfunction switchPhoto(photo) {\n    return {\n        type: SWITCH_PHOTO,\n        photo: photo\n    };\n}\n// 当前 photo 的 id\nfunction curtPhoto() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n    var type = action.type,\n        photo = action.photo;\n\n\n    switch (type) {\n        case SWITCH_PHOTO:\n            return photo;\n            break;\n\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addTag = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.switchTag = switchTag;\nexports.default = tagsBoard;\n\nvar _redux = __webpack_require__(8);\n\nvar _BoardRedux = __webpack_require__(27);\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar ADD_TAG = 'ADD_TAGSSS';\nvar SWITCH_TAG = 'SWITCH_TAGSSS';\n\nvar initState = {};\n\n// initState: {\n//     curtPhotoID: {\n//         curtTag,\n//         tags\n//     }\n// }\n\n// tag: {\n//     key: elt.id,\n//     tagName:\n// }\n\nvar addTag = exports.addTag = function addTag(curtPhotoID, tag) {\n    return function (dispatch, getStage) {\n        var id = getStage().curtPhoto.id;\n\n\n        dispatch((0, _BoardRedux.addLayer)(id, tag.id));\n\n        dispatch({\n            type: ADD_TAG,\n            curtPhotoID: curtPhotoID,\n            tag: tag\n        });\n    };\n};\n\nfunction switchTag(curtPhotoID, id) {\n    return { type: SWITCH_TAG, curtPhotoID: curtPhotoID, id: id };\n}\n\nfunction tagsBoard() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n    var action = arguments[1];\n    var type = action.type,\n        curtPhotoID = action.curtPhotoID,\n        tag = action.tag,\n        id = action.id;\n\n\n    var tagsGroup = state[curtPhotoID];\n    if (!tagsGroup) {\n        tagsGroup = {};\n    }\n\n    switch (type) {\n        case ADD_TAG:\n            var _tagsGroup = tagsGroup,\n                tags = _tagsGroup.tags;\n\n            if (!tags) {\n                tags = [];\n            }\n\n            var curtTag = null;\n\n            if (!tagsGroup.curtTag) {\n                return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, tagsGroup, {\n                    tags: [tag].concat(_toConsumableArray(tags)),\n                    curtTag: tag.id\n                })));\n            }\n\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, tagsGroup, { tags: [tag].concat(_toConsumableArray(tags)) })));\n\n        case SWITCH_TAG:\n            return _extends({}, state, _defineProperty({}, curtPhotoID, _extends({}, tagsGroup, { curtTag: id })));\n        default:\n            return state;\n    }\n}\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"showData\":\"showData--3-dehD\",\"active\":\"active--37YGhS\"};\n\n/***/ })\n\n},[113]);\n\n\n// WEBPACK FOOTER //\n// app_e79abb25.js","\nimport {connect} from 'react-redux';\nimport {bindActionCreators, combineReducers} from 'redux';\nconst {Stage, Layer, Circle, Line, Image} = KV;\nimport PaintingGroup from './PaintingGroup';\nimport PaintingLayer from './PaintingLayer';\nimport * as actionCreators from './BoardRedux';\n\nclass Board extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            image: null\n        }\n\n    }\n\n    loadImage(url){\n        let imgObj = new window.Image();\n\n        imgObj.onload = ()=>{\n            this.setState({\n                image: imgObj\n            })\n        }\n\n        imgObj.src = url;\n    }\n\n    componentWillReceiveProps(nProps){\n\n        this.loadImage(nProps.curtPhoto.url);\n    }\n\n    componentDidMount(){\n\n    }\n\n    render(){\n\n        let { paintingBoard, curtPhoto, actions, tagsBoard } = this.props;\n\n        let {id: curtPhotoID} = curtPhoto;\n\n        let layersData = paintingBoard[curtPhotoID];\n\n        let PG = null;\n\n        let curtTag = null;\n\n        if(tagsBoard && tagsBoard[curtPhotoID]){\n            curtTag = tagsBoard[curtPhotoID].curtTag;\n        }\n\n        let {image} = this.state;\n\n\n        return (\n            <div\n                className=\"thumbnail img\"\n                ref=\"container\"\n            >\n                <PaintingGroup\n                    {...{\n                        layersData,\n                        curtTag,\n                        image\n                    }}\n                    {...actions}\n                />\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    state => {\n        let {curtPhoto, paintingBoard, photosData, tagsBoard} = state;\n        return {\n            curtPhoto,\n            paintingBoard,\n            photosData,\n            tagsBoard\n        }\n    },\n    dispatch => ({actions: bindActionCreators(actionCreators, dispatch)})\n)(Board);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drawingBoard/Board.js","\nimport {connect} from 'react-redux';\n\nimport * as actionCreators from './FuncButtonsRedux';\n\nclass FuncButtons extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n\n        let {redoAPoint} = this.props;\n        return (\n            <div className=\"btn-group\">\n                {/* <input type=\"button\" className=\"btn btn-danger\" value=\"上传\"/> */}\n                {/* <input\n                    onClick={redoAPoint}\n                type=\"button\" className=\"btn btn-danger\" value=\"上一步\"/> */}\n                {/* <input type=\"button\" className=\"btn btn-danger\" value=\"下一步\"/> */}\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    state=>state,\n    actionCreators\n)(FuncButtons)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/funcButtons/FuncButtons.js","\nimport Img from './Img';\nimport {connect} from 'react-redux';\nimport {combineReducers, bindActionCreators} from 'redux';\nimport * as actions from './PhotoGalleryRedux';\n\nclass PhotoGallery extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n\n        let {photosData, switchPhoto, curtPhoto} = this.props;\n\n        return (\n            <nav className=\"navbar navbar-inverse navbar-static-top\">\n                <div className=\"container imglist\">\n                    <div className=\"btn btn-danger listBtnLeft\">&lt;</div>\n                    <div className=\"row\">\n                        {\n                            photosData.map((photo,i)=>{\n                                return (\n                                    <Img\n                                        {...{\n                                            key: photo.id,\n                                            photo: photo,\n                                            active: curtPhoto.id===photo.id,\n                                            switchPhoto\n                                        }}\n                                    />\n                                )\n                            })\n                        }\n                    </div>\n                    <div className=\"btn btn-danger listBtnRight\">&gt;</div>\n                </div>\n            </nav>\n        );\n    }\n}\n\nexport default connect(\n    state => ({photosData: state.photosData, curtPhoto: state.curtPhoto}),\n    dispatch => bindActionCreators( actions, dispatch)\n)(PhotoGallery)\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/photoGallery/PhotoGallery.js","import S from './style.scss';\nimport {connect} from 'react-redux';\nimport {combineReducers, bindActionCreators} from 'redux';\nimport * as actions from './PropertyRedux';\n\nimport Tag from './tag';\n\nclass Property extends Component{\n    constructor(props){\n        super(props);\n        this.layerName = 0;\n    }\n\n    render(){\n\n        let { tagsBoard, curtPhotoID, addTag, switchTag } = this.props;\n\n\n        let tags = null;\n\n\n        if(tagsBoard && tagsBoard[curtPhotoID]){\n\n            let curtTag = tagsBoard[curtPhotoID].curtTag;\n\n            tags = tagsBoard[curtPhotoID].tags.map(elt=>{\n                return (\n                    <Tag\n                        {...{\n                            key: elt.id,\n                            id: elt.id,\n                            tagName: elt.tagName,\n                            curtPhotoID,\n                            switchTag,\n                            active: curtTag === elt.id\n                        }}\n                    />\n                )\n            });\n        }\n\n        return (\n            <div className={S.showData}>\n                <div\n                    onClick={ev=> {\n                        addTag(curtPhotoID, {id: Math.random(), tagName: `图层:${this.layerName++}`})\n                    }}\n                >新建</div>\n                {tags}\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    state => {\n        let {tagsBoard, curtPhoto} = state;\n        return {\n            tagsBoard, curtPhotoID: curtPhoto.id\n        }\n    },\n    dispatch => bindActionCreators(actions, dispatch)\n)(Property);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/property/Property.js","\n\nexport default class ToolBox extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    render(){\n        return (\n            <div className=\"col-lg-1 col-md-1 col-sm-1 col-xs-1 tool\">\n                <div className=\"list-group\">\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"><span className=\"fa fa-pencil\"></span> <span className=\"hidden-sm hidden-xs\">名称</span></button>\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"><span className=\"fa fa-photo\"></span> <span className=\"hidden-sm hidden-xs\">名称</span></button>\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"><span className=\"fa fa-reorder\"></span> <span className=\"hidden-sm hidden-xs\">名称</span></button>\n                    <button type=\"button\" className=\"list-group-item list-group-item-info\"><span className=\"fa fa-circle-o-notch\"> </span><span className=\"hidden-sm hidden-xs\">名称</span></button>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/toolBox/ToolBox.js","\nimport {createStore, combineReducers, applyMiddleware, compose} from 'redux';\nimport rootReducer from './reducers.js';\nimport thunk from 'redux-thunk';\n\nexport default function configureStore() {\n\n    if(process.env.NODE_ENV==='production'){\n        return createStore(\n            rootReducer,\n            compose(\n                applyMiddleware(thunk)\n            )\n        );\n    }else{\n        return createStore(\n            rootReducer,\n            compose(\n                applyMiddleware(thunk),\n                window.devToolsExtension ? window.devToolsExtension() : f=>f\n            )\n        );\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reduxes/configureStore.js","require('bootstrap/dist/css/bootstrap.min.css');\nrequire('font-awesome/css/font-awesome.min.css');\nrequire('style/main.scss');\nimport {Provider, connect} from 'react-redux';\nimport {bindActionCreators, combineReducers} from 'redux';\nimport configureStore from 'reduxes/configureStore';\n\nimport FuncButtons from 'funcButtons/FuncButtons';\nimport Board from 'drawingBoard/Board';\nimport PhotoGallery from 'photoGallery/PhotoGallery';\nimport ToolBox from 'toolBox/ToolBox';\nimport Property from 'property/Property';\n\nimport {loadImage} from 'reduxes/InitPhotosRedux';\n\nlet store = configureStore();\n\n\nclass App extends Component{\n    constructor(props){\n        super(props);\n    }\n\n    componentDidMount(){\n        let {loadImage }  = this.props.actions;\n        loadImage();\n    }\n\n    render(){\n\n        let {photosData, actions, curtPhoto} = this.props;\n        console.log(curtPhoto, 'curtPhoto');\n        let { loadImage } = actions;\n\n        return (\n            <div className=\"appRoot\">\n\n                <PhotoGallery/>\n                <div className=\"container-fluid height\">\n                    <div className=\"row height\">\n                        <ToolBox/>\n                        <div className=\"col-lg-11 col-md-11 col-sm-11 col-xs-11 height\">\n                            <Board/>\n                            <FuncButtons/>\n                        </div>\n                        <Property\n                            {...{\n                                curtPhotoID: curtPhoto.id\n                            }}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nApp = connect(\n    state => state,\n    dispatch => ({actions: bindActionCreators({loadImage}, dispatch)})\n)(App)\n\nReactDOM.render(\n    <Provider\n        store={store}\n    >\n        <App/>\n    </Provider>\n    ,\n    document.getElementById('root')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","import S from './style.scss';\nimport {connect} from 'react-redux';\nlet {Stage, Layer, Circle, Line, Image} = KV;\nimport {\n    fitStageIntoParentContainer,\n    drawImgCenter,\n    getRectToImg\n} from 'util/KonvaUtil';\nimport PaintingLayer from './PaintingLayer';\nimport * as actionCreators from './BoardRedux';\n\nexport default class PaintingGroup extends Component{\n    constructor(props){\n        super(props);\n\n        this.state = {\n            image: null\n        }\n\n        this.stageWidth = 760;\n        this.stageHeight = 500;\n\n\n\n        this.calcParm = {};\n\n        this.getPointerPosition = this.getPointerPosition.bind(this);\n        this.mark = this.mark.bind(this);\n        this.addSpot = this.addSpot.bind(this);\n        this.closeLine = this.closeLine.bind(this);\n        this.fixFirstSpotHit = this.fixFirstSpotHit.bind(this);\n    }\n\n    getPointerPosition(){\n\n        return this.refs.stage.getStage().getPointerPosition();\n    }\n    // 对某个 layer 的修改\n    addSpot(x, y){\n        let {layers, whichLayer} = this.state;\n\n        let {disW, disT} = getRectToImg(x, y, this.calcParm);\n\n        layers = layers.map(elt=>{\n            if(whichLayer===elt.id){\n                elt.points = [...elt.points, x, y];\n                elt.actualPoints = [...elt.actualPoints, disW, disT];\n            }\n            return elt;\n        });\n\n        this.setState({\n            layers\n        });\n    }\n\n    closeLine(){\n        let {layers, whichLayer} = this.state;\n        layers = layers.map(elt=>{\n            if(whichLayer===elt.id){\n                elt.closed = true;\n            }\n            return elt;\n        });\n\n        this.setState({\n            layers\n        });\n    }\n\n    fixFirstSpotHit(flag){\n        let {layers, whichLayer} = this.state;\n        layers = layers.map(elt=>{\n            if(whichLayer===elt.id){\n                elt.firstSpotHit = flag;\n            }\n            return elt;\n        });\n\n        this.setState({\n            layers\n        });\n    }\n\n    // end 对某个 layer 的修改\n\n    mark(){\n\n        let {layersData, curtTag} = this.props;\n        if(!curtTag) return;\n\n        let {addSpot, closeLine} = this.props;\n\n        let layer = layersData[curtTag];\n\n\n\n\n        if(layer.closed) return;\n\n        if(layer.firstSpotHit){\n            closeLine(curtTag);\n\n        }else{\n\n            let {x,y} = this.getPointerPosition();\n            addSpot(x,y, this.calcParm, curtTag);\n        }\n\n    }\n    markBack(){\n\n        let {layersData, layers} = this.state;\n\n        let layer = layers[whichLayer];\n\n\n\n        if(layer.closed) return;\n\n        if(layer.firstSpotHit){\n            this.closeLine();\n\n        }else{\n\n            let {x,y} = this.getPointerPosition();\n            this.addSpot(x,y)\n        }\n\n        console.log(layer.actualPoints);\n\n    }\n\n    componentWillReceiveProps(nextProps){\n        // console.log(nextProps);\n        // this.imgObj.src = nextProps.photoData.src;\n        // let {url} = nextProps.photoData;\n        // let imgObj = new window.Image();\n        //\n        // imgObj.onload = ()=>{\n        //     this.setState({\n        //         image: imgObj\n        //     })\n        // }\n        //\n        // imgObj.src = url;\n    }\n\n    componentDidMount(){\n        // let {stageContainer, stage} = this.refs;\n        //\n        // let {offsetWidth, offsetHeight} = stageContainer;\n        //\n        // let {stageWidth, stageHeight} = this;\n        //\n        // let fixStage = this.fixStage = () => fitStageIntoParentContainer(stageContainer, stageWidth, stageHeight, stage);\n\n        // fixStage();\n\n        // window.addEventListener('resize', fixStage);\n\n        // 加载图片\n\n        // imgObj.src = url;\n\n    }\n\n    componentWillUnmount(){\n        // window.removeEventListener(\"resize\", this.fixStage);\n    }\n\n    render(){\n\n        // console.log(this.props);\n        let { layersData, image, addSpot, closeLine, fixFirstSpotHit, curtTag} = this.props;\n\n        let layerComp = null;\n\n        console.log(this.props, 'curtTag');\n\n        if(curtTag){\n            let layer = layersData[curtTag];\n\n            let {points, fill, closed, id} = layer;\n\n            layerComp = (\n                <PaintingLayer\n                    {...{\n                        points,\n                        fill: fill,\n                        closed,\n                        id,\n                        fixFirstSpotHit,\n                        curtTag\n                    }}\n\n                />\n            );\n        }\n\n        let {stageWidth, stageHeight} = this;\n\n        let bodyInfo = {x: 0, y: 0, width: 0, height: 0};\n\n        if(image){\n\n            let {width: imgWidth, height: imgHeight} = image;\n\n            let {x, y, w, h, scale} = drawImgCenter(imgWidth, imgHeight, stageWidth, stageHeight);\n            bodyInfo = {x,y,width: w, height: h};\n\n            this.calcParm = {x, y, scale};\n\n        }\n\n\n        return (\n            <div\n                ref=\"stageContainer\"\n                className=\"stageContainer\"\n                style={{width: '100%', height: '100%'}}\n            >\n                <Stage\n                    onClick={this.mark}\n                    ref=\"stage\"\n                    {...{\n                        width: stageWidth,\n                        height: stageHeight\n                    }}\n                >\n                    <Layer>\n                        <Image\n                            {...bodyInfo}\n                            {...{\n                                image,\n                                stroke: 'red',\n                                strokeWidth: 4\n                            }}\n                        />\n                    </Layer>\n                    {layerComp}\n                </Stage>\n\n\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drawingBoard/PaintingGroup.js","\n\nconst UNDO = \"CANCLE_A_POINT\";\nconst NEXT = \"REDO_A_POINT\";\n\nexport function redoAPoint(layerID) {\n    return {\n        type: UNDO,\n        layerID\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/funcButtons/FuncButtonsRedux.js","\nfunction switchPhoto(id, cb) {\n\n}\n\nexport default function Img({url, photo, active, switchPhoto}){\n    let inActive = active ? 'active' : '';\n    return (\n        <div className=\"col-lg-1 col-md-1 col-sm-2 col-xs-3\">\n            <div\n                className={`thumbnail ${inActive}`}\n                onClick={ev=>{switchPhoto(photo)}}\n            >\n                <img src={photo.url}/></div>\n        </div>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/photoGallery/Img.js","\nimport S from './style.scss';\n\nexport default function Tag({id, tagName, curtPhotoID, switchTag, active}){\n\n    return (\n        <div className={active ? S.active : ''}\n            onClick={ev=>switchTag(curtPhotoID, id)}\n        >{tagName}</div>\n    );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/property/tag.js","\nimport {combineReducers} from 'redux';\n\nimport paintingBoard from 'drawingBoard/BoardRedux';\nimport curtPhoto from 'photoGallery/PhotoGalleryRedux';\nimport photosData from './InitPhotosRedux';\nimport tagsBoard from 'property/PropertyRedux';\n// console.log(tagsI);\nexport default combineReducers({\n    photosData,\n    paintingBoard,\n    curtPhoto,\n    tagsBoard\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/reduxes/reducers.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"showData\":\"showData--PNnx9g\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/drawingBoard/style.scss\n// module id = 120\n// module chunks = 0","module.exports = __webpack_public_path__ + \"413f775f2ac4d48e64439f197b5f0893.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/0650.jpg\n// module id = 236\n// module chunks = 0","module.exports = __webpack_public_path__ + \"1ea712b852c55318e5ec47b196370184.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_03.png\n// module id = 237\n// module chunks = 0","module.exports = __webpack_public_path__ + \"73ab1e1eb1a92565cfe8cbde2f5b5b7c.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_05.png\n// module id = 238\n// module chunks = 0","module.exports = __webpack_public_path__ + \"06219576c78aa93c32d103614c426a52.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_07.png\n// module id = 239\n// module chunks = 0","module.exports = __webpack_public_path__ + \"cddd4e963adae8877c6dc111d3639e72.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_09.png\n// module id = 240\n// module chunks = 0","module.exports = __webpack_public_path__ + \"a466ab5e54124699bdfbc5e2ab860792.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_15.png\n// module id = 241\n// module chunks = 0","module.exports = __webpack_public_path__ + \"b169f7d8b77d77995fff3876e321f374.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_16.png\n// module id = 242\n// module chunks = 0","module.exports = __webpack_public_path__ + \"e7ff8a57e6a7b24c15dfaeadfd774626.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_17.png\n// module id = 243\n// module chunks = 0","module.exports = __webpack_public_path__ + \"0e6b5c2a884da26273eb77bb49d22223.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_18.png\n// module id = 244\n// module chunks = 0","module.exports = __webpack_public_path__ + \"48230fb3760d2ec9b04782026836c955.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_23.png\n// module id = 245\n// module chunks = 0","module.exports = __webpack_public_path__ + \"23ec27cc52e0d9af65169aa1b5a4b2b3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_24.png\n// module id = 246\n// module chunks = 0","module.exports = __webpack_public_path__ + \"dee4b063ab12895eb7740d4fd430b1d8.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_25.png\n// module id = 247\n// module chunks = 0","module.exports = __webpack_public_path__ + \"79ff1d5c23f59fcc7040e8b9e7b433d2.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/img/boot_26.png\n// module id = 248\n// module chunks = 0","\nimport {combineReducers} from 'redux';\n\nimport {\n    fitStageIntoParentContainer,\n    drawImgCenter,\n    getRectToImg\n} from 'util/KonvaUtil';\n\nconst ADD_LAYER = \"ADD_LAYER\";\nconst UNDO = \"CANCLE_A_POINT\";\nconst NEXT = \"REDO_A_POINT\";\nconst ADD_SPOT = \"ADD_SPOT\";\nconst CLOSE_LINE = \"CLOSE_LINE\";\nconst FIX_HIT = \"FIX_HIT\";\n\n// let initState = {\n//     curtPhotoID: layerGroup\n// };\n\n// layerGroup : {\n//     curtTagID: layer\n// }\n// layer : {\n//\n//     id: 0,\n//     points: [],\n//     actualPoints: [],\n//     fill: null,\n//     closed: false,\n//     firstSpotHit: false\n//\n// }\n\n\nlet initState = {};\n\nexport function addLayer(curtPhotoID, curtTagID) {\n\n    return {\n        type: ADD_LAYER,\n        curtPhotoID,\n        curtTagID\n    }\n}\n\nexport const addSpot = (x, y, calcParm, curtTagID) => (dispatch, getState)=> {\n\n    let curtPhotoID = getState().curtPhoto.id;\n\n    dispatch({\n        type: ADD_SPOT,\n        startX: x,\n        startY: y,\n        calcParm,\n        curtTagID,\n        curtPhotoID\n    });\n}\nexport const closeLine = (curtTagID) => (dispatch, getState) => {\n    let curtPhotoID = getState().curtPhoto.id;\n    dispatch({\n        type: CLOSE_LINE,\n        curtTagID,\n        curtPhotoID\n    });\n}\nexport const fixFirstSpotHit = (flag, curtTagID) => (dispatch, getState) => {\n    // console.log(flag);\n    let curtPhotoID = getState().curtPhoto.id;\n\n    dispatch({\n        type: FIX_HIT,\n        flag,\n        curtTagID,\n        curtPhotoID\n\n    });\n\n}\n\nexport default function paintingBoard(state=initState, action){\n\n    let {\n        type,\n        curtPhotoID,\n        curtTagID,\n        startX,\n        startY,\n        calcParm,\n        flag\n    } = action;\n\n    let LayerGroup = state[curtPhotoID];\n    if(!LayerGroup){ LayerGroup = {}; }\n\n    let layer = LayerGroup[curtTagID];\n\n    switch (type) {\n        case ADD_LAYER:\n\n            return {...state, ...{\n                [curtPhotoID] : {...LayerGroup, ...{\n                    [curtTagID]: {\n                        id: curtTagID,\n                        points: [],\n                        actualPoints: [],\n                        fill: null,\n                        closed: false,\n                        firstSpotHit: false\n                    }\n                }}\n            }};\n        case ADD_SPOT:\n\n            let {disW, disT} = getRectToImg(startX, startY, calcParm);\n\n            layer = {...layer, ...{\n                points: [...layer.points, startX, startY],\n                actualPoints: [...layer.actualPoints, disW, disT]\n            }}\n\n            return {...state, ...{\n                [curtPhotoID] : {...LayerGroup, ...{\n                    [curtTagID]: layer\n                }\n            }}}\n\n        case CLOSE_LINE:\n\n            layer = {...layer, ...{\n                closed: true,\n                fill: 'rgba(255, 0, 0, 0.3)'\n            }}\n\n            return {...state, ...{\n                [curtPhotoID] : {...LayerGroup, ...{\n                    [curtTagID]: layer\n                }\n            }}}\n        case FIX_HIT:\n            layer = {...layer, ...{\n                firstSpotHit: flag,\n            }}\n\n            return {...state, ...{\n                [curtPhotoID] : {...LayerGroup, ...{\n                    [curtTagID]: layer\n                }\n            }}}\n\n        case UNDO:\n\n            layers = layers.map(elt=>{\n                if(elt.id===0){\n                    elt.points.pop();\n                    elt.points.pop();\n                    elt.actualPoints.pop();\n                    elt.actualPoints.pop();\n                    elt.closed = false;\n                }\n                return elt;\n            });\n\n            return {...state, layers}\n            break;\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drawingBoard/BoardRedux.js","let imgArr = [\n    require(\"img/0650.jpg\"),\n    require(\"img/boot_03.png\"),\n    require(\"img/boot_05.png\"),\n    require(\"img/boot_07.png\"),\n    require(\"img/boot_09.png\"),\n    require(\"img/boot_15.png\"),\n    require(\"img/boot_16.png\"),\n    require(\"img/boot_17.png\"),\n    require(\"img/boot_18.png\"),\n    require(\"img/boot_23.png\"),\n    require(\"img/boot_24.png\"),\n    require(\"img/boot_25.png\"),\n    require(\"img/boot_26.png\")\n\n];\n\n// let imgData = {};\n// imgArr.forEach((elt,i)=>{\n//     imgData[i] = { id: i, url: elt};\n// });\n\nlet imgData = imgArr.map((elt,i)=>({id: i, url: elt}))\n\nlet initState = [];\n\nconst LOAD_IMAGE = 'LOAD_IMAGE';\n\nexport function addPhotos(imgArr) {\n    return {\n        type: LOAD_IMAGE,\n        imgArr\n    }\n}\n\nexport const loadImage = () => (dispatch, getState) =>{\n    if(!getState().curtPhoto.id){\n        let photo = imgData[0];\n        dispatch({type: 'SWITCH_PHOTO', photo});\n    }\n    dispatch(addPhotos(imgData));\n}\n\nexport default function photos(state=[], action) {\n    let {type, imgArr} = action;\n    switch (type) {\n        case LOAD_IMAGE:\n            return [...state, ...imgArr];\n            break;\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/reduxes/InitPhotosRedux.js","\nexport function fitStageIntoParentContainer(container, stageWidth, stageHeight, stage) {\n\n    // now we need to fit stage into parent\n    let containerWidth = container.offsetWidth;\n    // to do this we need to scale the stage\n    let scale = containerWidth / stageWidth;\n    stage.width(stageWidth * scale);\n    stage.height(stageHeight * scale);\n    stage.scale({ x: scale, y: scale });\n    stage.draw();\n}\n\nexport function drawImgCenter(imgW, imgH, cvsW, cvsH){\n    let scale = imgW / imgH;\n    let res = {};\n\n    // 第一种情况 图片的宽度比高度大\n\n    if(imgW >= imgH){\n        res.w = Math.min(imgW, cvsW);\n        res.h = res.w / scale;\n        res.x = (cvsW - res.w) / 2;\n        res.y = (cvsH - res.h) / 2;\n        res.scale = imgW / res.w;\n    }\n\n    // 第二种情况 图片的高度比宽度大\n    if(imgW <= imgH){\n        res.h = Math.min(imgH, cvsH);\n        res.w = res.h * scale;\n        res.x = (cvsW - res.w) / 2;\n        res.y = (cvsH - res.h) / 2;\n        res.scale = imgH / res.h;\n    }\n\n    return res;\n}\n\nexport function getRectToImg(currentX, currentY, result){\n    let {x, y, scale} = result;\n\n    let disW = (currentX - x) * scale;\n    let disT = (currentY - y) * scale;\n\n    return {disW, disT};\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/KonvaUtil.js","\nconst { Image, Layer, Line, Circle } = KV;\n\n\nexport default class PaintingLayer extends Component{\n    constructor(props){\n        super(props);\n\n    }\n\n    render(){\n\n\n        let {points, fill, closed, id, curtTag, fixFirstSpotHit} = this.props;\n\n        let spots = null;\n\n        points.forEach((elt, i)=>{\n\n            if(!spots) { spots = [] };\n\n            if(i%2 !== 0) return;\n\n            let x = points[i],\n                y = points[i+1];\n\n            let circle = (\n                <Circle\n                    key={i}\n                    onMouseOver={\n                        ev=> {\n                            return i===0? fixFirstSpotHit(true,curtTag) : null\n                        }\n                    }\n                    onMouseOut={\n                        ev=> i===0? fixFirstSpotHit(false, curtTag) : null\n                    }\n\n                    {...{\n                        x,\n                        y,\n                        radius: 4,\n                        fill: 'grey'\n                    }}\n                />\n            );\n\n            spots.push(circle);\n        });\n\n        return (\n            <Layer\n            >\n                <Line\n                    {...{\n                        points,\n                        stroke: 'blue',\n                        strokeWidth: 2,\n                        lineJoin: 'round',\n                        closed,\n                        fill\n                    }}\n                />\n                {spots}\n            </Layer>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/drawingBoard/PaintingLayer.js","\nconst SWITCH_PHOTO = 'SWITCH_PHOTO';\n\n\nexport function switchPhoto(photo){\n    return {\n        type : SWITCH_PHOTO,\n        photo\n    }\n}\n// 当前 photo 的 id\nexport default function curtPhoto(state={}, action) {\n\n\n    let {type, photo } = action\n\n    switch (type) {\n        case SWITCH_PHOTO:\n            return photo;\n            break;\n\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/photoGallery/PhotoGalleryRedux.js","import {combineReducers} from 'redux';\nconst ADD_TAG = 'ADD_TAGSSS';\nconst SWITCH_TAG = 'SWITCH_TAGSSS';\nimport {addLayer} from 'drawingBoard/BoardRedux';\nconst initState = {};\n\n// initState: {\n//     curtPhotoID: {\n//         curtTag,\n//         tags\n//     }\n// }\n\n// tag: {\n//     key: elt.id,\n//     tagName:\n// }\n\nexport const addTag = (curtPhotoID, tag) => (dispatch, getStage)=> {\n\n    let {id} = getStage().curtPhoto;\n\n    dispatch(addLayer(id, tag.id));\n\n    dispatch({\n        type: ADD_TAG,\n        curtPhotoID,\n        tag\n    });\n}\n\nexport function switchTag(curtPhotoID,id) {\n    return {type: SWITCH_TAG, curtPhotoID, id}\n}\n\n\nexport default function tagsBoard(state=initState, action){\n    let {type, curtPhotoID, tag, id} = action;\n\n    let tagsGroup = state[curtPhotoID];\n    if(!tagsGroup){\n        tagsGroup = {};\n    }\n\n    switch (type) {\n        case ADD_TAG:\n\n            let {tags} = tagsGroup;\n            if(!tags){\n                tags = [];\n            }\n\n            let curtTag = null;\n\n            if(!tagsGroup.curtTag){\n                return {...state, ...{\n                    [curtPhotoID]: {...tagsGroup, ...{\n                        tags: [tag, ...tags],\n                        curtTag: tag.id\n                    }}\n                }};\n            }\n\n            return {...state, ...{\n                [curtPhotoID]: {...tagsGroup, ...{tags: [tag, ...tags]}}\n            }};\n\n        case SWITCH_TAG:\n            return {...state, ...{\n                [curtPhotoID]: {...tagsGroup, ...{curtTag: id}}\n            }}\n        default:\n            return state;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/property/PropertyRedux.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"showData\":\"showData--3-dehD\",\"active\":\"active--37YGhS\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/property/style.scss\n// module id = 62\n// module chunks = 0"],"sourceRoot":""}