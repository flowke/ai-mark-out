webpackJsonp([0],{104:function(t,e,n){"use strict";(function(t,r,o){function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(13),p=n(8),d=n(114),y=i(d),h=n(58),v=(i(h),n(27)),b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(v),m=t,g=(m.Stage,m.Layer,m.Circle,m.Line,m.Image,function(t){function e(t){a(this,e);var n=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={image:null},n}return c(e,t),f(e,[{key:"loadImage",value:function(t){var e=this,n=new window.Image;n.onload=function(){e.setState({image:n})},n.src=t}},{key:"componentWillReceiveProps",value:function(t){this.loadImage(t.curtPhoto.url)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this.props,e=t.paintingBoard,n=t.curtPhoto,r=t.actions,i=t.tagsBoard,a=n.id,u=e[a],c=null;i&&i[a]&&(c=i[a].curtTag);var f=this.state.image;return o.createElement("div",{className:"thumbnail img",ref:"container"},o.createElement(y.default,l({layersData:u,curtTag:c,image:f},r)))}}]),e}(r));e.default=(0,s.connect)(function(t){return{curtPhoto:t.curtPhoto,paintingBoard:t.paintingBoard,photosData:t.photosData,tagsBoard:t.tagsBoard}},function(t){return{actions:(0,p.bindActionCreators)(b,t)}})(g)}).call(e,n(26),n(5).Component,n(5))},105:function(t,e,n){"use strict";(function(t){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(13),l=n(115),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(l),s=function(t){function e(t){return r(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return i(e,t),u(e,[{key:"render",value:function(){this.props.redoAPoint;return a("div",{className:"btn-group"},void 0)}}]),e}(t);e.default=(0,c.connect)(function(t){return t},f)(s)}).call(e,n(5).Component)},106:function(t,e,n){"use strict";(function(t,r){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(116),f=function(t){return t&&t.__esModule?t:{default:t}}(l),s=n(13),p=n(8),d=n(59),y=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),h=u("div",{className:"btn btn-danger listBtnLeft"},void 0,"<"),v=u("div",{className:"btn btn-danger listBtnRight"},void 0,">"),b=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return a(e,t),c(e,[{key:"render",value:function(){var t=this.props,e=t.photosData,n=t.switchPhoto,o=t.curtPhoto;return u("nav",{className:"navbar navbar-inverse navbar-static-top"},void 0,u("div",{className:"container imglist"},void 0,h,u("div",{className:"row"},void 0,e.map(function(t,e){return r.createElement(f.default,{key:t.id,photo:t,active:o.id===t.id,switchPhoto:n})})),v))}}]),e}(t);e.default=(0,s.connect)(function(t){return{photosData:t.photosData,curtPhoto:t.curtPhoto}},function(t){return(0,p.bindActionCreators)(y,t)})(b)}).call(e,n(5).Component,n(5))},107:function(t,e,n){"use strict";(function(t,r){function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(62),s=o(f),p=n(13),d=n(8),y=n(60),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(y),v=n(117),b=o(v),m=function(t){function e(t){i(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.layerName=0,n}return u(e,t),l(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.tagsBoard,o=e.curtPhotoID,i=e.addTag,a=e.switchTag,u=null;if(n&&n[o]){var l=n[o].curtTag;u=n[o].tags.map(function(t){return r.createElement(b.default,{key:t.id,id:t.id,tagName:t.tagName,curtPhotoID:o,switchTag:a,active:l===t.id})})}return c("div",{className:s.default.showData},void 0,c("div",{onClick:function(e){i(o,{id:Math.random(),tagName:"图层:"+t.layerName++})}},void 0,"新建"),u)}}]),e}(t);e.default=(0,p.connect)(function(t){return{tagsBoard:t.tagsBoard,curtPhotoID:t.curtPhoto.id}},function(t){return(0,d.bindActionCreators)(h,t)})(m)}).call(e,n(5).Component,n(5))},108:function(t,e,n){"use strict";(function(t){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=i("div",{className:"col-lg-1 col-md-1 col-sm-1 col-xs-1 tool"},void 0,i("div",{className:"list-group"},void 0,i("button",{type:"button",className:"list-group-item list-group-item-info"},void 0,i("span",{className:"fa fa-pencil"})," ",i("span",{className:"hidden-sm hidden-xs"},void 0,"名称")),i("button",{type:"button",className:"list-group-item list-group-item-info"},void 0,i("span",{className:"fa fa-photo"})," ",i("span",{className:"hidden-sm hidden-xs"},void 0,"名称")),i("button",{type:"button",className:"list-group-item list-group-item-info"},void 0,i("span",{className:"fa fa-reorder"})," ",i("span",{className:"hidden-sm hidden-xs"},void 0,"名称")),i("button",{type:"button",className:"list-group-item list-group-item-info"},void 0,i("span",{className:"fa fa-circle-o-notch"},void 0," "),i("span",{className:"hidden-sm hidden-xs"},void 0,"名称")))),c=function(t){function e(t){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),a(e,[{key:"render",value:function(){return u}}]),e}(t);e.default=c}).call(e,n(5).Component)},109:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){return(0,i.createStore)(u.default,(0,i.compose)((0,i.applyMiddleware)(l.default)))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n(8),a=n(118),u=r(a),c=n(56),l=r(c)},110:function(t,e){},111:function(t,e){},112:function(t,e){},113:function(t,e,n){"use strict";(function(t,e,r){function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(13),s=n(8),p=n(109),d=o(p),y=n(105),h=o(y),v=n(104),b=o(v),m=n(106),g=o(m),_=n(108),P=o(_),w=n(107),O=o(w),j=n(55);n(110),n(111),n(112);var S=(0,d.default)(),k=c(g.default,{}),T=c(P.default,{}),x=c("div",{className:"col-lg-11 col-md-11 col-sm-11 col-xs-11 height"},void 0,c(b.default,{}),c(h.default,{})),D=function(t){function n(t){return i(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))}return u(n,t),l(n,[{key:"componentDidMount",value:function(){(0,this.props.actions.loadImage)()}},{key:"render",value:function(){var t=this.props,n=(t.photosData,t.actions),r=t.curtPhoto;console.log(r,"curtPhoto");n.loadImage;return c("div",{className:"appRoot"},void 0,k,c("div",{className:"container-fluid height"},void 0,c("div",{className:"row height"},void 0,T,x,e.createElement(O.default,{curtPhotoID:r.id}))))}}]),n}(t);D=(0,f.connect)(function(t){return t},function(t){return{actions:(0,s.bindActionCreators)({loadImage:j.loadImage},t)}})(D),r.render(c(f.Provider,{store:S},void 0,c(D,{})),document.getElementById("root"))}).call(e,n(5).Component,n(5),n(33))},114:function(t,e,n){"use strict";(function(t,r,o){function i(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=n(120),y=(i(d),n(13),n(57)),h=n(58),v=i(h),b=n(27),m=(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(b),t),g=m.Stage,_=m.Layer,P=(m.Circle,m.Line,m.Image),w=function(t){function e(t){u(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={image:null},n.stageWidth=760,n.stageHeight=500,n.calcParm={},n.getPointerPosition=n.getPointerPosition.bind(n),n.mark=n.mark.bind(n),n.addSpot=n.addSpot.bind(n),n.closeLine=n.closeLine.bind(n),n.fixFirstSpotHit=n.fixFirstSpotHit.bind(n),n}return l(e,t),p(e,[{key:"getPointerPosition",value:function(){return this.refs.stage.getStage().getPointerPosition()}},{key:"addSpot",value:function(t,e){var n=this.state,r=n.layers,o=n.whichLayer,i=(0,y.getRectToImg)(t,e,this.calcParm),u=i.disW,c=i.disT;r=r.map(function(n){return o===n.id&&(n.points=[].concat(a(n.points),[t,e]),n.actualPoints=[].concat(a(n.actualPoints),[u,c])),n}),this.setState({layers:r})}},{key:"closeLine",value:function(){var t=this.state,e=t.layers,n=t.whichLayer;e=e.map(function(t){return n===t.id&&(t.closed=!0),t}),this.setState({layers:e})}},{key:"fixFirstSpotHit",value:function(t){var e=this.state,n=e.layers,r=e.whichLayer;n=n.map(function(e){return r===e.id&&(e.firstSpotHit=t),e}),this.setState({layers:n})}},{key:"mark",value:function(){var t=this.props,e=t.layersData,n=t.curtTag;if(n){var r=this.props,o=r.addSpot,i=r.closeLine,a=e[n];if(!a.closed)if(a.firstSpotHit)i(n);else{var u=this.getPointerPosition(),c=u.x,l=u.y;o(c,l,this.calcParm,n)}}}},{key:"markBack",value:function(){var t=this.state,e=(t.layersData,t.layers),n=e[whichLayer];if(!n.closed){if(n.firstSpotHit)this.closeLine();else{var r=this.getPointerPosition(),o=r.x,i=r.y;this.addSpot(o,i)}console.log(n.actualPoints)}}},{key:"componentWillReceiveProps",value:function(t){}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this.props,e=t.layersData,n=t.image,r=(t.addSpot,t.closeLine,t.fixFirstSpotHit),i=t.curtTag,a=null;if(console.log(this.props,"curtTag"),i){var u=e[i],c=u.points,l=u.fill,p=u.closed,d=u.id;a=o.createElement(v.default,{points:c,fill:l,closed:p,id:d,fixFirstSpotHit:r,curtTag:i})}var h=this.stageWidth,b=this.stageHeight,m={x:0,y:0,width:0,height:0};if(n){var w=n.width,O=n.height,j=(0,y.drawImgCenter)(w,O,h,b),S=j.x,k=j.y,T=j.w,x=j.h,D=j.scale;m={x:S,y:k,width:T,height:x},this.calcParm={x:S,y:k,scale:D}}return o.createElement("div",{ref:"stageContainer",className:"stageContainer",style:{width:"100%",height:"100%"}},o.createElement(g,f({onClick:this.mark,ref:"stage"},{width:h,height:b}),s(_,{},void 0,o.createElement(P,f({},m,{image:n,stroke:"red",strokeWidth:4}))),a))}}]),e}(r);e.default=w}).call(e,n(26),n(5).Component,n(5))},115:function(t,e,n){"use strict";function r(t){return{type:o,layerID:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.redoAPoint=r;var o="CANCLE_A_POINT"},116:function(t,e,n){"use strict";function r(t){var e=(t.url,t.photo),n=t.active,r=t.switchPhoto;return o("div",{className:"col-lg-1 col-md-1 col-sm-2 col-xs-3"},void 0,o("div",{className:"thumbnail "+(n?"active":""),onClick:function(t){r(e)}},void 0,o("img",{src:e.url})))}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();e.default=r},117:function(t,e,n){"use strict";function r(t){var e=t.id,n=t.tagName,r=t.curtPhotoID,i=t.switchTag,u=t.active;return o("div",{className:u?a.default.active:"",onClick:function(t){return i(r,e)}},void 0,n)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();e.default=r;var i=n(62),a=function(t){return t&&t.__esModule?t:{default:t}}(i)},118:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),i=n(27),a=r(i),u=n(59),c=r(u),l=n(55),f=r(l),s=n(60),p=r(s);e.default=(0,o.combineReducers)({photosData:f.default,paintingBoard:a.default,curtPhoto:c.default,tagsBoard:p.default})},120:function(t,e){t.exports={showData:"showData--PNnx9g"}},236:function(t,e,n){t.exports=n.p+"413f775f2ac4d48e64439f197b5f0893.jpg"},237:function(t,e,n){t.exports=n.p+"1ea712b852c55318e5ec47b196370184.png"},238:function(t,e,n){t.exports=n.p+"73ab1e1eb1a92565cfe8cbde2f5b5b7c.png"},239:function(t,e,n){t.exports=n.p+"06219576c78aa93c32d103614c426a52.png"},240:function(t,e,n){t.exports=n.p+"cddd4e963adae8877c6dc111d3639e72.png"},241:function(t,e,n){t.exports=n.p+"a466ab5e54124699bdfbc5e2ab860792.png"},242:function(t,e,n){t.exports=n.p+"b169f7d8b77d77995fff3876e321f374.png"},243:function(t,e,n){t.exports=n.p+"e7ff8a57e6a7b24c15dfaeadfd774626.png"},244:function(t,e,n){t.exports=n.p+"0e6b5c2a884da26273eb77bb49d22223.png"},245:function(t,e,n){t.exports=n.p+"48230fb3760d2ec9b04782026836c955.png"},246:function(t,e,n){t.exports=n.p+"23ec27cc52e0d9af65169aa1b5a4b2b3.png"},247:function(t,e,n){t.exports=n.p+"dee4b063ab12895eb7740d4fd430b1d8.png"},248:function(t,e,n){t.exports=n.p+"79ff1d5c23f59fcc7040e8b9e7b433d2.png"},27:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){return{type:l,curtPhotoID:t,curtTagID:e}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments[1],n=e.type,i=e.curtPhotoID,a=e.curtTagID,h=e.startX,v=e.startY,b=e.calcParm,m=e.flag,g=t[i];g||(g={});var _=g[a];switch(n){case l:return u({},t,o({},i,u({},g,o({},a,{id:a,points:[],actualPoints:[],fill:null,closed:!1,firstSpotHit:!1}))));case s:var P=(0,c.getRectToImg)(h,v,b),w=P.disW,O=P.disT;return _=u({},_,{points:[].concat(r(_.points),[h,v]),actualPoints:[].concat(r(_.actualPoints),[w,O])}),u({},t,o({},i,u({},g,o({},a,_))));case p:return _=u({},_,{closed:!0,fill:"rgba(255, 0, 0, 0.3)"}),u({},t,o({},i,u({},g,o({},a,_))));case d:return _=u({},_,{firstSpotHit:m}),u({},t,o({},i,u({},g,o({},a,_))));case f:return layers=layers.map(function(t){return 0===t.id&&(t.points.pop(),t.points.pop(),t.actualPoints.pop(),t.actualPoints.pop(),t.closed=!1),t}),u({},t,{layers:layers});default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.fixFirstSpotHit=e.closeLine=e.addSpot=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.addLayer=i,e.default=a;var c=(n(8),n(57)),l="ADD_LAYER",f="CANCLE_A_POINT",s="ADD_SPOT",p="CLOSE_LINE",d="FIX_HIT",y={};e.addSpot=function(t,e,n,r){return function(o,i){var a=i().curtPhoto.id;o({type:s,startX:t,startY:e,calcParm:n,curtTagID:r,curtPhotoID:a})}},e.closeLine=function(t){return function(e,n){var r=n().curtPhoto.id;e({type:p,curtTagID:t,curtPhotoID:r})}},e.fixFirstSpotHit=function(t,e){return function(n,r){var o=r().curtPhoto.id;n({type:d,flag:t,curtTagID:e,curtPhotoID:o})}}},55:function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){return{type:c,imgArr:t}}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=e.type,o=e.imgArr;switch(n){case c:return[].concat(r(t),r(o));default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.addPhotos=o,e.default=i;var a=[n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248)],u=a.map(function(t,e){return{id:e,url:t}}),c="LOAD_IMAGE";e.loadImage=function(){return function(t,e){if(!e().curtPhoto.id){t({type:"SWITCH_PHOTO",photo:u[0]})}t(o(u))}}},57:function(t,e,n){"use strict";function r(t,e,n,r){var o=t.offsetWidth,i=o/e;r.width(e*i),r.height(n*i),r.scale({x:i,y:i}),r.draw()}function o(t,e,n,r){var o=t/e,i={};return t>=e&&(i.w=Math.min(t,n),i.h=i.w/o,i.x=(n-i.w)/2,i.y=(r-i.h)/2,i.scale=t/i.w),t<=e&&(i.h=Math.min(e,r),i.w=i.h*o,i.x=(n-i.w)/2,i.y=(r-i.h)/2,i.scale=e/i.h),i}function i(t,e,n){var r=n.x,o=n.y,i=n.scale;return{disW:(t-r)*i,disT:(e-o)*i}}Object.defineProperty(e,"__esModule",{value:!0}),e.fitStageIntoParentContainer=r,e.drawImgCenter=o,e.getRectToImg=i},58:function(t,e,n){"use strict";(function(t,n,r){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){var t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(e,n,r,o){var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var u in i)void 0===n[u]&&(n[u]=i[u]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+3];n.children=c}return{$$typeof:t,type:e,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=t,s=(f.Image,f.Layer),p=f.Line,d=f.Circle,y=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return a(e,t),l(e,[{key:"render",value:function(){var t=this.props,e=t.points,n=t.fill,o=t.closed,i=(t.id,t.curtTag),a=t.fixFirstSpotHit,l=null;return e.forEach(function(t,n){if(l||(l=[]),n%2==0){var o=e[n],u=e[n+1],f=r.createElement(d,c({key:n,onMouseOver:function(t){return 0===n?a(!0,i):null},onMouseOut:function(t){return 0===n?a(!1,i):null}},{x:o,y:u,radius:4,fill:"grey"}));l.push(f)}}),u(s,{},void 0,r.createElement(p,{points:e,stroke:"blue",strokeWidth:2,lineJoin:"round",closed:o,fill:n}),l)}}]),e}(n);e.default=y}).call(e,n(26),n(5).Component,n(5))},59:function(t,e,n){"use strict";function r(t){return{type:i,photo:t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.photo;switch(n){case i:return r;default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.switchPhoto=r,e.default=o;var i="SWITCH_PHOTO"},60:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){return{type:f,curtPhotoID:t,id:e}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments[1],n=e.type,i=e.curtPhotoID,a=e.tag,c=e.id,p=t[i];switch(p||(p={}),n){case l:var d=p,y=d.tags;y||(y=[]);return p.curtTag?u({},t,r({},i,u({},p,{tags:[a].concat(o(y))}))):u({},t,r({},i,u({},p,{tags:[a].concat(o(y)),curtTag:a.id})));case f:return u({},t,r({},i,u({},p,{curtTag:c})));default:return t}}Object.defineProperty(e,"__esModule",{value:!0}),e.addTag=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.switchTag=i,e.default=a;var c=(n(8),n(27)),l="ADD_TAGSSS",f="SWITCH_TAGSSS",s={};e.addTag=function(t,e){return function(n,r){var o=r().curtPhoto.id;n((0,c.addLayer)(o,e.id)),n({type:l,curtPhotoID:t,tag:e})}}},62:function(t,e){t.exports={showData:"showData--3-dehD",active:"active--37YGhS"}}},[113]);
//# sourceMappingURL=app_e79abb25.js.map